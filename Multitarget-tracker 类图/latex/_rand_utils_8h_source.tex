\hypertarget{_rand_utils_8h_source}{}\doxysection{Rand\+Utils.\+h}
\label{_rand_utils_8h_source}\index{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/Subsense/RandUtils.h@{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/Subsense/RandUtils.h}}
\mbox{\hyperlink{_rand_utils_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{comment}{/*// gaussian 3x3 pattern, based on 'floor(fspecial('gaussian', 3, 1)*256)'}}
\DoxyCodeLine{4 \textcolor{comment}{static const int s\_nSamplesInitPatternWidth = 3;}}
\DoxyCodeLine{5 \textcolor{comment}{static const int s\_nSamplesInitPatternHeight = 3;}}
\DoxyCodeLine{6 \textcolor{comment}{static const int s\_nSamplesInitPatternTot = 256;}}
\DoxyCodeLine{7 \textcolor{comment}{static const int s\_anSamplesInitPattern[s\_nSamplesInitPatternHeight][s\_nSamplesInitPatternWidth] = \{}}
\DoxyCodeLine{8 \textcolor{comment}{    \{19,    32,    19,\},}}
\DoxyCodeLine{9 \textcolor{comment}{    \{32,    52,    32,\},}}
\DoxyCodeLine{10 \textcolor{comment}{    \{19,    32,    19,\},}}
\DoxyCodeLine{11 \textcolor{comment}{\};*/}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{comment}{// gaussian 7x7 pattern, based on 'floor(fspecial('gaussian',7,2)*512)'}}
\DoxyCodeLine{14 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_a33b97ffe28987a9c567beb883c9273c0}{s\_nSamplesInitPatternWidth}} = 7;}
\DoxyCodeLine{15 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_a60d9aa7bab9ba11bccd05e57d92d2037}{s\_nSamplesInitPatternHeight}} = 7;}
\DoxyCodeLine{16 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_a53d60cda328339b9772323ae1a5d2762}{s\_nSamplesInitPatternTot}} = 512;}
\DoxyCodeLine{17 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_a5d192ea9d1b476e33c9893bce284db42}{s\_anSamplesInitPattern}}[\mbox{\hyperlink{_rand_utils_8h_a60d9aa7bab9ba11bccd05e57d92d2037}{s\_nSamplesInitPatternHeight}}][\mbox{\hyperlink{_rand_utils_8h_a33b97ffe28987a9c567beb883c9273c0}{s\_nSamplesInitPatternWidth}}] = \{}
\DoxyCodeLine{18     \{2,     4,     6,     7,     6,     4,     2,\},}
\DoxyCodeLine{19     \{4,     8,    12,    14,    12,     8,     4,\},}
\DoxyCodeLine{20     \{6,    12,    21,    25,    21,    12,     6,\},}
\DoxyCodeLine{21     \{7,    14,    25,    28,    25,    14,     7,\},}
\DoxyCodeLine{22     \{6,    12,    21,    25,    21,    12,     6,\},}
\DoxyCodeLine{23     \{4,     8,    12,    14,    12,     8,     4,\},}
\DoxyCodeLine{24     \{2,     4,     6,     7,     6,     4,     2,\},}
\DoxyCodeLine{25 \};}
\DoxyCodeLine{26 }
\DoxyCodeLine{28 \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_rand_utils_8h_aad1feb1fa9a8e94c8fac60b9a01e1a5b}{getRandSamplePosition}}(\textcolor{keywordtype}{int}\& x\_sample, \textcolor{keywordtype}{int}\& y\_sample, \textcolor{keyword}{const} \textcolor{keywordtype}{int} x\_orig, \textcolor{keyword}{const} \textcolor{keywordtype}{int} y\_orig, \textcolor{keyword}{const} \textcolor{keywordtype}{int} border, \textcolor{keyword}{const} cv::Size\& imgsize) \{}
\DoxyCodeLine{29     \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = 1+rand()\%\mbox{\hyperlink{_rand_utils_8h_a53d60cda328339b9772323ae1a5d2762}{s\_nSamplesInitPatternTot}};}
\DoxyCodeLine{30     \textcolor{keywordflow}{for}(x\_sample=0; x\_sample<\mbox{\hyperlink{_rand_utils_8h_a33b97ffe28987a9c567beb883c9273c0}{s\_nSamplesInitPatternWidth}}; ++x\_sample) \{}
\DoxyCodeLine{31         \textcolor{keywordflow}{for}(y\_sample=0; y\_sample<\mbox{\hyperlink{_rand_utils_8h_a60d9aa7bab9ba11bccd05e57d92d2037}{s\_nSamplesInitPatternHeight}}; ++y\_sample) \{}
\DoxyCodeLine{32             \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} -\/= \mbox{\hyperlink{_rand_utils_8h_a5d192ea9d1b476e33c9893bce284db42}{s\_anSamplesInitPattern}}[y\_sample][x\_sample];}
\DoxyCodeLine{33             \textcolor{keywordflow}{if}(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}<=0)}
\DoxyCodeLine{34                 \textcolor{keywordflow}{goto} stop;}
\DoxyCodeLine{35         \}}
\DoxyCodeLine{36     \}}
\DoxyCodeLine{37     stop:}
\DoxyCodeLine{38     x\_sample += x\_orig-\/\mbox{\hyperlink{_rand_utils_8h_a33b97ffe28987a9c567beb883c9273c0}{s\_nSamplesInitPatternWidth}}/2;}
\DoxyCodeLine{39     y\_sample += y\_orig-\/\mbox{\hyperlink{_rand_utils_8h_a60d9aa7bab9ba11bccd05e57d92d2037}{s\_nSamplesInitPatternHeight}}/2;}
\DoxyCodeLine{40     \textcolor{keywordflow}{if}(x\_sample<border)}
\DoxyCodeLine{41         x\_sample = border;}
\DoxyCodeLine{42     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(x\_sample>=imgsize.width-\/border)}
\DoxyCodeLine{43         x\_sample = imgsize.width-\/border-\/1;}
\DoxyCodeLine{44     \textcolor{keywordflow}{if}(y\_sample<border)}
\DoxyCodeLine{45         y\_sample = border;}
\DoxyCodeLine{46     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(y\_sample>=imgsize.height-\/border)}
\DoxyCodeLine{47         y\_sample = imgsize.height-\/border-\/1;}
\DoxyCodeLine{48 \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{comment}{// simple 8-\/connected (3x3) neighbors pattern}}
\DoxyCodeLine{51 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_a0db7284fd0bab47ca9b2103882e5e602}{s\_anNeighborPatternSize\_3x3}} = 8;}
\DoxyCodeLine{52 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_ad9ee7972515720a01adc9932d72ebec8}{s\_anNeighborPattern\_3x3}}[8][2] = \{}
\DoxyCodeLine{53     \{-\/1, 1\},  \{ 0, 1\},  \{ 1, 1\},}
\DoxyCodeLine{54     \{-\/1, 0\},            \{ 1, 0\},}
\DoxyCodeLine{55     \{-\/1,-\/1\},  \{ 0,-\/1\},  \{ 1,-\/1\},}
\DoxyCodeLine{56 \};}
\DoxyCodeLine{57 }
\DoxyCodeLine{59 \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_rand_utils_8h_a76b18bef397ed044a6db9e3a63c69f69}{getRandNeighborPosition\_3x3}}(\textcolor{keywordtype}{int}\& x\_neighbor, \textcolor{keywordtype}{int}\& y\_neighbor, \textcolor{keyword}{const} \textcolor{keywordtype}{int} x\_orig, \textcolor{keyword}{const} \textcolor{keywordtype}{int} y\_orig, \textcolor{keyword}{const} \textcolor{keywordtype}{int} border, \textcolor{keyword}{const} cv::Size\& imgsize) \{}
\DoxyCodeLine{60     \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = rand()\%\mbox{\hyperlink{_rand_utils_8h_a0db7284fd0bab47ca9b2103882e5e602}{s\_anNeighborPatternSize\_3x3}};}
\DoxyCodeLine{61     x\_neighbor = x\_orig+\mbox{\hyperlink{_rand_utils_8h_ad9ee7972515720a01adc9932d72ebec8}{s\_anNeighborPattern\_3x3}}[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}][0];}
\DoxyCodeLine{62     y\_neighbor = y\_orig+\mbox{\hyperlink{_rand_utils_8h_ad9ee7972515720a01adc9932d72ebec8}{s\_anNeighborPattern\_3x3}}[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}][1];}
\DoxyCodeLine{63     \textcolor{keywordflow}{if}(x\_neighbor<border)}
\DoxyCodeLine{64         x\_neighbor = border;}
\DoxyCodeLine{65     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(x\_neighbor>=imgsize.width-\/border)}
\DoxyCodeLine{66         x\_neighbor = imgsize.width-\/border-\/1;}
\DoxyCodeLine{67     \textcolor{keywordflow}{if}(y\_neighbor<border)}
\DoxyCodeLine{68         y\_neighbor = border;}
\DoxyCodeLine{69     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(y\_neighbor>=imgsize.height-\/border)}
\DoxyCodeLine{70         y\_neighbor = imgsize.height-\/border-\/1;}
\DoxyCodeLine{71 \}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 \textcolor{comment}{// 5x5 neighbors pattern}}
\DoxyCodeLine{74 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_a86536871a4a87cd80e3fb49ac69a1cc5}{s\_anNeighborPatternSize\_5x5}} = 24;}
\DoxyCodeLine{75 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{_rand_utils_8h_aa16e7805e4a0d2dc4f284cbebd73114a}{s\_anNeighborPattern\_5x5}}[24][2] = \{}
\DoxyCodeLine{76     \{-\/2, 2\},  \{-\/1, 2\},  \{ 0, 2\},  \{ 1, 2\},  \{ 2, 2\},}
\DoxyCodeLine{77     \{-\/2, 1\},  \{-\/1, 1\},  \{ 0, 1\},  \{ 1, 1\},  \{ 2, 1\},}
\DoxyCodeLine{78     \{-\/2, 0\},  \{-\/1, 0\},            \{ 1, 0\},  \{ 2, 0\},}
\DoxyCodeLine{79     \{-\/2,-\/1\},  \{-\/1,-\/1\},  \{ 0,-\/1\},  \{ 1,-\/1\},  \{ 2,-\/1\},}
\DoxyCodeLine{80     \{-\/2,-\/2\},  \{-\/1,-\/2\},  \{ 0,-\/2\},  \{ 1,-\/2\},  \{ 2,-\/2\},}
\DoxyCodeLine{81 \};}
\DoxyCodeLine{82 }
\DoxyCodeLine{84 \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{_rand_utils_8h_adb1e7788e9dbe8cfde588761e96126c1}{getRandNeighborPosition\_5x5}}(\textcolor{keywordtype}{int}\& x\_neighbor, \textcolor{keywordtype}{int}\& y\_neighbor, \textcolor{keyword}{const} \textcolor{keywordtype}{int} x\_orig, \textcolor{keyword}{const} \textcolor{keywordtype}{int} y\_orig, \textcolor{keyword}{const} \textcolor{keywordtype}{int} border, \textcolor{keyword}{const} cv::Size\& imgsize) \{}
\DoxyCodeLine{85     \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = rand()\%\mbox{\hyperlink{_rand_utils_8h_a86536871a4a87cd80e3fb49ac69a1cc5}{s\_anNeighborPatternSize\_5x5}};}
\DoxyCodeLine{86     x\_neighbor = x\_orig+\mbox{\hyperlink{_rand_utils_8h_aa16e7805e4a0d2dc4f284cbebd73114a}{s\_anNeighborPattern\_5x5}}[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}][0];}
\DoxyCodeLine{87     y\_neighbor = y\_orig+\mbox{\hyperlink{_rand_utils_8h_aa16e7805e4a0d2dc4f284cbebd73114a}{s\_anNeighborPattern\_5x5}}[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}][1];}
\DoxyCodeLine{88     \textcolor{keywordflow}{if}(x\_neighbor<border)}
\DoxyCodeLine{89         x\_neighbor = border;}
\DoxyCodeLine{90     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(x\_neighbor>=imgsize.width-\/border)}
\DoxyCodeLine{91         x\_neighbor = imgsize.width-\/border-\/1;}
\DoxyCodeLine{92     \textcolor{keywordflow}{if}(y\_neighbor<border)}
\DoxyCodeLine{93         y\_neighbor = border;}
\DoxyCodeLine{94     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(y\_neighbor>=imgsize.height-\/border)}
\DoxyCodeLine{95         y\_neighbor = imgsize.height-\/border-\/1;}
\DoxyCodeLine{96 \}}

\end{DoxyCode}
