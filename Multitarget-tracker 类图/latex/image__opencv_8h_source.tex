\hypertarget{image__opencv_8h_source}{}\doxysection{image\+\_\+opencv.\+h}
\label{image__opencv_8h_source}\index{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/darknet/src/image\_opencv.h@{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/darknet/src/image\_opencv.h}}
\mbox{\hyperlink{image__opencv_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef IMAGE\_OPENCV\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define IMAGE\_OPENCV\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{image_8h}{image.h}}"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{matrix_8h}{matrix.h}}"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{8 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifdef OPENCV}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{comment}{// declaration}}
\DoxyCodeLine{14 \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}* mat\_cv;}
\DoxyCodeLine{15 \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}* cap\_cv;}
\DoxyCodeLine{16 \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}* write\_cv;}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{comment}{//typedef struct mat\_cv mat\_cv;}}
\DoxyCodeLine{19 \textcolor{comment}{//typedef struct cap\_cv cap\_cv;}}
\DoxyCodeLine{20 \textcolor{comment}{//typedef struct write\_cv write\_cv;}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{comment}{// cv::Mat}}
\DoxyCodeLine{23 mat\_cv *load\_image\_mat\_cv(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename, \textcolor{keywordtype}{int} flag);}
\DoxyCodeLine{24 \mbox{\hyperlink{structimage}{image}} load\_image\_cv(\textcolor{keywordtype}{char} *filename, \textcolor{keywordtype}{int} channels);}
\DoxyCodeLine{25 \mbox{\hyperlink{structimage}{image}} load\_image\_resize(\textcolor{keywordtype}{char} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} c, \mbox{\hyperlink{structimage}{image}} *im);}
\DoxyCodeLine{26 \textcolor{keywordtype}{int} get\_width\_mat(mat\_cv *mat);}
\DoxyCodeLine{27 \textcolor{keywordtype}{int} get\_height\_mat(mat\_cv *mat);}
\DoxyCodeLine{28 \textcolor{keywordtype}{void} release\_mat(mat\_cv **mat);}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{comment}{// IplImage -\/ to delete}}
\DoxyCodeLine{31 \textcolor{comment}{//int get\_width\_cv(mat\_cv *ipl);}}
\DoxyCodeLine{32 \textcolor{comment}{//int get\_height\_cv(mat\_cv *ipl);}}
\DoxyCodeLine{33 \textcolor{comment}{//void release\_ipl(mat\_cv **ipl);}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{comment}{// image-\/to-\/ipl, ipl-\/to-\/image, image\_to\_mat, mat\_to\_image}}
\DoxyCodeLine{36 \textcolor{comment}{//mat\_cv *image\_to\_ipl(image im);           // to delete}}
\DoxyCodeLine{37 \textcolor{comment}{//image ipl\_to\_image(mat\_cv* src\_ptr);    // to delete}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{comment}{// mat\_cv *image\_to\_ipl(image im)}}
\DoxyCodeLine{41 \textcolor{comment}{// image ipl\_to\_image(mat\_cv* src\_ptr)}}
\DoxyCodeLine{42 \textcolor{comment}{// cv::Mat ipl\_to\_mat(IplImage *ipl)}}
\DoxyCodeLine{43 \textcolor{comment}{// IplImage *mat\_to\_ipl(cv::Mat mat)}}
\DoxyCodeLine{44 \textcolor{comment}{// Mat image\_to\_mat(image img)}}
\DoxyCodeLine{45 \textcolor{comment}{// image mat\_to\_image(cv::Mat mat)}}
\DoxyCodeLine{46 \mbox{\hyperlink{structimage}{image}} mat\_to\_image\_cv(mat\_cv *mat);}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{comment}{// Window}}
\DoxyCodeLine{49 \textcolor{keywordtype}{void} create\_window\_cv(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* window\_name, \textcolor{keywordtype}{int} full\_screen, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height);}
\DoxyCodeLine{50 \textcolor{keywordtype}{void} \mbox{\hyperlink{image__opencv_8h_a2accb33fcfcc5e0f72da011e62361eb7}{resize\_window\_cv}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* window\_name, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height);}
\DoxyCodeLine{51 \textcolor{keywordtype}{void} move\_window\_cv(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* window\_name, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}});}
\DoxyCodeLine{52 \textcolor{keywordtype}{void} \mbox{\hyperlink{image__opencv_8h_a3d8d5c1934f3af09d38f2b9404b0e7f7}{destroy\_all\_windows\_cv}}();}
\DoxyCodeLine{53 \textcolor{keywordtype}{int} \mbox{\hyperlink{image__opencv_8h_aa1a9e8d80e490a7abaf9b4dfba27bf6c}{wait\_key\_cv}}(\textcolor{keywordtype}{int} delay);}
\DoxyCodeLine{54 \textcolor{keywordtype}{int} \mbox{\hyperlink{image__opencv_8h_ae1fc8a50817cb8f8c2c288b125ea4702}{wait\_until\_press\_key\_cv}}();}
\DoxyCodeLine{55 \textcolor{keywordtype}{void} make\_window(\textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} fullscreen);}
\DoxyCodeLine{56 \textcolor{keywordtype}{void} show\_image\_cv(\mbox{\hyperlink{structimage}{image}} p, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{57 \textcolor{comment}{//void show\_image\_cv\_ipl(mat\_cv *disp, const char *name);}}
\DoxyCodeLine{58 \textcolor{keywordtype}{void} show\_image\_mat(mat\_cv *mat\_ptr, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{comment}{// Video Writer}}
\DoxyCodeLine{61 write\_cv *create\_video\_writer(\textcolor{keywordtype}{char} *out\_filename, \textcolor{keywordtype}{char} c1, \textcolor{keywordtype}{char} c2, \textcolor{keywordtype}{char} c3, \textcolor{keywordtype}{char} c4, \textcolor{keywordtype}{int} fps, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{int} is\_color);}
\DoxyCodeLine{62 \textcolor{keywordtype}{void} write\_frame\_cv(write\_cv *output\_video\_writer, mat\_cv *mat);}
\DoxyCodeLine{63 \textcolor{keywordtype}{void} release\_video\_writer(write\_cv **output\_video\_writer);}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{comment}{//void *open\_video\_stream(const char *f, int c, int w, int h, int fps);}}
\DoxyCodeLine{67 \textcolor{comment}{//image get\_image\_from\_stream(void *p);}}
\DoxyCodeLine{68 \textcolor{comment}{//image load\_image\_cv(char *filename, int channels);}}
\DoxyCodeLine{69 \textcolor{comment}{//int show\_image\_cv(image im, const char* name, int ms);}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{comment}{// Video Capture}}
\DoxyCodeLine{72 cap\_cv* get\_capture\_video\_stream(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{73 cap\_cv* get\_capture\_webcam(\textcolor{keywordtype}{int} index);}
\DoxyCodeLine{74 \textcolor{keywordtype}{void} release\_capture(cap\_cv* cap);}
\DoxyCodeLine{75 }
\DoxyCodeLine{76 mat\_cv* get\_capture\_frame\_cv(cap\_cv *cap);}
\DoxyCodeLine{77 \textcolor{keywordtype}{int} get\_stream\_fps\_cpp\_cv(cap\_cv *cap);}
\DoxyCodeLine{78 \textcolor{keywordtype}{double} get\_capture\_property\_cv(cap\_cv *cap, \textcolor{keywordtype}{int} property\_id);}
\DoxyCodeLine{79 \textcolor{keywordtype}{double} get\_capture\_frame\_count\_cv(cap\_cv *cap);}
\DoxyCodeLine{80 \textcolor{keywordtype}{int} set\_capture\_property\_cv(cap\_cv *cap, \textcolor{keywordtype}{int} property\_id, \textcolor{keywordtype}{double} value);}
\DoxyCodeLine{81 \textcolor{keywordtype}{int} set\_capture\_position\_frame\_cv(cap\_cv *cap, \textcolor{keywordtype}{int} index);}
\DoxyCodeLine{82 }
\DoxyCodeLine{83 \textcolor{comment}{// ... Video Capture}}
\DoxyCodeLine{84 \mbox{\hyperlink{structimage}{image}} get\_image\_from\_stream\_cpp(cap\_cv *cap);}
\DoxyCodeLine{85 \mbox{\hyperlink{structimage}{image}} get\_image\_from\_stream\_resize(cap\_cv *cap, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} c, mat\_cv** in\_img, \textcolor{keywordtype}{int} dont\_close);}
\DoxyCodeLine{86 \mbox{\hyperlink{structimage}{image}} get\_image\_from\_stream\_letterbox(cap\_cv *cap, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} c, mat\_cv** in\_img, \textcolor{keywordtype}{int} dont\_close);}
\DoxyCodeLine{87 \textcolor{keywordtype}{void} consume\_frame(cap\_cv *cap);}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{comment}{// Image Saving}}
\DoxyCodeLine{90 \textcolor{keywordtype}{void} save\_cv\_png(mat\_cv *img, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{91 \textcolor{keywordtype}{void} save\_cv\_jpg(mat\_cv *img, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{comment}{// Draw Detection}}
\DoxyCodeLine{94 \textcolor{keywordtype}{void} draw\_detections\_cv\_v3(mat\_cv* show\_img, \mbox{\hyperlink{structdetection}{detection}} *dets, \textcolor{keywordtype}{int} num, \textcolor{keywordtype}{float} thresh, \textcolor{keywordtype}{char} **names, \mbox{\hyperlink{structimage}{image}} **alphabet, \textcolor{keywordtype}{int} classes, \textcolor{keywordtype}{int} ext\_output);}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{comment}{// Draw Loss \& Accuracy chart}}
\DoxyCodeLine{97 mat\_cv* draw\_train\_chart(\textcolor{keywordtype}{char} *windows\_name, \textcolor{keywordtype}{float} max\_img\_loss, \textcolor{keywordtype}{int} max\_batches, \textcolor{keywordtype}{int} number\_of\_lines, \textcolor{keywordtype}{int} img\_size, \textcolor{keywordtype}{int} dont\_show, \textcolor{keywordtype}{char}* chart\_path);}
\DoxyCodeLine{98 \textcolor{keywordtype}{void} draw\_train\_loss(\textcolor{keywordtype}{char} *windows\_name, mat\_cv* img, \textcolor{keywordtype}{int} img\_size, \textcolor{keywordtype}{float} avg\_loss, \textcolor{keywordtype}{float} max\_img\_loss, \textcolor{keywordtype}{int} current\_batch, \textcolor{keywordtype}{int} max\_batches,}
\DoxyCodeLine{99     \textcolor{keywordtype}{float} precision, \textcolor{keywordtype}{int} draw\_precision, \textcolor{keywordtype}{char} *accuracy\_name, \textcolor{keywordtype}{float} contr\_acc, \textcolor{keywordtype}{int} dont\_show, \textcolor{keywordtype}{int} mjpeg\_port, \textcolor{keywordtype}{double} time\_remaining);}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{comment}{// Data augmentation}}
\DoxyCodeLine{102 \mbox{\hyperlink{structimage}{image}} image\_data\_augmentation(mat\_cv* mat, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h,}
\DoxyCodeLine{103     \textcolor{keywordtype}{int} pleft, \textcolor{keywordtype}{int} ptop, \textcolor{keywordtype}{int} swidth, \textcolor{keywordtype}{int} sheight, \textcolor{keywordtype}{int} flip,}
\DoxyCodeLine{104     \textcolor{keywordtype}{float} dhue, \textcolor{keywordtype}{float} dsat, \textcolor{keywordtype}{float} dexp,}
\DoxyCodeLine{105     \textcolor{keywordtype}{int} gaussian\_noise, \textcolor{keywordtype}{int} blur, \textcolor{keywordtype}{int} num\_boxes, \textcolor{keywordtype}{int} truth\_size, \textcolor{keywordtype}{float} *truth);}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{comment}{// blend two images with (alpha and beta)}}
\DoxyCodeLine{108 \textcolor{keywordtype}{void} blend\_images\_cv(\mbox{\hyperlink{structimage}{image}} new\_img, \textcolor{keywordtype}{float} alpha, \mbox{\hyperlink{structimage}{image}} old\_img, \textcolor{keywordtype}{float} beta);}
\DoxyCodeLine{109 }
\DoxyCodeLine{110 \textcolor{comment}{// bilateralFilter bluring}}
\DoxyCodeLine{111 \mbox{\hyperlink{structimage}{image}} blur\_image(\mbox{\hyperlink{structimage}{image}} src\_img, \textcolor{keywordtype}{int} ksize);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 \textcolor{comment}{// draw objects for Adversarial attacks}}
\DoxyCodeLine{114 \textcolor{keywordtype}{void} cv\_draw\_object(\mbox{\hyperlink{structimage}{image}} sized, \textcolor{keywordtype}{float} *truth\_cpu, \textcolor{keywordtype}{int} max\_boxes, \textcolor{keywordtype}{int} num\_truth, \textcolor{keywordtype}{int} *it\_num\_set, \textcolor{keywordtype}{float} *lr\_set, \textcolor{keywordtype}{int} *boxonly, \textcolor{keywordtype}{int} classes, \textcolor{keywordtype}{char} **names);}
\DoxyCodeLine{115 }
\DoxyCodeLine{116 \textcolor{comment}{// Show Anchors}}
\DoxyCodeLine{117 \textcolor{keywordtype}{void} show\_acnhors(\textcolor{keywordtype}{int} number\_of\_boxes, \textcolor{keywordtype}{int} num\_of\_clusters, \textcolor{keywordtype}{float} *rel\_width\_height\_array, \mbox{\hyperlink{structmodel}{model}} anchors\_data, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height);}
\DoxyCodeLine{118 }
\DoxyCodeLine{119 \textcolor{keywordtype}{void} \mbox{\hyperlink{image__opencv_8h_a6ae6ba38074d9a7322f2d456757091d0}{show\_opencv\_info}}();}
\DoxyCodeLine{120 }
\DoxyCodeLine{121 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// OPENCV}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123 \textcolor{keywordtype}{void} \mbox{\hyperlink{image__opencv_8h_a6ae6ba38074d9a7322f2d456757091d0}{show\_opencv\_info}}();}
\DoxyCodeLine{124 \textcolor{keywordtype}{int} \mbox{\hyperlink{image__opencv_8h_aa1a9e8d80e490a7abaf9b4dfba27bf6c}{wait\_key\_cv}}(\textcolor{keywordtype}{int} delay);}
\DoxyCodeLine{125 \textcolor{keywordtype}{int} \mbox{\hyperlink{image__opencv_8h_ae1fc8a50817cb8f8c2c288b125ea4702}{wait\_until\_press\_key\_cv}}();}
\DoxyCodeLine{126 \textcolor{keywordtype}{void} \mbox{\hyperlink{image__opencv_8h_a3d8d5c1934f3af09d38f2b9404b0e7f7}{destroy\_all\_windows\_cv}}();}
\DoxyCodeLine{127 \textcolor{keywordtype}{void} \mbox{\hyperlink{image__opencv_8h_a2accb33fcfcc5e0f72da011e62361eb7}{resize\_window\_cv}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* window\_name, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height);}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// OPENCV}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{132 \}}
\DoxyCodeLine{133 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{134 }
\DoxyCodeLine{135 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// IMAGE\_OPENCV\_H}}

\end{DoxyCode}
