\hypertarget{stb__image__write_8h_source}{}\doxysection{stb\+\_\+image\+\_\+write.\+h}
\label{stb__image__write_8h_source}\index{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/darknet/3rdparty/stb/include/stb\_image\_write.h@{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/darknet/3rdparty/stb/include/stb\_image\_write.h}}
\mbox{\hyperlink{stb__image__write_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/* stb\_image\_write -\/ v1.07 -\/ public domain -\/ http://nothings.org/stb/stb\_image\_write.h}}
\DoxyCodeLine{2 \textcolor{comment}{   writes out PNG/BMP/TGA/JPEG/HDR images to C stdio -\/ Sean Barrett 2010-\/2015}}
\DoxyCodeLine{3 \textcolor{comment}{                                     no warranty implied; use at your own risk}}
\DoxyCodeLine{4 \textcolor{comment}{}}
\DoxyCodeLine{5 \textcolor{comment}{   Before \#including,}}
\DoxyCodeLine{6 \textcolor{comment}{}}
\DoxyCodeLine{7 \textcolor{comment}{       \#define STB\_IMAGE\_WRITE\_IMPLEMENTATION}}
\DoxyCodeLine{8 \textcolor{comment}{}}
\DoxyCodeLine{9 \textcolor{comment}{   in the file that you want to have the implementation.}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{   Will probably not work correctly with strict-\/aliasing optimizations.}}
\DoxyCodeLine{12 \textcolor{comment}{}}
\DoxyCodeLine{13 \textcolor{comment}{ABOUT:}}
\DoxyCodeLine{14 \textcolor{comment}{}}
\DoxyCodeLine{15 \textcolor{comment}{   This header file is a library for writing images to C stdio. It could be}}
\DoxyCodeLine{16 \textcolor{comment}{   adapted to write to memory or a general streaming interface; let me know.}}
\DoxyCodeLine{17 \textcolor{comment}{}}
\DoxyCodeLine{18 \textcolor{comment}{   The PNG output is not optimal; it is 20-\/50\% larger than the file}}
\DoxyCodeLine{19 \textcolor{comment}{   written by a decent optimizing implementation. This library is designed}}
\DoxyCodeLine{20 \textcolor{comment}{   for source code compactness and simplicity, not optimal image file size}}
\DoxyCodeLine{21 \textcolor{comment}{   or run-\/time performance.}}
\DoxyCodeLine{22 \textcolor{comment}{}}
\DoxyCodeLine{23 \textcolor{comment}{BUILDING:}}
\DoxyCodeLine{24 \textcolor{comment}{}}
\DoxyCodeLine{25 \textcolor{comment}{   You can \#define STBIW\_ASSERT(x) before the \#include to avoid using assert.h.}}
\DoxyCodeLine{26 \textcolor{comment}{   You can \#define STBIW\_MALLOC(), STBIW\_REALLOC(), and STBIW\_FREE() to replace}}
\DoxyCodeLine{27 \textcolor{comment}{   malloc,realloc,free.}}
\DoxyCodeLine{28 \textcolor{comment}{   You can define STBIW\_MEMMOVE() to replace memmove()}}
\DoxyCodeLine{29 \textcolor{comment}{}}
\DoxyCodeLine{30 \textcolor{comment}{USAGE:}}
\DoxyCodeLine{31 \textcolor{comment}{}}
\DoxyCodeLine{32 \textcolor{comment}{   There are four functions, one for each image file format:}}
\DoxyCodeLine{33 \textcolor{comment}{}}
\DoxyCodeLine{34 \textcolor{comment}{     int stbi\_write\_png(char const *filename, int w, int h, int comp, const void *data, int stride\_in\_bytes);}}
\DoxyCodeLine{35 \textcolor{comment}{     int stbi\_write\_bmp(char const *filename, int w, int h, int comp, const void *data);}}
\DoxyCodeLine{36 \textcolor{comment}{     int stbi\_write\_tga(char const *filename, int w, int h, int comp, const void *data);}}
\DoxyCodeLine{37 \textcolor{comment}{     int stbi\_write\_hdr(char const *filename, int w, int h, int comp, const float *data);}}
\DoxyCodeLine{38 \textcolor{comment}{     int stbi\_write\_jpg(char const *filename, int w, int h, int comp, const float *data);}}
\DoxyCodeLine{39 \textcolor{comment}{}}
\DoxyCodeLine{40 \textcolor{comment}{   There are also four equivalent functions that use an arbitrary write function. You are}}
\DoxyCodeLine{41 \textcolor{comment}{   expected to open/close your file-\/equivalent before and after calling these:}}
\DoxyCodeLine{42 \textcolor{comment}{}}
\DoxyCodeLine{43 \textcolor{comment}{     int stbi\_write\_png\_to\_func(stbi\_write\_func *func, void *context, int w, int h, int comp, const void  *data, int stride\_in\_bytes);}}
\DoxyCodeLine{44 \textcolor{comment}{     int stbi\_write\_bmp\_to\_func(stbi\_write\_func *func, void *context, int w, int h, int comp, const void  *data);}}
\DoxyCodeLine{45 \textcolor{comment}{     int stbi\_write\_tga\_to\_func(stbi\_write\_func *func, void *context, int w, int h, int comp, const void  *data);}}
\DoxyCodeLine{46 \textcolor{comment}{     int stbi\_write\_hdr\_to\_func(stbi\_write\_func *func, void *context, int w, int h, int comp, const float *data);}}
\DoxyCodeLine{47 \textcolor{comment}{     int stbi\_write\_jpg\_to\_func(stbi\_write\_func *func, void *context, int x, int y, int comp, const void *data, int quality);}}
\DoxyCodeLine{48 \textcolor{comment}{}}
\DoxyCodeLine{49 \textcolor{comment}{   where the callback is:}}
\DoxyCodeLine{50 \textcolor{comment}{      void stbi\_write\_func(void *context, void *data, int size);}}
\DoxyCodeLine{51 \textcolor{comment}{}}
\DoxyCodeLine{52 \textcolor{comment}{   You can define STBI\_WRITE\_NO\_STDIO to disable the file variant of these}}
\DoxyCodeLine{53 \textcolor{comment}{   functions, so the library will not use stdio.h at all. However, this will}}
\DoxyCodeLine{54 \textcolor{comment}{   also disable HDR writing, because it requires stdio for formatted output.}}
\DoxyCodeLine{55 \textcolor{comment}{}}
\DoxyCodeLine{56 \textcolor{comment}{   Each function returns 0 on failure and non-\/0 on success.}}
\DoxyCodeLine{57 \textcolor{comment}{}}
\DoxyCodeLine{58 \textcolor{comment}{   The functions create an image file defined by the parameters. The image}}
\DoxyCodeLine{59 \textcolor{comment}{   is a rectangle of pixels stored from left-\/to-\/right, top-\/to-\/bottom.}}
\DoxyCodeLine{60 \textcolor{comment}{   Each pixel contains 'comp' channels of data stored interleaved with 8-\/bits}}
\DoxyCodeLine{61 \textcolor{comment}{   per channel, in the following order: 1=Y, 2=YA, 3=RGB, 4=RGBA. (Y is}}
\DoxyCodeLine{62 \textcolor{comment}{   monochrome color.) The rectangle is 'w' pixels wide and 'h' pixels tall.}}
\DoxyCodeLine{63 \textcolor{comment}{   The *data pointer points to the first byte of the top-\/left-\/most pixel.}}
\DoxyCodeLine{64 \textcolor{comment}{   For PNG, "{}stride\_in\_bytes"{} is the distance in bytes from the first byte of}}
\DoxyCodeLine{65 \textcolor{comment}{   a row of pixels to the first byte of the next row of pixels.}}
\DoxyCodeLine{66 \textcolor{comment}{}}
\DoxyCodeLine{67 \textcolor{comment}{   PNG creates output files with the same number of components as the input.}}
\DoxyCodeLine{68 \textcolor{comment}{   The BMP format expands Y to RGB in the file format and does not}}
\DoxyCodeLine{69 \textcolor{comment}{   output alpha.}}
\DoxyCodeLine{70 \textcolor{comment}{}}
\DoxyCodeLine{71 \textcolor{comment}{   PNG supports writing rectangles of data even when the bytes storing rows of}}
\DoxyCodeLine{72 \textcolor{comment}{   data are not consecutive in memory (e.g. sub-\/rectangles of a larger image),}}
\DoxyCodeLine{73 \textcolor{comment}{   by supplying the stride between the beginning of adjacent rows. The other}}
\DoxyCodeLine{74 \textcolor{comment}{   formats do not. (Thus you cannot write a native-\/format BMP through the BMP}}
\DoxyCodeLine{75 \textcolor{comment}{   writer, both because it is in BGR order and because it may have padding}}
\DoxyCodeLine{76 \textcolor{comment}{   at the end of the line.)}}
\DoxyCodeLine{77 \textcolor{comment}{}}
\DoxyCodeLine{78 \textcolor{comment}{   HDR expects linear float data. Since the format is always 32-\/bit rgb(e)}}
\DoxyCodeLine{79 \textcolor{comment}{   data, alpha (if provided) is discarded, and for monochrome data it is}}
\DoxyCodeLine{80 \textcolor{comment}{   replicated across all three channels.}}
\DoxyCodeLine{81 \textcolor{comment}{}}
\DoxyCodeLine{82 \textcolor{comment}{   TGA supports RLE or non-\/RLE compressed data. To use non-\/RLE-\/compressed}}
\DoxyCodeLine{83 \textcolor{comment}{   data, set the global variable 'stbi\_write\_tga\_with\_rle' to 0.}}
\DoxyCodeLine{84 \textcolor{comment}{}}
\DoxyCodeLine{85 \textcolor{comment}{   JPEG does ignore alpha channels in input data; quality is between 1 and 100.}}
\DoxyCodeLine{86 \textcolor{comment}{   Higher quality looks better but results in a bigger image.}}
\DoxyCodeLine{87 \textcolor{comment}{   JPEG baseline (no JPEG progressive).}}
\DoxyCodeLine{88 \textcolor{comment}{}}
\DoxyCodeLine{89 \textcolor{comment}{CREDITS:}}
\DoxyCodeLine{90 \textcolor{comment}{}}
\DoxyCodeLine{91 \textcolor{comment}{   PNG/BMP/TGA}}
\DoxyCodeLine{92 \textcolor{comment}{      Sean Barrett}}
\DoxyCodeLine{93 \textcolor{comment}{   HDR}}
\DoxyCodeLine{94 \textcolor{comment}{      Baldur Karlsson}}
\DoxyCodeLine{95 \textcolor{comment}{   TGA monochrome:}}
\DoxyCodeLine{96 \textcolor{comment}{      Jean-\/Sebastien Guay}}
\DoxyCodeLine{97 \textcolor{comment}{   misc enhancements:}}
\DoxyCodeLine{98 \textcolor{comment}{      Tim Kelsey}}
\DoxyCodeLine{99 \textcolor{comment}{   TGA RLE}}
\DoxyCodeLine{100 \textcolor{comment}{      Alan Hickman}}
\DoxyCodeLine{101 \textcolor{comment}{   initial file IO callback implementation}}
\DoxyCodeLine{102 \textcolor{comment}{      Emmanuel Julien}}
\DoxyCodeLine{103 \textcolor{comment}{   JPEG}}
\DoxyCodeLine{104 \textcolor{comment}{      Jon Olick (original jo\_jpeg.cpp code)}}
\DoxyCodeLine{105 \textcolor{comment}{      Daniel Gibson}}
\DoxyCodeLine{106 \textcolor{comment}{   bugfixes:}}
\DoxyCodeLine{107 \textcolor{comment}{      github:Chribba}}
\DoxyCodeLine{108 \textcolor{comment}{      Guillaume Chereau}}
\DoxyCodeLine{109 \textcolor{comment}{      github:jry2}}
\DoxyCodeLine{110 \textcolor{comment}{      github:romigrou}}
\DoxyCodeLine{111 \textcolor{comment}{      Sergio Gonzalez}}
\DoxyCodeLine{112 \textcolor{comment}{      Jonas Karlsson}}
\DoxyCodeLine{113 \textcolor{comment}{      Filip Wasil}}
\DoxyCodeLine{114 \textcolor{comment}{      Thatcher Ulrich}}
\DoxyCodeLine{115 \textcolor{comment}{      github:poppolopoppo}}
\DoxyCodeLine{116 \textcolor{comment}{      Patrick Boettcher}}
\DoxyCodeLine{117 \textcolor{comment}{}}
\DoxyCodeLine{118 \textcolor{comment}{LICENSE}}
\DoxyCodeLine{119 \textcolor{comment}{}}
\DoxyCodeLine{120 \textcolor{comment}{  See end of file for license information.}}
\DoxyCodeLine{121 \textcolor{comment}{}}
\DoxyCodeLine{122 \textcolor{comment}{*/}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 \textcolor{preprocessor}{\#ifndef INCLUDE\_STB\_IMAGE\_WRITE\_H}}
\DoxyCodeLine{125 \textcolor{preprocessor}{\#define INCLUDE\_STB\_IMAGE\_WRITE\_H}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{128 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{129 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{130 }
\DoxyCodeLine{131 \textcolor{preprocessor}{\#ifdef STB\_IMAGE\_WRITE\_STATIC}}
\DoxyCodeLine{132 \textcolor{preprocessor}{\#define STBIWDEF static}}
\DoxyCodeLine{133 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{134 \textcolor{preprocessor}{\#define STBIWDEF extern}}
\DoxyCodeLine{135 \textcolor{keyword}{extern} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a7aa69838d830bd1e917b2a20d2030e0c}{stbi\_write\_tga\_with\_rle}};}
\DoxyCodeLine{136 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{137 }
\DoxyCodeLine{138 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{139 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a9c03e5171f6aea47fde6dafcf3249ccf}{stbi\_write\_png}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} stride\_in\_bytes);}
\DoxyCodeLine{140 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a4f63ec842984e5db3edf2da89f16038e}{stbi\_write\_bmp}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{141 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_ab7a84427c6d7e894090fbeae3bc8f6da}{stbi\_write\_tga}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{142 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a21f22be0194761e08b682ed543ef6161}{stbi\_write\_hdr}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{float} *\mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{143 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a41048e8f918179d2788284ef9cc2590c}{stbi\_write\_jpg}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} quality);}
\DoxyCodeLine{144 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146 \textcolor{keyword}{typedef} \textcolor{keywordtype}{void} \mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}}(\textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} size);}
\DoxyCodeLine{147 }
\DoxyCodeLine{148 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a72dcd18698d64c92082449912c39a4e5}{stbi\_write\_png\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} stride\_in\_bytes);}
\DoxyCodeLine{149 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_aca9573665994b2244a6a045b2a1df1ea}{stbi\_write\_bmp\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{150 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a5e5c6483c1d45a65fe208f52937cd315}{stbi\_write\_tga\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{151 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_ac9214f775162b61a3503c76875966c11}{stbi\_write\_hdr\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_abbfdeb9b425ae9b70088a3d288670867}{w}}, \textcolor{keywordtype}{int} h, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{float} *\mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{152 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_afbe60a9afbcbd6d54f98f72afd46a676}{stbi\_write\_jpg\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}  *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} quality);}
\DoxyCodeLine{153 }
\DoxyCodeLine{154 \textcolor{preprocessor}{\#ifdef \_\_cplusplus}}
\DoxyCodeLine{155 \}}
\DoxyCodeLine{156 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \textcolor{preprocessor}{\#endif}\textcolor{comment}{//INCLUDE\_STB\_IMAGE\_WRITE\_H}}
\DoxyCodeLine{159 }
\DoxyCodeLine{160 \textcolor{preprocessor}{\#ifdef STB\_IMAGE\_WRITE\_IMPLEMENTATION}}
\DoxyCodeLine{161 }
\DoxyCodeLine{162 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{163 \textcolor{preprocessor}{   \#ifndef \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{164 \textcolor{preprocessor}{   \#define \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{165 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{166 \textcolor{preprocessor}{   \#ifndef \_CRT\_NONSTDC\_NO\_DEPRECATE}}
\DoxyCodeLine{167 \textcolor{preprocessor}{   \#define \_CRT\_NONSTDC\_NO\_DEPRECATE}}
\DoxyCodeLine{168 \textcolor{preprocessor}{   \#endif}}
\DoxyCodeLine{169 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{170 }
\DoxyCodeLine{171 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{172 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{173 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{174 }
\DoxyCodeLine{175 \textcolor{preprocessor}{\#include <stdarg.h>}}
\DoxyCodeLine{176 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{177 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{178 \textcolor{preprocessor}{\#include <math.h>}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180 \textcolor{preprocessor}{\#if defined(STBIW\_MALLOC) \&\& defined(STBIW\_FREE) \&\& (defined(STBIW\_REALLOC) || defined(STBIW\_REALLOC\_SIZED))}}
\DoxyCodeLine{181 \textcolor{comment}{// ok}}
\DoxyCodeLine{182 \textcolor{preprocessor}{\#elif !defined(STBIW\_MALLOC) \&\& !defined(STBIW\_FREE) \&\& !defined(STBIW\_REALLOC) \&\& !defined(STBIW\_REALLOC\_SIZED)}}
\DoxyCodeLine{183 \textcolor{comment}{// ok}}
\DoxyCodeLine{184 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{185 \textcolor{preprocessor}{\#error "{}Must define all or none of STBIW\_MALLOC, STBIW\_FREE, and STBIW\_REALLOC (or STBIW\_REALLOC\_SIZED)."{}}}
\DoxyCodeLine{186 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188 \textcolor{preprocessor}{\#ifndef STBIW\_MALLOC}}
\DoxyCodeLine{189 \textcolor{preprocessor}{\#define STBIW\_MALLOC(sz)        malloc(sz)}}
\DoxyCodeLine{190 \textcolor{preprocessor}{\#define STBIW\_REALLOC(p,newsz)  realloc(p,newsz)}}
\DoxyCodeLine{191 \textcolor{preprocessor}{\#define STBIW\_FREE(p)           free(p)}}
\DoxyCodeLine{192 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194 \textcolor{preprocessor}{\#ifndef STBIW\_REALLOC\_SIZED}}
\DoxyCodeLine{195 \textcolor{preprocessor}{\#define STBIW\_REALLOC\_SIZED(p,oldsz,newsz) STBIW\_REALLOC(p,newsz)}}
\DoxyCodeLine{196 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198 }
\DoxyCodeLine{199 \textcolor{preprocessor}{\#ifndef STBIW\_MEMMOVE}}
\DoxyCodeLine{200 \textcolor{preprocessor}{\#define STBIW\_MEMMOVE(a,b,sz) memmove(a,b,sz)}}
\DoxyCodeLine{201 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{202 }
\DoxyCodeLine{203 }
\DoxyCodeLine{204 \textcolor{preprocessor}{\#ifndef STBIW\_ASSERT}}
\DoxyCodeLine{205 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{206 \textcolor{preprocessor}{\#define STBIW\_ASSERT(x) assert(x)}}
\DoxyCodeLine{207 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{208 }
\DoxyCodeLine{209 \textcolor{preprocessor}{\#define STBIW\_UCHAR(x) (unsigned char) ((x) \& 0xff)}}
\DoxyCodeLine{210 }
\DoxyCodeLine{211 \textcolor{keyword}{typedef} \textcolor{keyword}{struct}}
\DoxyCodeLine{212 \{}
\DoxyCodeLine{213    \mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func;}
\DoxyCodeLine{214    \textcolor{keywordtype}{void} *context;}
\DoxyCodeLine{215 \} stbi\_\_write\_context;}
\DoxyCodeLine{216 }
\DoxyCodeLine{217 \textcolor{comment}{// initialize a callback-\/based context}}
\DoxyCodeLine{218 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbi\_\_start\_write\_callbacks(stbi\_\_write\_context *s, \mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *c, \textcolor{keywordtype}{void} *context)}
\DoxyCodeLine{219 \{}
\DoxyCodeLine{220    s-\/>func    = c;}
\DoxyCodeLine{221    s-\/>context = context;}
\DoxyCodeLine{222 \}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{225 }
\DoxyCodeLine{226 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbi\_\_stdio\_write(\textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} size)}
\DoxyCodeLine{227 \{}
\DoxyCodeLine{228    fwrite(\mbox{\hyperlink{structdata}{data}},1,size,(FILE*) context);}
\DoxyCodeLine{229 \}}
\DoxyCodeLine{230 }
\DoxyCodeLine{231 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbi\_\_start\_write\_file(stbi\_\_write\_context *s, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename)}
\DoxyCodeLine{232 \{}
\DoxyCodeLine{233    FILE *\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}} = fopen(filename, \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{234    stbi\_\_start\_write\_callbacks(s, stbi\_\_stdio\_write, (\textcolor{keywordtype}{void} *) \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}});}
\DoxyCodeLine{235    \textcolor{keywordflow}{return} \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}} != NULL;}
\DoxyCodeLine{236 \}}
\DoxyCodeLine{237 }
\DoxyCodeLine{238 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbi\_\_end\_write\_file(stbi\_\_write\_context *s)}
\DoxyCodeLine{239 \{}
\DoxyCodeLine{240    fclose((FILE *)s-\/>context);}
\DoxyCodeLine{241 \}}
\DoxyCodeLine{242 }
\DoxyCodeLine{243 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// !STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{244 }
\DoxyCodeLine{245 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stbiw\_uint32;}
\DoxyCodeLine{246 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} stb\_image\_write\_test[\textcolor{keyword}{sizeof}(stbiw\_uint32)==4 ? 1 : -\/1];}
\DoxyCodeLine{247 }
\DoxyCodeLine{248 \textcolor{preprocessor}{\#ifdef STB\_IMAGE\_WRITE\_STATIC}}
\DoxyCodeLine{249 \textcolor{keyword}{static} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a7aa69838d830bd1e917b2a20d2030e0c}{stbi\_write\_tga\_with\_rle}} = 1;}
\DoxyCodeLine{250 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{251 \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a7aa69838d830bd1e917b2a20d2030e0c}{stbi\_write\_tga\_with\_rle}} = 1;}
\DoxyCodeLine{252 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{253 }
\DoxyCodeLine{254 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_writefv(stbi\_\_write\_context *s, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, va\_list v)}
\DoxyCodeLine{255 \{}
\DoxyCodeLine{256    \textcolor{keywordflow}{while} (*fmt) \{}
\DoxyCodeLine{257       \textcolor{keywordflow}{switch} (*fmt++) \{}
\DoxyCodeLine{258          \textcolor{keywordflow}{case} \textcolor{charliteral}{' '}: \textcolor{keywordflow}{break};}
\DoxyCodeLine{259          \textcolor{keywordflow}{case} \textcolor{charliteral}{'1'}: \{ \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} = STBIW\_UCHAR(va\_arg(v, \textcolor{keywordtype}{int}));}
\DoxyCodeLine{260                      s-\/>func(s-\/>context,\&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}},1);}
\DoxyCodeLine{261                      \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{262          \textcolor{keywordflow}{case} \textcolor{charliteral}{'2'}: \{ \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} = va\_arg(v,\textcolor{keywordtype}{int});}
\DoxyCodeLine{263                      \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} b[2];}
\DoxyCodeLine{264                      b[0] = STBIW\_UCHAR(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}});}
\DoxyCodeLine{265                      b[1] = STBIW\_UCHAR(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}>>8);}
\DoxyCodeLine{266                      s-\/>func(s-\/>context,b,2);}
\DoxyCodeLine{267                      \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{268          \textcolor{keywordflow}{case} \textcolor{charliteral}{'4'}: \{ stbiw\_uint32 \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} = va\_arg(v,\textcolor{keywordtype}{int});}
\DoxyCodeLine{269                      \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} b[4];}
\DoxyCodeLine{270                      b[0]=STBIW\_UCHAR(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}});}
\DoxyCodeLine{271                      b[1]=STBIW\_UCHAR(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}>>8);}
\DoxyCodeLine{272                      b[2]=STBIW\_UCHAR(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}>>16);}
\DoxyCodeLine{273                      b[3]=STBIW\_UCHAR(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}>>24);}
\DoxyCodeLine{274                      s-\/>func(s-\/>context,b,4);}
\DoxyCodeLine{275                      \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{276          \textcolor{keywordflow}{default}:}
\DoxyCodeLine{277             STBIW\_ASSERT(0);}
\DoxyCodeLine{278             \textcolor{keywordflow}{return};}
\DoxyCodeLine{279       \}}
\DoxyCodeLine{280    \}}
\DoxyCodeLine{281 \}}
\DoxyCodeLine{282 }
\DoxyCodeLine{283 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_writef(stbi\_\_write\_context *s, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, ...)}
\DoxyCodeLine{284 \{}
\DoxyCodeLine{285    va\_list v;}
\DoxyCodeLine{286    va\_start(v, fmt);}
\DoxyCodeLine{287    stbiw\_\_writefv(s, fmt, v);}
\DoxyCodeLine{288    va\_end(v);}
\DoxyCodeLine{289 \}}
\DoxyCodeLine{290 }
\DoxyCodeLine{291 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_putc(stbi\_\_write\_context *s, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} c)}
\DoxyCodeLine{292 \{}
\DoxyCodeLine{293    s-\/>func(s-\/>context, \&c, 1);}
\DoxyCodeLine{294 \}}
\DoxyCodeLine{295 }
\DoxyCodeLine{296 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_write3(stbi\_\_write\_context *s, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} a, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} b, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} c)}
\DoxyCodeLine{297 \{}
\DoxyCodeLine{298    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} arr[3];}
\DoxyCodeLine{299    arr[0] = a, arr[1] = b, arr[2] = c;}
\DoxyCodeLine{300    s-\/>func(s-\/>context, arr, 3);}
\DoxyCodeLine{301 \}}
\DoxyCodeLine{302 }
\DoxyCodeLine{303 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_write\_pixel(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} rgb\_dir, \textcolor{keywordtype}{int} comp, \textcolor{keywordtype}{int} write\_alpha, \textcolor{keywordtype}{int} expand\_mono, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}})}
\DoxyCodeLine{304 \{}
\DoxyCodeLine{305    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} bg[3] = \{ 255, 0, 255\}, px[3];}
\DoxyCodeLine{306    \textcolor{keywordtype}{int} k;}
\DoxyCodeLine{307 }
\DoxyCodeLine{308    \textcolor{keywordflow}{if} (write\_alpha < 0)}
\DoxyCodeLine{309       s-\/>func(s-\/>context, \&\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[comp -\/ 1], 1);}
\DoxyCodeLine{310 }
\DoxyCodeLine{311    \textcolor{keywordflow}{switch} (comp) \{}
\DoxyCodeLine{312       \textcolor{keywordflow}{case} 2: \textcolor{comment}{// 2 pixels = mono + alpha, alpha is written separately, so same as 1-\/channel case}}
\DoxyCodeLine{313       \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{314          \textcolor{keywordflow}{if} (expand\_mono)}
\DoxyCodeLine{315             stbiw\_\_write3(s, \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[0], \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[0], \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[0]); \textcolor{comment}{// monochrome bmp}}
\DoxyCodeLine{316          \textcolor{keywordflow}{else}}
\DoxyCodeLine{317             s-\/>func(s-\/>context, \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, 1);  \textcolor{comment}{// monochrome TGA}}
\DoxyCodeLine{318          \textcolor{keywordflow}{break};}
\DoxyCodeLine{319       \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{320          \textcolor{keywordflow}{if} (!write\_alpha) \{}
\DoxyCodeLine{321             \textcolor{comment}{// composite against pink background}}
\DoxyCodeLine{322             \textcolor{keywordflow}{for} (k = 0; k < 3; ++k)}
\DoxyCodeLine{323                px[k] = bg[k] + ((\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[k] -\/ bg[k]) * \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[3]) / 255;}
\DoxyCodeLine{324             stbiw\_\_write3(s, px[1 -\/ rgb\_dir], px[1], px[1 + rgb\_dir]);}
\DoxyCodeLine{325             \textcolor{keywordflow}{break};}
\DoxyCodeLine{326          \}}
\DoxyCodeLine{327          \textcolor{comment}{/* FALLTHROUGH */}}
\DoxyCodeLine{328       \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{329          stbiw\_\_write3(s, \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[1 -\/ rgb\_dir], \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[1], \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[1 + rgb\_dir]);}
\DoxyCodeLine{330          \textcolor{keywordflow}{break};}
\DoxyCodeLine{331    \}}
\DoxyCodeLine{332    \textcolor{keywordflow}{if} (write\_alpha > 0)}
\DoxyCodeLine{333       s-\/>func(s-\/>context, \&\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[comp -\/ 1], 1);}
\DoxyCodeLine{334 \}}
\DoxyCodeLine{335 }
\DoxyCodeLine{336 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_write\_pixels(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} rgb\_dir, \textcolor{keywordtype}{int} vdir, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} write\_alpha, \textcolor{keywordtype}{int} scanline\_pad, \textcolor{keywordtype}{int} expand\_mono)}
\DoxyCodeLine{337 \{}
\DoxyCodeLine{338    stbiw\_uint32 zero = 0;}
\DoxyCodeLine{339    \textcolor{keywordtype}{int} i,j, j\_end;}
\DoxyCodeLine{340 }
\DoxyCodeLine{341    \textcolor{keywordflow}{if} (\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} <= 0)}
\DoxyCodeLine{342       \textcolor{keywordflow}{return};}
\DoxyCodeLine{343 }
\DoxyCodeLine{344    \textcolor{keywordflow}{if} (vdir < 0)}
\DoxyCodeLine{345       j\_end = -\/1, j = \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}-\/1;}
\DoxyCodeLine{346    \textcolor{keywordflow}{else}}
\DoxyCodeLine{347       j\_end =  \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, j = 0;}
\DoxyCodeLine{348 }
\DoxyCodeLine{349    \textcolor{keywordflow}{for} (; j != j\_end; j += vdir) \{}
\DoxyCodeLine{350       \textcolor{keywordflow}{for} (i=0; i < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}; ++i) \{}
\DoxyCodeLine{351          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) \mbox{\hyperlink{structdata}{data}} + (j*\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}+i)*comp;}
\DoxyCodeLine{352          stbiw\_\_write\_pixel(s, rgb\_dir, comp, write\_alpha, expand\_mono, \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}});}
\DoxyCodeLine{353       \}}
\DoxyCodeLine{354       s-\/>func(s-\/>context, \&zero, scanline\_pad);}
\DoxyCodeLine{355    \}}
\DoxyCodeLine{356 \}}
\DoxyCodeLine{357 }
\DoxyCodeLine{358 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbiw\_\_outfile(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} rgb\_dir, \textcolor{keywordtype}{int} vdir, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keywordtype}{int} expand\_mono, \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} alpha, \textcolor{keywordtype}{int} pad, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, ...)}
\DoxyCodeLine{359 \{}
\DoxyCodeLine{360    \textcolor{keywordflow}{if} (\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} < 0 || \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < 0) \{}
\DoxyCodeLine{361       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{362    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{363       va\_list v;}
\DoxyCodeLine{364       va\_start(v, fmt);}
\DoxyCodeLine{365       stbiw\_\_writefv(s, fmt, v);}
\DoxyCodeLine{366       va\_end(v);}
\DoxyCodeLine{367       stbiw\_\_write\_pixels(s,rgb\_dir,vdir,\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}},\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}},comp,\mbox{\hyperlink{structdata}{data}},alpha,pad, expand\_mono);}
\DoxyCodeLine{368       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{369    \}}
\DoxyCodeLine{370 \}}
\DoxyCodeLine{371 }
\DoxyCodeLine{372 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbi\_write\_bmp\_core(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{373 \{}
\DoxyCodeLine{374    \textcolor{keywordtype}{int} pad = (-\/\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*3) \& 3;}
\DoxyCodeLine{375    \textcolor{keywordflow}{return} stbiw\_\_outfile(s,-\/1,-\/1,\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}},\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}},comp,1,(\textcolor{keywordtype}{void} *) \mbox{\hyperlink{structdata}{data}},0,pad,}
\DoxyCodeLine{376            \textcolor{stringliteral}{"{}11 4 22 4"{}} \textcolor{stringliteral}{"{}4 44 22 444444"{}},}
\DoxyCodeLine{377            \textcolor{charliteral}{'B'}, \textcolor{charliteral}{'M'}, 14+40+(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*3+pad)*\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, 0,0, 14+40,  \textcolor{comment}{// file header}}
\DoxyCodeLine{378             40, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}},\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, 1,24, 0,0,0,0,0,0);             \textcolor{comment}{// bitmap header}}
\DoxyCodeLine{379 \}}
\DoxyCodeLine{380 }
\DoxyCodeLine{381 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_aca9573665994b2244a6a045b2a1df1ea}{stbi\_write\_bmp\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{382 \{}
\DoxyCodeLine{383    stbi\_\_write\_context s;}
\DoxyCodeLine{384    stbi\_\_start\_write\_callbacks(\&s, func, context);}
\DoxyCodeLine{385    \textcolor{keywordflow}{return} stbi\_write\_bmp\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{386 \}}
\DoxyCodeLine{387 }
\DoxyCodeLine{388 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{389 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a4f63ec842984e5db3edf2da89f16038e}{stbi\_write\_bmp}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{390 \{}
\DoxyCodeLine{391    stbi\_\_write\_context s;}
\DoxyCodeLine{392    \textcolor{keywordflow}{if} (stbi\_\_start\_write\_file(\&s,filename)) \{}
\DoxyCodeLine{393       \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = stbi\_write\_bmp\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{394       stbi\_\_end\_write\_file(\&s);}
\DoxyCodeLine{395       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{396    \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{397       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{398 \}}
\DoxyCodeLine{399 \textcolor{preprocessor}{\#endif }}
\DoxyCodeLine{400 }
\DoxyCodeLine{401 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbi\_write\_tga\_core(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{402 \{}
\DoxyCodeLine{403    \textcolor{keywordtype}{int} has\_alpha = (comp == 2 || comp == 4);}
\DoxyCodeLine{404    \textcolor{keywordtype}{int} colorbytes = has\_alpha ? comp-\/1 : comp;}
\DoxyCodeLine{405    \textcolor{keywordtype}{int} format = colorbytes < 2 ? 3 : 2; \textcolor{comment}{// 3 color channels (RGB/RGBA) = 2, 1 color channel (Y/YA) = 3}}
\DoxyCodeLine{406 }
\DoxyCodeLine{407    \textcolor{keywordflow}{if} (\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} < 0 || \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < 0)}
\DoxyCodeLine{408       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{409 }
\DoxyCodeLine{410    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{stb__image__write_8h_a7aa69838d830bd1e917b2a20d2030e0c}{stbi\_write\_tga\_with\_rle}}) \{}
\DoxyCodeLine{411       \textcolor{keywordflow}{return} stbiw\_\_outfile(s, -\/1, -\/1, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, 0, (\textcolor{keywordtype}{void} *) \mbox{\hyperlink{structdata}{data}}, has\_alpha, 0,}
\DoxyCodeLine{412          \textcolor{stringliteral}{"{}111 221 2222 11"{}}, 0, 0, format, 0, 0, 0, 0, 0, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, (colorbytes + has\_alpha) * 8, has\_alpha * 8);}
\DoxyCodeLine{413    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{414       \textcolor{keywordtype}{int} i,j,k;}
\DoxyCodeLine{415 }
\DoxyCodeLine{416       stbiw\_\_writef(s, \textcolor{stringliteral}{"{}111 221 2222 11"{}}, 0,0,format+8, 0,0,0, 0,0,\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}},\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, (colorbytes + has\_alpha) * 8, has\_alpha * 8);}
\DoxyCodeLine{417 }
\DoxyCodeLine{418       \textcolor{keywordflow}{for} (j = \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} -\/ 1; j >= 0; -\/-\/j) \{}
\DoxyCodeLine{419           \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *row = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) \mbox{\hyperlink{structdata}{data}} + j * \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} * comp;}
\DoxyCodeLine{420          \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{421 }
\DoxyCodeLine{422          \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}; i += \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) \{}
\DoxyCodeLine{423             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *begin = row + i * comp;}
\DoxyCodeLine{424             \textcolor{keywordtype}{int} diff = 1;}
\DoxyCodeLine{425             \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = 1;}
\DoxyCodeLine{426 }
\DoxyCodeLine{427             \textcolor{keywordflow}{if} (i < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} -\/ 1) \{}
\DoxyCodeLine{428                ++\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{429                diff = memcmp(begin, row + (i + 1) * comp, comp);}
\DoxyCodeLine{430                \textcolor{keywordflow}{if} (diff) \{}
\DoxyCodeLine{431                   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *prev = begin;}
\DoxyCodeLine{432                   \textcolor{keywordflow}{for} (k = i + 2; k < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} \&\& \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} < 128; ++k) \{}
\DoxyCodeLine{433                      \textcolor{keywordflow}{if} (memcmp(prev, row + k * comp, comp)) \{}
\DoxyCodeLine{434                         prev += comp;}
\DoxyCodeLine{435                         ++\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{436                      \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{437                         -\/-\/\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{438                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{439                      \}}
\DoxyCodeLine{440                   \}}
\DoxyCodeLine{441                \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{442                   \textcolor{keywordflow}{for} (k = i + 2; k < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} \&\& \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} < 128; ++k) \{}
\DoxyCodeLine{443                      \textcolor{keywordflow}{if} (!memcmp(begin, row + k * comp, comp)) \{}
\DoxyCodeLine{444                         ++\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{445                      \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{446                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{447                      \}}
\DoxyCodeLine{448                   \}}
\DoxyCodeLine{449                \}}
\DoxyCodeLine{450             \}}
\DoxyCodeLine{451 }
\DoxyCodeLine{452             \textcolor{keywordflow}{if} (diff) \{}
\DoxyCodeLine{453                \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} header = STBIW\_UCHAR(\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} -\/ 1);}
\DoxyCodeLine{454                s-\/>func(s-\/>context, \&header, 1);}
\DoxyCodeLine{455                \textcolor{keywordflow}{for} (k = 0; k < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; ++k) \{}
\DoxyCodeLine{456                   stbiw\_\_write\_pixel(s, -\/1, comp, has\_alpha, 0, begin + k * comp);}
\DoxyCodeLine{457                \}}
\DoxyCodeLine{458             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{459                \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} header = STBIW\_UCHAR(\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} -\/ 129);}
\DoxyCodeLine{460                s-\/>func(s-\/>context, \&header, 1);}
\DoxyCodeLine{461                stbiw\_\_write\_pixel(s, -\/1, comp, has\_alpha, 0, begin);}
\DoxyCodeLine{462             \}}
\DoxyCodeLine{463          \}}
\DoxyCodeLine{464       \}}
\DoxyCodeLine{465    \}}
\DoxyCodeLine{466    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{467 \}}
\DoxyCodeLine{468 }
\DoxyCodeLine{469 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a5e5c6483c1d45a65fe208f52937cd315}{stbi\_write\_tga\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{470 \{}
\DoxyCodeLine{471    stbi\_\_write\_context s;}
\DoxyCodeLine{472    stbi\_\_start\_write\_callbacks(\&s, func, context);}
\DoxyCodeLine{473    \textcolor{keywordflow}{return} stbi\_write\_tga\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, (\textcolor{keywordtype}{void} *) \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{474 \}}
\DoxyCodeLine{475 }
\DoxyCodeLine{476 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{477 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_ab7a84427c6d7e894090fbeae3bc8f6da}{stbi\_write\_tga}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{478 \{}
\DoxyCodeLine{479    stbi\_\_write\_context s;}
\DoxyCodeLine{480    \textcolor{keywordflow}{if} (stbi\_\_start\_write\_file(\&s,filename)) \{}
\DoxyCodeLine{481       \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = stbi\_write\_tga\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, (\textcolor{keywordtype}{void} *) \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{482       stbi\_\_end\_write\_file(\&s);}
\DoxyCodeLine{483       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{484    \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{485       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{486 \}}
\DoxyCodeLine{487 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{488 }
\DoxyCodeLine{489 \textcolor{comment}{// *************************************************************************************************}}
\DoxyCodeLine{490 \textcolor{comment}{// Radiance RGBE HDR writer}}
\DoxyCodeLine{491 \textcolor{comment}{// by Baldur Karlsson}}
\DoxyCodeLine{492 }
\DoxyCodeLine{493 \textcolor{preprocessor}{\#define stbiw\_\_max(a, b)  ((a) > (b) ? (a) : (b))}}
\DoxyCodeLine{494 }
\DoxyCodeLine{495 \textcolor{keywordtype}{void} stbiw\_\_linear\_to\_rgbe(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *rgbe, \textcolor{keywordtype}{float} *linear)}
\DoxyCodeLine{496 \{}
\DoxyCodeLine{497    \textcolor{keywordtype}{int} exponent;}
\DoxyCodeLine{498    \textcolor{keywordtype}{float} maxcomp = stbiw\_\_max(linear[0], stbiw\_\_max(linear[1], linear[2]));}
\DoxyCodeLine{499 }
\DoxyCodeLine{500    \textcolor{keywordflow}{if} (maxcomp < 1e-\/32f) \{}
\DoxyCodeLine{501       rgbe[0] = rgbe[1] = rgbe[2] = rgbe[3] = 0;}
\DoxyCodeLine{502    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{503       \textcolor{keywordtype}{float} normalize = (float) frexp(maxcomp, \&exponent) * 256.0f/maxcomp;}
\DoxyCodeLine{504 }
\DoxyCodeLine{505       rgbe[0] = (\textcolor{keywordtype}{unsigned} char)(linear[0] * normalize);}
\DoxyCodeLine{506       rgbe[1] = (\textcolor{keywordtype}{unsigned} char)(linear[1] * normalize);}
\DoxyCodeLine{507       rgbe[2] = (\textcolor{keywordtype}{unsigned} char)(linear[2] * normalize);}
\DoxyCodeLine{508       rgbe[3] = (\textcolor{keywordtype}{unsigned} char)(exponent + 128);}
\DoxyCodeLine{509    \}}
\DoxyCodeLine{510 \}}
\DoxyCodeLine{511 }
\DoxyCodeLine{512 \textcolor{keywordtype}{void} stbiw\_\_write\_run\_data(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} length, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} databyte)}
\DoxyCodeLine{513 \{}
\DoxyCodeLine{514    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} lengthbyte = STBIW\_UCHAR(length+128);}
\DoxyCodeLine{515    STBIW\_ASSERT(length+128 <= 255);}
\DoxyCodeLine{516    s-\/>func(s-\/>context, \&lengthbyte, 1);}
\DoxyCodeLine{517    s-\/>func(s-\/>context, \&databyte, 1);}
\DoxyCodeLine{518 \}}
\DoxyCodeLine{519 }
\DoxyCodeLine{520 \textcolor{keywordtype}{void} stbiw\_\_write\_dump\_data(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} length, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{521 \{}
\DoxyCodeLine{522    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} lengthbyte = STBIW\_UCHAR(length);}
\DoxyCodeLine{523    STBIW\_ASSERT(length <= 128); \textcolor{comment}{// inconsistent with spec but consistent with official code}}
\DoxyCodeLine{524    s-\/>func(s-\/>context, \&lengthbyte, 1);}
\DoxyCodeLine{525    s-\/>func(s-\/>context, \mbox{\hyperlink{structdata}{data}}, length);}
\DoxyCodeLine{526 \}}
\DoxyCodeLine{527 }
\DoxyCodeLine{528 \textcolor{keywordtype}{void} stbiw\_\_write\_hdr\_scanline(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} ncomp, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *scratch, \textcolor{keywordtype}{float} *scanline)}
\DoxyCodeLine{529 \{}
\DoxyCodeLine{530    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} scanlineheader[4] = \{ 2, 2, 0, 0 \};}
\DoxyCodeLine{531    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} rgbe[4];}
\DoxyCodeLine{532    \textcolor{keywordtype}{float} linear[3];}
\DoxyCodeLine{533    \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}};}
\DoxyCodeLine{534 }
\DoxyCodeLine{535    scanlineheader[2] = (width\&0xff00)>>8;}
\DoxyCodeLine{536    scanlineheader[3] = (width\&0x00ff);}
\DoxyCodeLine{537 }
\DoxyCodeLine{538    \textcolor{comment}{/* skip RLE for images too small or large */}}
\DoxyCodeLine{539    \textcolor{keywordflow}{if} (width < 8 || width >= 32768) \{}
\DoxyCodeLine{540       \textcolor{keywordflow}{for} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}=0; \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < width; \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}++) \{}
\DoxyCodeLine{541          \textcolor{keywordflow}{switch} (ncomp) \{}
\DoxyCodeLine{542             \textcolor{keywordflow}{case} 4: \textcolor{comment}{/* fallthrough */}}
\DoxyCodeLine{543             \textcolor{keywordflow}{case} 3: linear[2] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 2];}
\DoxyCodeLine{544                     linear[1] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 1];}
\DoxyCodeLine{545                     linear[0] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 0];}
\DoxyCodeLine{546                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{547             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{548                     linear[0] = linear[1] = linear[2] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 0];}
\DoxyCodeLine{549                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{550          \}}
\DoxyCodeLine{551          stbiw\_\_linear\_to\_rgbe(rgbe, linear);}
\DoxyCodeLine{552          s-\/>func(s-\/>context, rgbe, 4);}
\DoxyCodeLine{553       \}}
\DoxyCodeLine{554    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{555       \textcolor{keywordtype}{int} c,\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{556       \textcolor{comment}{/* encode into scratch buffer */}}
\DoxyCodeLine{557       \textcolor{keywordflow}{for} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}=0; \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < width; \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}++) \{}
\DoxyCodeLine{558          \textcolor{keywordflow}{switch}(ncomp) \{}
\DoxyCodeLine{559             \textcolor{keywordflow}{case} 4: \textcolor{comment}{/* fallthrough */}}
\DoxyCodeLine{560             \textcolor{keywordflow}{case} 3: linear[2] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 2];}
\DoxyCodeLine{561                     linear[1] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 1];}
\DoxyCodeLine{562                     linear[0] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 0];}
\DoxyCodeLine{563                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{564             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{565                     linear[0] = linear[1] = linear[2] = scanline[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*ncomp + 0];}
\DoxyCodeLine{566                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{567          \}}
\DoxyCodeLine{568          stbiw\_\_linear\_to\_rgbe(rgbe, linear);}
\DoxyCodeLine{569          scratch[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} + width*0] = rgbe[0];}
\DoxyCodeLine{570          scratch[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} + width*1] = rgbe[1];}
\DoxyCodeLine{571          scratch[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} + width*2] = rgbe[2];}
\DoxyCodeLine{572          scratch[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} + width*3] = rgbe[3];}
\DoxyCodeLine{573       \}}
\DoxyCodeLine{574 }
\DoxyCodeLine{575       s-\/>func(s-\/>context, scanlineheader, 4);}
\DoxyCodeLine{576 }
\DoxyCodeLine{577       \textcolor{comment}{/* RLE each component separately */}}
\DoxyCodeLine{578       \textcolor{keywordflow}{for} (c=0; c < 4; c++) \{}
\DoxyCodeLine{579          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *comp = \&scratch[width*c];}
\DoxyCodeLine{580 }
\DoxyCodeLine{581          \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} = 0;}
\DoxyCodeLine{582          \textcolor{keywordflow}{while} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < width) \{}
\DoxyCodeLine{583             \textcolor{comment}{// find first run}}
\DoxyCodeLine{584             \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}};}
\DoxyCodeLine{585             \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}+2 < width) \{}
\DoxyCodeLine{586                \textcolor{keywordflow}{if} (comp[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}] == comp[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}+1] \&\& comp[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}] == comp[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}+2])}
\DoxyCodeLine{587                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{588                ++\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{589             \}}
\DoxyCodeLine{590             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}+2 >= width)}
\DoxyCodeLine{591                \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = width;}
\DoxyCodeLine{592             \textcolor{comment}{// dump up to first run}}
\DoxyCodeLine{593             \textcolor{keywordflow}{while} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}) \{}
\DoxyCodeLine{594                \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}};}
\DoxyCodeLine{595                \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > 128) \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = 128;}
\DoxyCodeLine{596                stbiw\_\_write\_dump\_data(s, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \&comp[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}]);}
\DoxyCodeLine{597                \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} += \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{598             \}}
\DoxyCodeLine{599             \textcolor{comment}{// if there's a run, output it}}
\DoxyCodeLine{600             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}+2 < width) \{ \textcolor{comment}{// same test as what we break out of in search loop, so only true if we break'd}}
\DoxyCodeLine{601                \textcolor{comment}{// find next byte after run}}
\DoxyCodeLine{602                \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} < width \&\& comp[\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}] == comp[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}])}
\DoxyCodeLine{603                   ++\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{604                \textcolor{comment}{// output run up to r}}
\DoxyCodeLine{605                \textcolor{keywordflow}{while} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}) \{}
\DoxyCodeLine{606                   \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}};}
\DoxyCodeLine{607                   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > 127) \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = 127;}
\DoxyCodeLine{608                   stbiw\_\_write\_run\_data(s, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, comp[\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}]);}
\DoxyCodeLine{609                   \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} += \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{610                \}}
\DoxyCodeLine{611             \}}
\DoxyCodeLine{612          \}}
\DoxyCodeLine{613       \}}
\DoxyCodeLine{614    \}}
\DoxyCodeLine{615 \}}
\DoxyCodeLine{616 }
\DoxyCodeLine{617 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbi\_write\_hdr\_core(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keywordtype}{float} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{618 \{}
\DoxyCodeLine{619    \textcolor{keywordflow}{if} (\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} <= 0 || \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} <= 0 || \mbox{\hyperlink{structdata}{data}} == NULL)}
\DoxyCodeLine{620       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{621    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{622       \textcolor{comment}{// Each component is stored separately. Allocate scratch space for full output scanline.}}
\DoxyCodeLine{623       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *scratch = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) STBIW\_MALLOC(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*4);}
\DoxyCodeLine{624       \textcolor{keywordtype}{int} i, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{625       \textcolor{keywordtype}{char} \mbox{\hyperlink{classbuffer}{buffer}}[128];}
\DoxyCodeLine{626       \textcolor{keywordtype}{char} header[] = \textcolor{stringliteral}{"{}\#?RADIANCE\(\backslash\)n\# Written by stb\_image\_write.h\(\backslash\)nFORMAT=32-\/bit\_rle\_rgbe\(\backslash\)n"{}};}
\DoxyCodeLine{627       s-\/>func(s-\/>context, header, \textcolor{keyword}{sizeof}(header)-\/1);}
\DoxyCodeLine{628 }
\DoxyCodeLine{629       \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = sprintf(\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{stringliteral}{"{}EXPOSURE=          1.0000000000000\(\backslash\)n\(\backslash\)n-\/Y \%d +X \%d\(\backslash\)n"{}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}});}
\DoxyCodeLine{630       s-\/>func(s-\/>context, \mbox{\hyperlink{classbuffer}{buffer}}, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}});}
\DoxyCodeLine{631 }
\DoxyCodeLine{632       \textcolor{keywordflow}{for}(i=0; i < \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}; i++)}
\DoxyCodeLine{633          stbiw\_\_write\_hdr\_scanline(s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, comp, scratch, \mbox{\hyperlink{structdata}{data}} + comp*i*\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}});}
\DoxyCodeLine{634       STBIW\_FREE(scratch);}
\DoxyCodeLine{635       \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{636    \}}
\DoxyCodeLine{637 \}}
\DoxyCodeLine{638 }
\DoxyCodeLine{639 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_ac9214f775162b61a3503c76875966c11}{stbi\_write\_hdr\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{float} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{640 \{}
\DoxyCodeLine{641    stbi\_\_write\_context s;}
\DoxyCodeLine{642    stbi\_\_start\_write\_callbacks(\&s, func, context);}
\DoxyCodeLine{643    \textcolor{keywordflow}{return} stbi\_write\_hdr\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, (\textcolor{keywordtype}{float} *) \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{644 \}}
\DoxyCodeLine{645 }
\DoxyCodeLine{646 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{647 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a21f22be0194761e08b682ed543ef6161}{stbi\_write\_hdr}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{float} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{648 \{}
\DoxyCodeLine{649    stbi\_\_write\_context s;}
\DoxyCodeLine{650    \textcolor{keywordflow}{if} (stbi\_\_start\_write\_file(\&s,filename)) \{}
\DoxyCodeLine{651       \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = stbi\_write\_hdr\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, (\textcolor{keywordtype}{float} *) \mbox{\hyperlink{structdata}{data}});}
\DoxyCodeLine{652       stbi\_\_end\_write\_file(\&s);}
\DoxyCodeLine{653       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{654    \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{655       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{656 \}}
\DoxyCodeLine{657 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{658 }
\DoxyCodeLine{659 }
\DoxyCodeLine{661 \textcolor{comment}{//}}
\DoxyCodeLine{662 \textcolor{comment}{// PNG writer}}
\DoxyCodeLine{663 \textcolor{comment}{//}}
\DoxyCodeLine{664 }
\DoxyCodeLine{665 \textcolor{comment}{// stretchy buffer; stbiw\_\_sbpush() == vector<>::push\_back() -\/-\/ stbiw\_\_sbcount() == vector<>::size()}}
\DoxyCodeLine{666 \textcolor{preprocessor}{\#define stbiw\_\_sbraw(a) ((int *) (a) -\/ 2)}}
\DoxyCodeLine{667 \textcolor{preprocessor}{\#define stbiw\_\_sbm(a)   stbiw\_\_sbraw(a)[0]}}
\DoxyCodeLine{668 \textcolor{preprocessor}{\#define stbiw\_\_sbn(a)   stbiw\_\_sbraw(a)[1]}}
\DoxyCodeLine{669 }
\DoxyCodeLine{670 \textcolor{preprocessor}{\#define stbiw\_\_sbneedgrow(a,n)  ((a)==0 || stbiw\_\_sbn(a)+n >= stbiw\_\_sbm(a))}}
\DoxyCodeLine{671 \textcolor{preprocessor}{\#define stbiw\_\_sbmaybegrow(a,n) (stbiw\_\_sbneedgrow(a,(n)) ? stbiw\_\_sbgrow(a,n) : 0)}}
\DoxyCodeLine{672 \textcolor{preprocessor}{\#define stbiw\_\_sbgrow(a,n)  stbiw\_\_sbgrowf((void **) \&(a), (n), sizeof(*(a)))}}
\DoxyCodeLine{673 }
\DoxyCodeLine{674 \textcolor{preprocessor}{\#define stbiw\_\_sbpush(a, v)      (stbiw\_\_sbmaybegrow(a,1), (a)[stbiw\_\_sbn(a)++] = (v))}}
\DoxyCodeLine{675 \textcolor{preprocessor}{\#define stbiw\_\_sbcount(a)        ((a) ? stbiw\_\_sbn(a) : 0)}}
\DoxyCodeLine{676 \textcolor{preprocessor}{\#define stbiw\_\_sbfree(a)         ((a) ? STBIW\_FREE(stbiw\_\_sbraw(a)),0 : 0)}}
\DoxyCodeLine{677 }
\DoxyCodeLine{678 \textcolor{keyword}{static} \textcolor{keywordtype}{void} *stbiw\_\_sbgrowf(\textcolor{keywordtype}{void} **arr, \textcolor{keywordtype}{int} increment, \textcolor{keywordtype}{int} itemsize)}
\DoxyCodeLine{679 \{}
\DoxyCodeLine{680    \textcolor{keywordtype}{int} m = *arr ? 2*stbiw\_\_sbm(*arr)+increment : increment+1;}
\DoxyCodeLine{681    \textcolor{keywordtype}{void} *p = STBIW\_REALLOC\_SIZED(*arr ? stbiw\_\_sbraw(*arr) : 0, *arr ? (stbiw\_\_sbm(*arr)*itemsize + \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int})*2) : 0, itemsize * m + \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int})*2);}
\DoxyCodeLine{682    STBIW\_ASSERT(p);}
\DoxyCodeLine{683    \textcolor{keywordflow}{if} (p) \{}
\DoxyCodeLine{684       \textcolor{keywordflow}{if} (!*arr) ((\textcolor{keywordtype}{int} *) p)[1] = 0;}
\DoxyCodeLine{685       *arr = (\textcolor{keywordtype}{void} *) ((\textcolor{keywordtype}{int} *) p + 2);}
\DoxyCodeLine{686       stbiw\_\_sbm(*arr) = m;}
\DoxyCodeLine{687    \}}
\DoxyCodeLine{688    \textcolor{keywordflow}{return} *arr;}
\DoxyCodeLine{689 \}}
\DoxyCodeLine{690 }
\DoxyCodeLine{691 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbiw\_\_zlib\_flushf(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} *bitbuffer, \textcolor{keywordtype}{int} *bitcount)}
\DoxyCodeLine{692 \{}
\DoxyCodeLine{693    \textcolor{keywordflow}{while} (*bitcount >= 8) \{}
\DoxyCodeLine{694       stbiw\_\_sbpush(\mbox{\hyperlink{structdata}{data}}, STBIW\_UCHAR(*bitbuffer));}
\DoxyCodeLine{695       *bitbuffer >>= 8;}
\DoxyCodeLine{696       *bitcount -\/= 8;}
\DoxyCodeLine{697    \}}
\DoxyCodeLine{698    \textcolor{keywordflow}{return} \mbox{\hyperlink{darknet_8h_a493583f6fc164cf849745e01e4c04ab5}{data}};}
\DoxyCodeLine{699 \}}
\DoxyCodeLine{700 }
\DoxyCodeLine{701 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbiw\_\_zlib\_bitrev(\textcolor{keywordtype}{int} code, \textcolor{keywordtype}{int} codebits)}
\DoxyCodeLine{702 \{}
\DoxyCodeLine{703    \textcolor{keywordtype}{int} res=0;}
\DoxyCodeLine{704    \textcolor{keywordflow}{while} (codebits-\/-\/) \{}
\DoxyCodeLine{705       res = (res << 1) | (code \& 1);}
\DoxyCodeLine{706       code >>= 1;}
\DoxyCodeLine{707    \}}
\DoxyCodeLine{708    \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{709 \}}
\DoxyCodeLine{710 }
\DoxyCodeLine{711 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stbiw\_\_zlib\_countm(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *a, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *b, \textcolor{keywordtype}{int} limit)}
\DoxyCodeLine{712 \{}
\DoxyCodeLine{713    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{714    \textcolor{keywordflow}{for} (i=0; i < limit \&\& i < 258; ++i)}
\DoxyCodeLine{715       \textcolor{keywordflow}{if} (a[i] != b[i]) \textcolor{keywordflow}{break};}
\DoxyCodeLine{716    \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{717 \}}
\DoxyCodeLine{718 }
\DoxyCodeLine{719 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stbiw\_\_zhash(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}})}
\DoxyCodeLine{720 \{}
\DoxyCodeLine{721    stbiw\_uint32 \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} = \mbox{\hyperlink{structdata}{data}}[0] + (\mbox{\hyperlink{structdata}{data}}[1] << 8) + (\mbox{\hyperlink{structdata}{data}}[2] << 16);}
\DoxyCodeLine{722    \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} \string^= \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} << 3;}
\DoxyCodeLine{723    \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} += \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} >> 5;}
\DoxyCodeLine{724    \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} \string^= \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} << 4;}
\DoxyCodeLine{725    \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} += \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} >> 17;}
\DoxyCodeLine{726    \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} \string^= \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} << 25;}
\DoxyCodeLine{727    \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} += \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}} >> 6;}
\DoxyCodeLine{728    \textcolor{keywordflow}{return} \mbox{\hyperlink{group__python__builtins_ga117a7eab72791313448c40a2f25f3582}{hash}};}
\DoxyCodeLine{729 \}}
\DoxyCodeLine{730 }
\DoxyCodeLine{731 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_flush() (out = stbiw\_\_zlib\_flushf(out, \&bitbuf, \&bitcount))}}
\DoxyCodeLine{732 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_add(code,codebits) \(\backslash\)}}
\DoxyCodeLine{733 \textcolor{preprocessor}{      (bitbuf |= (code) << bitcount, bitcount += (codebits), stbiw\_\_zlib\_flush())}}
\DoxyCodeLine{734 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huffa(b,c)  stbiw\_\_zlib\_add(stbiw\_\_zlib\_bitrev(b,c),c)}}
\DoxyCodeLine{735 \textcolor{comment}{// default huffman tables}}
\DoxyCodeLine{736 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huff1(n)  stbiw\_\_zlib\_huffa(0x30 + (n), 8)}}
\DoxyCodeLine{737 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huff2(n)  stbiw\_\_zlib\_huffa(0x190 + (n)-\/144, 9)}}
\DoxyCodeLine{738 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huff3(n)  stbiw\_\_zlib\_huffa(0 + (n)-\/256,7)}}
\DoxyCodeLine{739 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huff4(n)  stbiw\_\_zlib\_huffa(0xc0 + (n)-\/280,8)}}
\DoxyCodeLine{740 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huff(n)  ((n) <= 143 ? stbiw\_\_zlib\_huff1(n) : (n) <= 255 ? stbiw\_\_zlib\_huff2(n) : (n) <= 279 ? stbiw\_\_zlib\_huff3(n) : stbiw\_\_zlib\_huff4(n))}}
\DoxyCodeLine{741 \textcolor{preprocessor}{\#define stbiw\_\_zlib\_huffb(n) ((n) <= 143 ? stbiw\_\_zlib\_huff1(n) : stbiw\_\_zlib\_huff2(n))}}
\DoxyCodeLine{742 }
\DoxyCodeLine{743 \textcolor{preprocessor}{\#define stbiw\_\_ZHASH   16384}}
\DoxyCodeLine{744 }
\DoxyCodeLine{745 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * stbi\_zlib\_compress(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} data\_len, \textcolor{keywordtype}{int} *out\_len, \textcolor{keywordtype}{int} quality)}
\DoxyCodeLine{746 \{}
\DoxyCodeLine{747    \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} lengthc[] = \{ 3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258, 259 \};}
\DoxyCodeLine{748    \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}  lengtheb[]= \{ 0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0 \};}
\DoxyCodeLine{749    \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} distc[]   = \{ 1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 32768 \};}
\DoxyCodeLine{750    \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}  disteb[]  = \{ 0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13 \};}
\DoxyCodeLine{751    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bitbuf=0;}
\DoxyCodeLine{752    \textcolor{keywordtype}{int} i,j, bitcount=0;}
\DoxyCodeLine{753    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *out = NULL;}
\DoxyCodeLine{754    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} ***hash\_table = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}***) STBIW\_MALLOC(stbiw\_\_ZHASH * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}**));}
\DoxyCodeLine{755    \textcolor{keywordflow}{if} (quality < 5) quality = 5;}
\DoxyCodeLine{756 }
\DoxyCodeLine{757    stbiw\_\_sbpush(out, 0x78);   \textcolor{comment}{// DEFLATE 32K window}}
\DoxyCodeLine{758    stbiw\_\_sbpush(out, 0x5e);   \textcolor{comment}{// FLEVEL = 1}}
\DoxyCodeLine{759    stbiw\_\_zlib\_add(1,1);  \textcolor{comment}{// BFINAL = 1}}
\DoxyCodeLine{760    stbiw\_\_zlib\_add(1,2);  \textcolor{comment}{// BTYPE = 1 -\/-\/ fixed huffman}}
\DoxyCodeLine{761 }
\DoxyCodeLine{762    \textcolor{keywordflow}{for} (i=0; i < stbiw\_\_ZHASH; ++i)}
\DoxyCodeLine{763       hash\_table[i] = NULL;}
\DoxyCodeLine{764 }
\DoxyCodeLine{765    i=0;}
\DoxyCodeLine{766    \textcolor{keywordflow}{while} (i < data\_len-\/3) \{}
\DoxyCodeLine{767       \textcolor{comment}{// hash next 3 bytes of data to be compressed}}
\DoxyCodeLine{768       \textcolor{keywordtype}{int} h = stbiw\_\_zhash(\mbox{\hyperlink{structdata}{data}}+i)\&(stbiw\_\_ZHASH-\/1), best=3;}
\DoxyCodeLine{769       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *bestloc = 0;}
\DoxyCodeLine{770       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} **hlist = hash\_table[h];}
\DoxyCodeLine{771       \textcolor{keywordtype}{int} n = stbiw\_\_sbcount(hlist);}
\DoxyCodeLine{772       \textcolor{keywordflow}{for} (j=0; j < n; ++j) \{}
\DoxyCodeLine{773          \textcolor{keywordflow}{if} (hlist[j]-\/\mbox{\hyperlink{structdata}{data}} > i-\/32768) \{ \textcolor{comment}{// if entry lies within window}}
\DoxyCodeLine{774             \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} = stbiw\_\_zlib\_countm(hlist[j], \mbox{\hyperlink{structdata}{data}}+i, data\_len-\/i);}
\DoxyCodeLine{775             \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} >= best) best=\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}},bestloc=hlist[j];}
\DoxyCodeLine{776          \}}
\DoxyCodeLine{777       \}}
\DoxyCodeLine{778       \textcolor{comment}{// when hash table entry is too long, delete half the entries}}
\DoxyCodeLine{779       \textcolor{keywordflow}{if} (hash\_table[h] \&\& stbiw\_\_sbn(hash\_table[h]) == 2*quality) \{}
\DoxyCodeLine{780          STBIW\_MEMMOVE(hash\_table[h], hash\_table[h]+quality, \textcolor{keyword}{sizeof}(hash\_table[h][0])*quality);}
\DoxyCodeLine{781          stbiw\_\_sbn(hash\_table[h]) = quality;}
\DoxyCodeLine{782       \}}
\DoxyCodeLine{783       stbiw\_\_sbpush(hash\_table[h],\mbox{\hyperlink{structdata}{data}}+i);}
\DoxyCodeLine{784 }
\DoxyCodeLine{785       \textcolor{keywordflow}{if} (bestloc) \{}
\DoxyCodeLine{786          \textcolor{comment}{// "{}lazy matching"{} -\/ check match at *next* byte, and if it's better, do cur byte as literal}}
\DoxyCodeLine{787          h = stbiw\_\_zhash(\mbox{\hyperlink{structdata}{data}}+i+1)\&(stbiw\_\_ZHASH-\/1);}
\DoxyCodeLine{788          hlist = hash\_table[h];}
\DoxyCodeLine{789          n = stbiw\_\_sbcount(hlist);}
\DoxyCodeLine{790          \textcolor{keywordflow}{for} (j=0; j < n; ++j) \{}
\DoxyCodeLine{791             \textcolor{keywordflow}{if} (hlist[j]-\/\mbox{\hyperlink{structdata}{data}} > i-\/32767) \{}
\DoxyCodeLine{792                \textcolor{keywordtype}{int} e = stbiw\_\_zlib\_countm(hlist[j], \mbox{\hyperlink{structdata}{data}}+i+1, data\_len-\/i-\/1);}
\DoxyCodeLine{793                \textcolor{keywordflow}{if} (e > best) \{ \textcolor{comment}{// if next match is better, bail on current match}}
\DoxyCodeLine{794                   bestloc = NULL;}
\DoxyCodeLine{795                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{796                \}}
\DoxyCodeLine{797             \}}
\DoxyCodeLine{798          \}}
\DoxyCodeLine{799       \}}
\DoxyCodeLine{800 }
\DoxyCodeLine{801       \textcolor{keywordflow}{if} (bestloc) \{}
\DoxyCodeLine{802          \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} = (int) (\mbox{\hyperlink{structdata}{data}}+i -\/ bestloc); \textcolor{comment}{// distance back}}
\DoxyCodeLine{803          STBIW\_ASSERT(\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} <= 32767 \&\& best <= 258);}
\DoxyCodeLine{804          \textcolor{keywordflow}{for} (j=0; best > lengthc[j+1]-\/1; ++j);}
\DoxyCodeLine{805          stbiw\_\_zlib\_huff(j+257);}
\DoxyCodeLine{806          \textcolor{keywordflow}{if} (lengtheb[j]) stbiw\_\_zlib\_add(best -\/ lengthc[j], lengtheb[j]);}
\DoxyCodeLine{807          \textcolor{keywordflow}{for} (j=0; \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} > distc[j+1]-\/1; ++j);}
\DoxyCodeLine{808          stbiw\_\_zlib\_add(stbiw\_\_zlib\_bitrev(j,5),5);}
\DoxyCodeLine{809          \textcolor{keywordflow}{if} (disteb[j]) stbiw\_\_zlib\_add(\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} -\/ distc[j], disteb[j]);}
\DoxyCodeLine{810          i += best;}
\DoxyCodeLine{811       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{812          stbiw\_\_zlib\_huffb(\mbox{\hyperlink{structdata}{data}}[i]);}
\DoxyCodeLine{813          ++i;}
\DoxyCodeLine{814       \}}
\DoxyCodeLine{815    \}}
\DoxyCodeLine{816    \textcolor{comment}{// write out final bytes}}
\DoxyCodeLine{817    \textcolor{keywordflow}{for} (;i < data\_len; ++i)}
\DoxyCodeLine{818       stbiw\_\_zlib\_huffb(\mbox{\hyperlink{structdata}{data}}[i]);}
\DoxyCodeLine{819    stbiw\_\_zlib\_huff(256); \textcolor{comment}{// end of block}}
\DoxyCodeLine{820    \textcolor{comment}{// pad with 0 bits to byte boundary}}
\DoxyCodeLine{821    \textcolor{keywordflow}{while} (bitcount)}
\DoxyCodeLine{822       stbiw\_\_zlib\_add(0,1);}
\DoxyCodeLine{823 }
\DoxyCodeLine{824    \textcolor{keywordflow}{for} (i=0; i < stbiw\_\_ZHASH; ++i)}
\DoxyCodeLine{825       (\textcolor{keywordtype}{void}) stbiw\_\_sbfree(hash\_table[i]);}
\DoxyCodeLine{826    STBIW\_FREE(hash\_table);}
\DoxyCodeLine{827 }
\DoxyCodeLine{828    \{}
\DoxyCodeLine{829       \textcolor{comment}{// compute adler32 on input}}
\DoxyCodeLine{830       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} s1=1, s2=0;}
\DoxyCodeLine{831       \textcolor{keywordtype}{int} blocklen = (int) (data\_len \% 5552);}
\DoxyCodeLine{832       j=0;}
\DoxyCodeLine{833       \textcolor{keywordflow}{while} (j < data\_len) \{}
\DoxyCodeLine{834          \textcolor{keywordflow}{for} (i=0; i < blocklen; ++i) s1 += \mbox{\hyperlink{structdata}{data}}[j+i], s2 += s1;}
\DoxyCodeLine{835          s1 \%= 65521, s2 \%= 65521;}
\DoxyCodeLine{836          j += blocklen;}
\DoxyCodeLine{837          blocklen = 5552;}
\DoxyCodeLine{838       \}}
\DoxyCodeLine{839       stbiw\_\_sbpush(out, STBIW\_UCHAR(s2 >> 8));}
\DoxyCodeLine{840       stbiw\_\_sbpush(out, STBIW\_UCHAR(s2));}
\DoxyCodeLine{841       stbiw\_\_sbpush(out, STBIW\_UCHAR(s1 >> 8));}
\DoxyCodeLine{842       stbiw\_\_sbpush(out, STBIW\_UCHAR(s1));}
\DoxyCodeLine{843    \}}
\DoxyCodeLine{844    *out\_len = stbiw\_\_sbn(out);}
\DoxyCodeLine{845    \textcolor{comment}{// make returned pointer freeable}}
\DoxyCodeLine{846    STBIW\_MEMMOVE(stbiw\_\_sbraw(out), out, *out\_len);}
\DoxyCodeLine{847    \textcolor{keywordflow}{return} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) stbiw\_\_sbraw(out);}
\DoxyCodeLine{848 \}}
\DoxyCodeLine{849 }
\DoxyCodeLine{850 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} stbiw\_\_crc32(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{classbuffer}{buffer}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}})}
\DoxyCodeLine{851 \{}
\DoxyCodeLine{852    \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} crc\_table[256] =}
\DoxyCodeLine{853    \{}
\DoxyCodeLine{854       0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419, 0x706AF48F, 0xE963A535, 0x9E6495A3,}
\DoxyCodeLine{855       0x0eDB8832, 0x79DCB8A4, 0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07, 0x90BF1D91,}
\DoxyCodeLine{856       0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE, 0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7,}
\DoxyCodeLine{857       0x136C9856, 0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9, 0xFA0F3D63, 0x8D080DF5,}
\DoxyCodeLine{858       0x3B6E20C8, 0x4C69105E, 0xD56041E4, 0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,}
\DoxyCodeLine{859       0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3, 0x45DF5C75, 0xDCD60DCF, 0xABD13D59,}
\DoxyCodeLine{860       0x26D930AC, 0x51DE003A, 0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599, 0xB8BDA50F,}
\DoxyCodeLine{861       0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924, 0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D,}
\DoxyCodeLine{862       0x76DC4190, 0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F, 0x9FBFE4A5, 0xE8B8D433,}
\DoxyCodeLine{863       0x7807C9A2, 0x0F00F934, 0x9609A88E, 0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,}
\DoxyCodeLine{864       0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED, 0x1B01A57B, 0x8208F4C1, 0xF50FC457,}
\DoxyCodeLine{865       0x65B0D9C6, 0x12B7E950, 0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3, 0xFBD44C65,}
\DoxyCodeLine{866       0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2, 0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB,}
\DoxyCodeLine{867       0x4369E96A, 0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5, 0xAA0A4C5F, 0xDD0D7CC9,}
\DoxyCodeLine{868       0x5005713C, 0x270241AA, 0xBE0B1010, 0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,}
\DoxyCodeLine{869       0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17, 0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD,}
\DoxyCodeLine{870       0xEDB88320, 0x9ABFB3B6, 0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615, 0x73DC1683,}
\DoxyCodeLine{871       0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8, 0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1,}
\DoxyCodeLine{872       0xF00F9344, 0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB, 0x196C3671, 0x6E6B06E7,}
\DoxyCodeLine{873       0xFED41B76, 0x89D32BE0, 0x10DA7A5A, 0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,}
\DoxyCodeLine{874       0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1, 0xA6BC5767, 0x3FB506DD, 0x48B2364B,}
\DoxyCodeLine{875       0xD80D2BDA, 0xAF0A1B4C, 0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF, 0x4669BE79,}
\DoxyCodeLine{876       0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236, 0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F,}
\DoxyCodeLine{877       0xC5BA3BBE, 0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31, 0x2CD99E8B, 0x5BDEAE1D,}
\DoxyCodeLine{878       0x9B64C2B0, 0xEC63F226, 0x756AA39C, 0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,}
\DoxyCodeLine{879       0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B, 0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21,}
\DoxyCodeLine{880       0x86D3D2D4, 0xF1D4E242, 0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1, 0x18B74777,}
\DoxyCodeLine{881       0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C, 0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45,}
\DoxyCodeLine{882       0xA00AE278, 0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7, 0x4969474D, 0x3E6E77DB,}
\DoxyCodeLine{883       0xAED16A4A, 0xD9D65ADC, 0x40DF0B66, 0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,}
\DoxyCodeLine{884       0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605, 0xCDD70693, 0x54DE5729, 0x23D967BF,}
\DoxyCodeLine{885       0xB3667A2E, 0xC4614AB8, 0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B, 0x2D02EF8D}
\DoxyCodeLine{886    \};}
\DoxyCodeLine{887 }
\DoxyCodeLine{888    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} crc = \string~0u;}
\DoxyCodeLine{889    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{890    \textcolor{keywordflow}{for} (i=0; i < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; ++i)}
\DoxyCodeLine{891       crc = (crc >> 8) \string^ crc\_table[\mbox{\hyperlink{classbuffer}{buffer}}[i] \string^ (crc \& 0xff)];}
\DoxyCodeLine{892    \textcolor{keywordflow}{return} \string~crc;}
\DoxyCodeLine{893 \}}
\DoxyCodeLine{894 }
\DoxyCodeLine{895 \textcolor{preprocessor}{\#define stbiw\_\_wpng4(o,a,b,c,d) ((o)[0]=STBIW\_UCHAR(a),(o)[1]=STBIW\_UCHAR(b),(o)[2]=STBIW\_UCHAR(c),(o)[3]=STBIW\_UCHAR(d),(o)+=4)}}
\DoxyCodeLine{896 \textcolor{preprocessor}{\#define stbiw\_\_wp32(data,v) stbiw\_\_wpng4(data, (v)>>24,(v)>>16,(v)>>8,(v));}}
\DoxyCodeLine{897 \textcolor{preprocessor}{\#define stbiw\_\_wptag(data,s) stbiw\_\_wpng4(data, s[0],s[1],s[2],s[3])}}
\DoxyCodeLine{898 }
\DoxyCodeLine{899 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_wpcrc(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} **\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}})}
\DoxyCodeLine{900 \{}
\DoxyCodeLine{901    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} crc = stbiw\_\_crc32(*\mbox{\hyperlink{structdata}{data}} -\/ \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} -\/ 4, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}+4);}
\DoxyCodeLine{902    stbiw\_\_wp32(*\mbox{\hyperlink{structdata}{data}}, crc);}
\DoxyCodeLine{903 \}}
\DoxyCodeLine{904 }
\DoxyCodeLine{905 \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} stbiw\_\_paeth(\textcolor{keywordtype}{int} a, \textcolor{keywordtype}{int} b, \textcolor{keywordtype}{int} c)}
\DoxyCodeLine{906 \{}
\DoxyCodeLine{907    \textcolor{keywordtype}{int} p = a + b -\/ c, pa = abs(p-\/a), pb = abs(p-\/b), pc = abs(p-\/c);}
\DoxyCodeLine{908    \textcolor{keywordflow}{if} (pa <= pb \&\& pa <= pc) \textcolor{keywordflow}{return} STBIW\_UCHAR(a);}
\DoxyCodeLine{909    \textcolor{keywordflow}{if} (pb <= pc) \textcolor{keywordflow}{return} STBIW\_UCHAR(b);}
\DoxyCodeLine{910    \textcolor{keywordflow}{return} STBIW\_UCHAR(c);}
\DoxyCodeLine{911 \}}
\DoxyCodeLine{912 }
\DoxyCodeLine{913 \textcolor{comment}{// @OPTIMIZE: provide an option that always forces left-\/predict or paeth predict}}
\DoxyCodeLine{914 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *stbi\_write\_png\_to\_mem(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *pixels, \textcolor{keywordtype}{int} stride\_bytes, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} n, \textcolor{keywordtype}{int} *out\_len)}
\DoxyCodeLine{915 \{}
\DoxyCodeLine{916    \textcolor{keywordtype}{int} ctype[5] = \{ -\/1, 0, 4, 2, 6 \};}
\DoxyCodeLine{917    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} sig[8] = \{ 137,80,78,71,13,10,26,10 \};}
\DoxyCodeLine{918    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *out,*o, *filt, *zlib;}
\DoxyCodeLine{919    \textcolor{keywordtype}{signed} \textcolor{keywordtype}{char} *line\_buffer;}
\DoxyCodeLine{920    \textcolor{keywordtype}{int} i,j,k,p,zlen;}
\DoxyCodeLine{921 }
\DoxyCodeLine{922    \textcolor{keywordflow}{if} (stride\_bytes == 0)}
\DoxyCodeLine{923       stride\_bytes = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} * n;}
\DoxyCodeLine{924 }
\DoxyCodeLine{925    filt = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) STBIW\_MALLOC((\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n+1) * \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}); \textcolor{keywordflow}{if} (!filt) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{926    line\_buffer = (\textcolor{keywordtype}{signed} \textcolor{keywordtype}{char} *) STBIW\_MALLOC(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} * n); \textcolor{keywordflow}{if} (!line\_buffer) \{ STBIW\_FREE(filt); \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{927    \textcolor{keywordflow}{for} (j=0; j < \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}; ++j) \{}
\DoxyCodeLine{928       \textcolor{keyword}{static} \textcolor{keywordtype}{int} mapping[] = \{ 0,1,2,3,4 \};}
\DoxyCodeLine{929       \textcolor{keyword}{static} \textcolor{keywordtype}{int} firstmap[] = \{ 0,1,0,5,6 \};}
\DoxyCodeLine{930       \textcolor{keywordtype}{int} *mymap = (j != 0) ? mapping : firstmap;}
\DoxyCodeLine{931       \textcolor{keywordtype}{int} best = 0, bestval = 0x7fffffff;}
\DoxyCodeLine{932       \textcolor{keywordflow}{for} (p=0; p < 2; ++p) \{}
\DoxyCodeLine{933          \textcolor{keywordflow}{for} (k= p?best:0; k < 5; ++k) \{ \textcolor{comment}{// @TODO: clarity: rewrite this to go 0..5, and 'continue' the unwanted ones during 2nd pass}}
\DoxyCodeLine{934             \textcolor{keywordtype}{int} type = mymap[k],est=0;}
\DoxyCodeLine{935             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}} = pixels + stride\_bytes*j;}
\DoxyCodeLine{936             \textcolor{keywordflow}{for} (i=0; i < n; ++i)}
\DoxyCodeLine{937                \textcolor{keywordflow}{switch} (type) \{}
\DoxyCodeLine{938                   \textcolor{keywordflow}{case} 0: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{939                   \textcolor{keywordflow}{case} 1: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{940                   \textcolor{keywordflow}{case} 2: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{941                   \textcolor{keywordflow}{case} 3: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ (\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes]>>1); \textcolor{keywordflow}{break};}
\DoxyCodeLine{942                   \textcolor{keywordflow}{case} 4: line\_buffer[i] = (\textcolor{keywordtype}{signed} char) (\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ stbiw\_\_paeth(0,\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes],0)); \textcolor{keywordflow}{break};}
\DoxyCodeLine{943                   \textcolor{keywordflow}{case} 5: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{944                   \textcolor{keywordflow}{case} 6: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{945                \}}
\DoxyCodeLine{946             \textcolor{keywordflow}{for} (i=n; i < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n; ++i) \{}
\DoxyCodeLine{947                \textcolor{keywordflow}{switch} (type) \{}
\DoxyCodeLine{948                   \textcolor{keywordflow}{case} 0: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{949                   \textcolor{keywordflow}{case} 1: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/n]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{950                   \textcolor{keywordflow}{case} 2: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes]; \textcolor{keywordflow}{break};}
\DoxyCodeLine{951                   \textcolor{keywordflow}{case} 3: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ ((\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/n] + \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes])>>1); \textcolor{keywordflow}{break};}
\DoxyCodeLine{952                   \textcolor{keywordflow}{case} 4: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ stbiw\_\_paeth(\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/n], \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes], \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/stride\_bytes-\/n]); \textcolor{keywordflow}{break};}
\DoxyCodeLine{953                   \textcolor{keywordflow}{case} 5: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ (\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/n]>>1); \textcolor{keywordflow}{break};}
\DoxyCodeLine{954                   \textcolor{keywordflow}{case} 6: line\_buffer[i] = \mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i] -\/ stbiw\_\_paeth(\mbox{\hyperlink{utils_8c_a3d99b005d0fb73033dce14d4a135d01f}{z}}[i-\/n], 0,0); \textcolor{keywordflow}{break};}
\DoxyCodeLine{955                \}}
\DoxyCodeLine{956             \}}
\DoxyCodeLine{957             \textcolor{keywordflow}{if} (p) \textcolor{keywordflow}{break};}
\DoxyCodeLine{958             \textcolor{keywordflow}{for} (i=0; i < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n; ++i)}
\DoxyCodeLine{959                est += abs((\textcolor{keywordtype}{signed} \textcolor{keywordtype}{char}) line\_buffer[i]);}
\DoxyCodeLine{960             \textcolor{keywordflow}{if} (est < bestval) \{ bestval = est; best = k; \}}
\DoxyCodeLine{961          \}}
\DoxyCodeLine{962       \}}
\DoxyCodeLine{963       \textcolor{comment}{// when we get here, best contains the filter type, and line\_buffer contains the data}}
\DoxyCodeLine{964       filt[j*(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n+1)] = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}) best;}
\DoxyCodeLine{965       STBIW\_MEMMOVE(filt+j*(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n+1)+1, line\_buffer, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n);}
\DoxyCodeLine{966    \}}
\DoxyCodeLine{967    STBIW\_FREE(line\_buffer);}
\DoxyCodeLine{968    zlib = stbi\_zlib\_compress(filt, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}*( \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}*n+1), \&zlen, 8); \textcolor{comment}{// increase 8 to get smaller but use more memory}}
\DoxyCodeLine{969    STBIW\_FREE(filt);}
\DoxyCodeLine{970    \textcolor{keywordflow}{if} (!zlib) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{971 }
\DoxyCodeLine{972    \textcolor{comment}{// each tag requires 12 bytes of overhead}}
\DoxyCodeLine{973    out = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) STBIW\_MALLOC(8 + 12+13 + 12+zlen + 12);}
\DoxyCodeLine{974    \textcolor{keywordflow}{if} (!out) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{975    *out\_len = 8 + 12+13 + 12+zlen + 12;}
\DoxyCodeLine{976 }
\DoxyCodeLine{977    o=out;}
\DoxyCodeLine{978    STBIW\_MEMMOVE(o,sig,8); o+= 8;}
\DoxyCodeLine{979    stbiw\_\_wp32(o, 13); \textcolor{comment}{// header length}}
\DoxyCodeLine{980    stbiw\_\_wptag(o, \textcolor{stringliteral}{"{}IHDR"{}});}
\DoxyCodeLine{981    stbiw\_\_wp32(o, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}});}
\DoxyCodeLine{982    stbiw\_\_wp32(o, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}});}
\DoxyCodeLine{983    *o++ = 8;}
\DoxyCodeLine{984    *o++ = STBIW\_UCHAR(ctype[n]);}
\DoxyCodeLine{985    *o++ = 0;}
\DoxyCodeLine{986    *o++ = 0;}
\DoxyCodeLine{987    *o++ = 0;}
\DoxyCodeLine{988    stbiw\_\_wpcrc(\&o,13);}
\DoxyCodeLine{989 }
\DoxyCodeLine{990    stbiw\_\_wp32(o, zlen);}
\DoxyCodeLine{991    stbiw\_\_wptag(o, \textcolor{stringliteral}{"{}IDAT"{}});}
\DoxyCodeLine{992    STBIW\_MEMMOVE(o, zlib, zlen);}
\DoxyCodeLine{993    o += zlen;}
\DoxyCodeLine{994    STBIW\_FREE(zlib);}
\DoxyCodeLine{995    stbiw\_\_wpcrc(\&o, zlen);}
\DoxyCodeLine{996 }
\DoxyCodeLine{997    stbiw\_\_wp32(o,0);}
\DoxyCodeLine{998    stbiw\_\_wptag(o, \textcolor{stringliteral}{"{}IEND"{}});}
\DoxyCodeLine{999    stbiw\_\_wpcrc(\&o,0);}
\DoxyCodeLine{1000 }
\DoxyCodeLine{1001    STBIW\_ASSERT(o == out + *out\_len);}
\DoxyCodeLine{1002 }
\DoxyCodeLine{1003    \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{1004 \}}
\DoxyCodeLine{1005 }
\DoxyCodeLine{1006 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{1007 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a9c03e5171f6aea47fde6dafcf3249ccf}{stbi\_write\_png}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} stride\_bytes)}
\DoxyCodeLine{1008 \{}
\DoxyCodeLine{1009    FILE *\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}};}
\DoxyCodeLine{1010    \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{1011    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *png = stbi\_write\_png\_to\_mem((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) \mbox{\hyperlink{structdata}{data}}, stride\_bytes, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, \&\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}});}
\DoxyCodeLine{1012    \textcolor{keywordflow}{if} (png == NULL) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{1013    \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}} = fopen(filename, \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{1014    \textcolor{keywordflow}{if} (!\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) \{ STBIW\_FREE(png); \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{1015    fwrite(png, 1, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}});}
\DoxyCodeLine{1016    fclose(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}});}
\DoxyCodeLine{1017    STBIW\_FREE(png);}
\DoxyCodeLine{1018    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{1019 \}}
\DoxyCodeLine{1020 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1021 }
\DoxyCodeLine{1022 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a72dcd18698d64c92082449912c39a4e5}{stbi\_write\_png\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} stride\_bytes)}
\DoxyCodeLine{1023 \{}
\DoxyCodeLine{1024    \textcolor{keywordtype}{int} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{1025    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *png = stbi\_write\_png\_to\_mem((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *) \mbox{\hyperlink{structdata}{data}}, stride\_bytes, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, \&\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}});}
\DoxyCodeLine{1026    \textcolor{keywordflow}{if} (png == NULL) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{1027    func(context, png, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}});}
\DoxyCodeLine{1028    STBIW\_FREE(png);}
\DoxyCodeLine{1029    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{1030 \}}
\DoxyCodeLine{1031 }
\DoxyCodeLine{1032 }
\DoxyCodeLine{1033 \textcolor{comment}{/* ***************************************************************************}}
\DoxyCodeLine{1034 \textcolor{comment}{ *}}
\DoxyCodeLine{1035 \textcolor{comment}{ * JPEG writer}}
\DoxyCodeLine{1036 \textcolor{comment}{ *}}
\DoxyCodeLine{1037 \textcolor{comment}{ * This is based on Jon Olick's jo\_jpeg.cpp:}}
\DoxyCodeLine{1038 \textcolor{comment}{ * public domain Simple, Minimalistic JPEG writer -\/ http://www.jonolick.com/code.html}}
\DoxyCodeLine{1039 \textcolor{comment}{ */}}
\DoxyCodeLine{1040 }
\DoxyCodeLine{1041 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} stbiw\_\_jpg\_ZigZag[] = \{ 0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,}
\DoxyCodeLine{1042       24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63 \};}
\DoxyCodeLine{1043 }
\DoxyCodeLine{1044 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_jpg\_writeBits(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} *bitBufP, \textcolor{keywordtype}{int} *bitCntP, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} *bs) \{}
\DoxyCodeLine{1045    \textcolor{keywordtype}{int} bitBuf = *bitBufP, bitCnt = *bitCntP;}
\DoxyCodeLine{1046    bitCnt += bs[1];}
\DoxyCodeLine{1047    bitBuf |= bs[0] << (24 -\/ bitCnt);}
\DoxyCodeLine{1048    \textcolor{keywordflow}{while}(bitCnt >= 8) \{}
\DoxyCodeLine{1049       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} c = (bitBuf >> 16) \& 255;}
\DoxyCodeLine{1050       stbiw\_\_putc(s, c);}
\DoxyCodeLine{1051       \textcolor{keywordflow}{if}(c == 255) \{}
\DoxyCodeLine{1052          stbiw\_\_putc(s, 0);}
\DoxyCodeLine{1053       \}}
\DoxyCodeLine{1054       bitBuf <<= 8;}
\DoxyCodeLine{1055       bitCnt -\/= 8;}
\DoxyCodeLine{1056    \}}
\DoxyCodeLine{1057    *bitBufP = bitBuf;}
\DoxyCodeLine{1058    *bitCntP = bitCnt;}
\DoxyCodeLine{1059 \}}
\DoxyCodeLine{1060 }
\DoxyCodeLine{1061 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_jpg\_DCT(\textcolor{keywordtype}{float} *d0p, \textcolor{keywordtype}{float} *d1p, \textcolor{keywordtype}{float} *d2p, \textcolor{keywordtype}{float} *d3p, \textcolor{keywordtype}{float} *d4p, \textcolor{keywordtype}{float} *d5p, \textcolor{keywordtype}{float} *d6p, \textcolor{keywordtype}{float} *d7p) \{}
\DoxyCodeLine{1062    \textcolor{keywordtype}{float} d0 = *d0p, d1 = *d1p, d2 = *d2p, d3 = *d3p, d4 = *d4p, d5 = *d5p, d6 = *d6p, d7 = *d7p;}
\DoxyCodeLine{1063    \textcolor{keywordtype}{float} z1, z2, z3, z4, z5, z11, z13;}
\DoxyCodeLine{1064 }
\DoxyCodeLine{1065    \textcolor{keywordtype}{float} tmp0 = d0 + d7;}
\DoxyCodeLine{1066    \textcolor{keywordtype}{float} tmp7 = d0 -\/ d7;}
\DoxyCodeLine{1067    \textcolor{keywordtype}{float} tmp1 = d1 + d6;}
\DoxyCodeLine{1068    \textcolor{keywordtype}{float} tmp6 = d1 -\/ d6;}
\DoxyCodeLine{1069    \textcolor{keywordtype}{float} tmp2 = d2 + d5;}
\DoxyCodeLine{1070    \textcolor{keywordtype}{float} tmp5 = d2 -\/ d5;}
\DoxyCodeLine{1071    \textcolor{keywordtype}{float} tmp3 = d3 + d4;}
\DoxyCodeLine{1072    \textcolor{keywordtype}{float} tmp4 = d3 -\/ d4;}
\DoxyCodeLine{1073 }
\DoxyCodeLine{1074    \textcolor{comment}{// Even part}}
\DoxyCodeLine{1075    \textcolor{keywordtype}{float} tmp10 = tmp0 + tmp3;   \textcolor{comment}{// phase 2}}
\DoxyCodeLine{1076    \textcolor{keywordtype}{float} tmp13 = tmp0 -\/ tmp3;}
\DoxyCodeLine{1077    \textcolor{keywordtype}{float} tmp11 = tmp1 + tmp2;}
\DoxyCodeLine{1078    \textcolor{keywordtype}{float} tmp12 = tmp1 -\/ tmp2;}
\DoxyCodeLine{1079 }
\DoxyCodeLine{1080    d0 = tmp10 + tmp11;       \textcolor{comment}{// phase 3}}
\DoxyCodeLine{1081    d4 = tmp10 -\/ tmp11;}
\DoxyCodeLine{1082 }
\DoxyCodeLine{1083    z1 = (tmp12 + tmp13) * 0.707106781f; \textcolor{comment}{// c4}}
\DoxyCodeLine{1084    d2 = tmp13 + z1;       \textcolor{comment}{// phase 5}}
\DoxyCodeLine{1085    d6 = tmp13 -\/ z1;}
\DoxyCodeLine{1086 }
\DoxyCodeLine{1087    \textcolor{comment}{// Odd part}}
\DoxyCodeLine{1088    tmp10 = tmp4 + tmp5;       \textcolor{comment}{// phase 2}}
\DoxyCodeLine{1089    tmp11 = tmp5 + tmp6;}
\DoxyCodeLine{1090    tmp12 = tmp6 + tmp7;}
\DoxyCodeLine{1091 }
\DoxyCodeLine{1092    \textcolor{comment}{// The rotator is modified from fig 4-\/8 to avoid extra negations.}}
\DoxyCodeLine{1093    z5 = (tmp10 -\/ tmp12) * 0.382683433f; \textcolor{comment}{// c6}}
\DoxyCodeLine{1094    z2 = tmp10 * 0.541196100f + z5; \textcolor{comment}{// c2-\/c6}}
\DoxyCodeLine{1095    z4 = tmp12 * 1.306562965f + z5; \textcolor{comment}{// c2+c6}}
\DoxyCodeLine{1096    z3 = tmp11 * 0.707106781f; \textcolor{comment}{// c4}}
\DoxyCodeLine{1097 }
\DoxyCodeLine{1098    z11 = tmp7 + z3;      \textcolor{comment}{// phase 5}}
\DoxyCodeLine{1099    z13 = tmp7 -\/ z3;}
\DoxyCodeLine{1100 }
\DoxyCodeLine{1101    *d5p = z13 + z2;         \textcolor{comment}{// phase 6}}
\DoxyCodeLine{1102    *d3p = z13 -\/ z2;}
\DoxyCodeLine{1103    *d1p = z11 + z4;}
\DoxyCodeLine{1104    *d7p = z11 -\/ z4;}
\DoxyCodeLine{1105 }
\DoxyCodeLine{1106    *d0p = d0;  *d2p = d2;  *d4p = d4;  *d6p = d6;}
\DoxyCodeLine{1107 \}}
\DoxyCodeLine{1108 }
\DoxyCodeLine{1109 \textcolor{keyword}{static} \textcolor{keywordtype}{void} stbiw\_\_jpg\_calcBits(\textcolor{keywordtype}{int} val, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} bits[2]) \{}
\DoxyCodeLine{1110    \textcolor{keywordtype}{int} tmp1 = val < 0 ? -\/val : val;}
\DoxyCodeLine{1111    val = val < 0 ? val-\/1 : val;}
\DoxyCodeLine{1112    bits[1] = 1;}
\DoxyCodeLine{1113    \textcolor{keywordflow}{while}(tmp1 >>= 1) \{}
\DoxyCodeLine{1114       ++bits[1];}
\DoxyCodeLine{1115    \}}
\DoxyCodeLine{1116    bits[0] = val \& ((1<<bits[1])-\/1);}
\DoxyCodeLine{1117 \}}
\DoxyCodeLine{1118 }
\DoxyCodeLine{1119 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbiw\_\_jpg\_processDU(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} *bitBuf, \textcolor{keywordtype}{int} *bitCnt, \textcolor{keywordtype}{float} *CDU, \textcolor{keywordtype}{float} *fdtbl, \textcolor{keywordtype}{int} DC, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} HTDC[256][2], \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} HTAC[256][2]) \{}
\DoxyCodeLine{1120    \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} EOB[2] = \{ HTAC[0x00][0], HTAC[0x00][1] \};}
\DoxyCodeLine{1121    \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} M16zeroes[2] = \{ HTAC[0xF0][0], HTAC[0xF0][1] \};}
\DoxyCodeLine{1122    \textcolor{keywordtype}{int} dataOff, i, diff, end0pos;}
\DoxyCodeLine{1123    \textcolor{keywordtype}{int} DU[64];}
\DoxyCodeLine{1124 }
\DoxyCodeLine{1125    \textcolor{comment}{// DCT rows}}
\DoxyCodeLine{1126    \textcolor{keywordflow}{for}(dataOff=0; dataOff<64; dataOff+=8) \{}
\DoxyCodeLine{1127       stbiw\_\_jpg\_DCT(\&CDU[dataOff], \&CDU[dataOff+1], \&CDU[dataOff+2], \&CDU[dataOff+3], \&CDU[dataOff+4], \&CDU[dataOff+5], \&CDU[dataOff+6], \&CDU[dataOff+7]);}
\DoxyCodeLine{1128    \}}
\DoxyCodeLine{1129    \textcolor{comment}{// DCT columns}}
\DoxyCodeLine{1130    \textcolor{keywordflow}{for}(dataOff=0; dataOff<8; ++dataOff) \{}
\DoxyCodeLine{1131       stbiw\_\_jpg\_DCT(\&CDU[dataOff], \&CDU[dataOff+8], \&CDU[dataOff+16], \&CDU[dataOff+24], \&CDU[dataOff+32], \&CDU[dataOff+40], \&CDU[dataOff+48], \&CDU[dataOff+56]);}
\DoxyCodeLine{1132    \}}
\DoxyCodeLine{1133    \textcolor{comment}{// Quantize/descale/zigzag the coefficients}}
\DoxyCodeLine{1134    \textcolor{keywordflow}{for}(i=0; i<64; ++i) \{}
\DoxyCodeLine{1135       \textcolor{keywordtype}{float} v = CDU[i]*fdtbl[i];}
\DoxyCodeLine{1136       \textcolor{comment}{// DU[stbiw\_\_jpg\_ZigZag[i]] = (int)(v < 0 ? ceilf(v -\/ 0.5f) : floorf(v + 0.5f));}}
\DoxyCodeLine{1137       \textcolor{comment}{// ceilf() and floorf() are C99, not C89, but I /think/ they're not needed here anyway?}}
\DoxyCodeLine{1138       DU[stbiw\_\_jpg\_ZigZag[i]] = (int)(v < 0 ? v -\/ 0.5f : v + 0.5f);}
\DoxyCodeLine{1139    \}}
\DoxyCodeLine{1140 }
\DoxyCodeLine{1141    \textcolor{comment}{// Encode DC}}
\DoxyCodeLine{1142    diff = DU[0] -\/ DC;}
\DoxyCodeLine{1143    \textcolor{keywordflow}{if} (diff == 0) \{}
\DoxyCodeLine{1144       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, HTDC[0]);}
\DoxyCodeLine{1145    \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1146       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} bits[2];}
\DoxyCodeLine{1147       stbiw\_\_jpg\_calcBits(diff, bits);}
\DoxyCodeLine{1148       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, HTDC[bits[1]]);}
\DoxyCodeLine{1149       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, bits);}
\DoxyCodeLine{1150    \}}
\DoxyCodeLine{1151    \textcolor{comment}{// Encode ACs}}
\DoxyCodeLine{1152    end0pos = 63;}
\DoxyCodeLine{1153    \textcolor{keywordflow}{for}(; (end0pos>0)\&\&(DU[end0pos]==0); -\/-\/end0pos) \{}
\DoxyCodeLine{1154    \}}
\DoxyCodeLine{1155    \textcolor{comment}{// end0pos = first element in reverse order !=0}}
\DoxyCodeLine{1156    \textcolor{keywordflow}{if}(end0pos == 0) \{}
\DoxyCodeLine{1157       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, EOB);}
\DoxyCodeLine{1158       \textcolor{keywordflow}{return} DU[0];}
\DoxyCodeLine{1159    \}}
\DoxyCodeLine{1160    \textcolor{keywordflow}{for}(i = 1; i <= end0pos; ++i) \{}
\DoxyCodeLine{1161       \textcolor{keywordtype}{int} startpos = i;}
\DoxyCodeLine{1162       \textcolor{keywordtype}{int} nrzeroes;}
\DoxyCodeLine{1163       \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} bits[2];}
\DoxyCodeLine{1164       \textcolor{keywordflow}{for} (; DU[i]==0 \&\& i<=end0pos; ++i) \{}
\DoxyCodeLine{1165       \}}
\DoxyCodeLine{1166       nrzeroes = i-\/startpos;}
\DoxyCodeLine{1167       \textcolor{keywordflow}{if} ( nrzeroes >= 16 ) \{}
\DoxyCodeLine{1168          \textcolor{keywordtype}{int} lng = nrzeroes>>4;}
\DoxyCodeLine{1169          \textcolor{keywordtype}{int} nrmarker;}
\DoxyCodeLine{1170          \textcolor{keywordflow}{for} (nrmarker=1; nrmarker <= lng; ++nrmarker)}
\DoxyCodeLine{1171             stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, M16zeroes);}
\DoxyCodeLine{1172          nrzeroes \&= 15;}
\DoxyCodeLine{1173       \}}
\DoxyCodeLine{1174       stbiw\_\_jpg\_calcBits(DU[i], bits);}
\DoxyCodeLine{1175       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, HTAC[(nrzeroes<<4)+bits[1]]);}
\DoxyCodeLine{1176       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, bits);}
\DoxyCodeLine{1177    \}}
\DoxyCodeLine{1178    \textcolor{keywordflow}{if}(end0pos != 63) \{}
\DoxyCodeLine{1179       stbiw\_\_jpg\_writeBits(s, bitBuf, bitCnt, EOB);}
\DoxyCodeLine{1180    \}}
\DoxyCodeLine{1181    \textcolor{keywordflow}{return} DU[0];}
\DoxyCodeLine{1182 \}}
\DoxyCodeLine{1183 }
\DoxyCodeLine{1184 \textcolor{keyword}{static} \textcolor{keywordtype}{int} stbi\_write\_jpg\_core(stbi\_\_write\_context *s, \textcolor{keywordtype}{int} width, \textcolor{keywordtype}{int} height, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void}* \mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} quality) \{}
\DoxyCodeLine{1185    \textcolor{comment}{// Constants that don't pollute global namespace}}
\DoxyCodeLine{1186    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_dc\_luminance\_nrcodes[] = \{0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0\};}
\DoxyCodeLine{1187    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_dc\_luminance\_values[] = \{0,1,2,3,4,5,6,7,8,9,10,11\};}
\DoxyCodeLine{1188    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_ac\_luminance\_nrcodes[] = \{0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,0x7d\};}
\DoxyCodeLine{1189    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_ac\_luminance\_values[] = \{}
\DoxyCodeLine{1190       0x01,0x02,0x03,0x00,0x04,0x11,0x05,0x12,0x21,0x31,0x41,0x06,0x13,0x51,0x61,0x07,0x22,0x71,0x14,0x32,0x81,0x91,0xa1,0x08,}
\DoxyCodeLine{1191       0x23,0x42,0xb1,0xc1,0x15,0x52,0xd1,0xf0,0x24,0x33,0x62,0x72,0x82,0x09,0x0a,0x16,0x17,0x18,0x19,0x1a,0x25,0x26,0x27,0x28,}
\DoxyCodeLine{1192       0x29,0x2a,0x34,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,0x59,}
\DoxyCodeLine{1193       0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x83,0x84,0x85,0x86,0x87,0x88,0x89,}
\DoxyCodeLine{1194       0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,0xb5,0xb6,}
\DoxyCodeLine{1195       0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,0xe1,0xe2,}
\DoxyCodeLine{1196       0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf1,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa}
\DoxyCodeLine{1197    \};}
\DoxyCodeLine{1198    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_dc\_chrominance\_nrcodes[] = \{0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0\};}
\DoxyCodeLine{1199    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_dc\_chrominance\_values[] = \{0,1,2,3,4,5,6,7,8,9,10,11\};}
\DoxyCodeLine{1200    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_ac\_chrominance\_nrcodes[] = \{0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,0x77\};}
\DoxyCodeLine{1201    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} std\_ac\_chrominance\_values[] = \{}
\DoxyCodeLine{1202       0x00,0x01,0x02,0x03,0x11,0x04,0x05,0x21,0x31,0x06,0x12,0x41,0x51,0x07,0x61,0x71,0x13,0x22,0x32,0x81,0x08,0x14,0x42,0x91,}
\DoxyCodeLine{1203       0xa1,0xb1,0xc1,0x09,0x23,0x33,0x52,0xf0,0x15,0x62,0x72,0xd1,0x0a,0x16,0x24,0x34,0xe1,0x25,0xf1,0x17,0x18,0x19,0x1a,0x26,}
\DoxyCodeLine{1204       0x27,0x28,0x29,0x2a,0x35,0x36,0x37,0x38,0x39,0x3a,0x43,0x44,0x45,0x46,0x47,0x48,0x49,0x4a,0x53,0x54,0x55,0x56,0x57,0x58,}
\DoxyCodeLine{1205       0x59,0x5a,0x63,0x64,0x65,0x66,0x67,0x68,0x69,0x6a,0x73,0x74,0x75,0x76,0x77,0x78,0x79,0x7a,0x82,0x83,0x84,0x85,0x86,0x87,}
\DoxyCodeLine{1206       0x88,0x89,0x8a,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9a,0xa2,0xa3,0xa4,0xa5,0xa6,0xa7,0xa8,0xa9,0xaa,0xb2,0xb3,0xb4,}
\DoxyCodeLine{1207       0xb5,0xb6,0xb7,0xb8,0xb9,0xba,0xc2,0xc3,0xc4,0xc5,0xc6,0xc7,0xc8,0xc9,0xca,0xd2,0xd3,0xd4,0xd5,0xd6,0xd7,0xd8,0xd9,0xda,}
\DoxyCodeLine{1208       0xe2,0xe3,0xe4,0xe5,0xe6,0xe7,0xe8,0xe9,0xea,0xf2,0xf3,0xf4,0xf5,0xf6,0xf7,0xf8,0xf9,0xfa}
\DoxyCodeLine{1209    \};}
\DoxyCodeLine{1210    \textcolor{comment}{// Huffman tables}}
\DoxyCodeLine{1211    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} YDC\_HT[256][2] = \{ \{0,2\},\{2,3\},\{3,3\},\{4,3\},\{5,3\},\{6,3\},\{14,4\},\{30,5\},\{62,6\},\{126,7\},\{254,8\},\{510,9\}\};}
\DoxyCodeLine{1212    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} UVDC\_HT[256][2] = \{ \{0,2\},\{1,2\},\{2,2\},\{6,3\},\{14,4\},\{30,5\},\{62,6\},\{126,7\},\{254,8\},\{510,9\},\{1022,10\},\{2046,11\}\};}
\DoxyCodeLine{1213    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} YAC\_HT[256][2] = \{}
\DoxyCodeLine{1214       \{10,4\},\{0,2\},\{1,2\},\{4,3\},\{11,4\},\{26,5\},\{120,7\},\{248,8\},\{1014,10\},\{65410,16\},\{65411,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1215       \{12,4\},\{27,5\},\{121,7\},\{502,9\},\{2038,11\},\{65412,16\},\{65413,16\},\{65414,16\},\{65415,16\},\{65416,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1216       \{28,5\},\{249,8\},\{1015,10\},\{4084,12\},\{65417,16\},\{65418,16\},\{65419,16\},\{65420,16\},\{65421,16\},\{65422,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1217       \{58,6\},\{503,9\},\{4085,12\},\{65423,16\},\{65424,16\},\{65425,16\},\{65426,16\},\{65427,16\},\{65428,16\},\{65429,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1218       \{59,6\},\{1016,10\},\{65430,16\},\{65431,16\},\{65432,16\},\{65433,16\},\{65434,16\},\{65435,16\},\{65436,16\},\{65437,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1219       \{122,7\},\{2039,11\},\{65438,16\},\{65439,16\},\{65440,16\},\{65441,16\},\{65442,16\},\{65443,16\},\{65444,16\},\{65445,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1220       \{123,7\},\{4086,12\},\{65446,16\},\{65447,16\},\{65448,16\},\{65449,16\},\{65450,16\},\{65451,16\},\{65452,16\},\{65453,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1221       \{250,8\},\{4087,12\},\{65454,16\},\{65455,16\},\{65456,16\},\{65457,16\},\{65458,16\},\{65459,16\},\{65460,16\},\{65461,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1222       \{504,9\},\{32704,15\},\{65462,16\},\{65463,16\},\{65464,16\},\{65465,16\},\{65466,16\},\{65467,16\},\{65468,16\},\{65469,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1223       \{505,9\},\{65470,16\},\{65471,16\},\{65472,16\},\{65473,16\},\{65474,16\},\{65475,16\},\{65476,16\},\{65477,16\},\{65478,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1224       \{506,9\},\{65479,16\},\{65480,16\},\{65481,16\},\{65482,16\},\{65483,16\},\{65484,16\},\{65485,16\},\{65486,16\},\{65487,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1225       \{1017,10\},\{65488,16\},\{65489,16\},\{65490,16\},\{65491,16\},\{65492,16\},\{65493,16\},\{65494,16\},\{65495,16\},\{65496,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1226       \{1018,10\},\{65497,16\},\{65498,16\},\{65499,16\},\{65500,16\},\{65501,16\},\{65502,16\},\{65503,16\},\{65504,16\},\{65505,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1227       \{2040,11\},\{65506,16\},\{65507,16\},\{65508,16\},\{65509,16\},\{65510,16\},\{65511,16\},\{65512,16\},\{65513,16\},\{65514,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1228       \{65515,16\},\{65516,16\},\{65517,16\},\{65518,16\},\{65519,16\},\{65520,16\},\{65521,16\},\{65522,16\},\{65523,16\},\{65524,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1229       \{2041,11\},\{65525,16\},\{65526,16\},\{65527,16\},\{65528,16\},\{65529,16\},\{65530,16\},\{65531,16\},\{65532,16\},\{65533,16\},\{65534,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\}}
\DoxyCodeLine{1230    \};}
\DoxyCodeLine{1231    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} UVAC\_HT[256][2] = \{}
\DoxyCodeLine{1232       \{0,2\},\{1,2\},\{4,3\},\{10,4\},\{24,5\},\{25,5\},\{56,6\},\{120,7\},\{500,9\},\{1014,10\},\{4084,12\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1233       \{11,4\},\{57,6\},\{246,8\},\{501,9\},\{2038,11\},\{4085,12\},\{65416,16\},\{65417,16\},\{65418,16\},\{65419,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1234       \{26,5\},\{247,8\},\{1015,10\},\{4086,12\},\{32706,15\},\{65420,16\},\{65421,16\},\{65422,16\},\{65423,16\},\{65424,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1235       \{27,5\},\{248,8\},\{1016,10\},\{4087,12\},\{65425,16\},\{65426,16\},\{65427,16\},\{65428,16\},\{65429,16\},\{65430,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1236       \{58,6\},\{502,9\},\{65431,16\},\{65432,16\},\{65433,16\},\{65434,16\},\{65435,16\},\{65436,16\},\{65437,16\},\{65438,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1237       \{59,6\},\{1017,10\},\{65439,16\},\{65440,16\},\{65441,16\},\{65442,16\},\{65443,16\},\{65444,16\},\{65445,16\},\{65446,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1238       \{121,7\},\{2039,11\},\{65447,16\},\{65448,16\},\{65449,16\},\{65450,16\},\{65451,16\},\{65452,16\},\{65453,16\},\{65454,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1239       \{122,7\},\{2040,11\},\{65455,16\},\{65456,16\},\{65457,16\},\{65458,16\},\{65459,16\},\{65460,16\},\{65461,16\},\{65462,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1240       \{249,8\},\{65463,16\},\{65464,16\},\{65465,16\},\{65466,16\},\{65467,16\},\{65468,16\},\{65469,16\},\{65470,16\},\{65471,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1241       \{503,9\},\{65472,16\},\{65473,16\},\{65474,16\},\{65475,16\},\{65476,16\},\{65477,16\},\{65478,16\},\{65479,16\},\{65480,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1242       \{504,9\},\{65481,16\},\{65482,16\},\{65483,16\},\{65484,16\},\{65485,16\},\{65486,16\},\{65487,16\},\{65488,16\},\{65489,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1243       \{505,9\},\{65490,16\},\{65491,16\},\{65492,16\},\{65493,16\},\{65494,16\},\{65495,16\},\{65496,16\},\{65497,16\},\{65498,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1244       \{506,9\},\{65499,16\},\{65500,16\},\{65501,16\},\{65502,16\},\{65503,16\},\{65504,16\},\{65505,16\},\{65506,16\},\{65507,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1245       \{2041,11\},\{65508,16\},\{65509,16\},\{65510,16\},\{65511,16\},\{65512,16\},\{65513,16\},\{65514,16\},\{65515,16\},\{65516,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1246       \{16352,14\},\{65517,16\},\{65518,16\},\{65519,16\},\{65520,16\},\{65521,16\},\{65522,16\},\{65523,16\},\{65524,16\},\{65525,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},}
\DoxyCodeLine{1247       \{1018,10\},\{32707,15\},\{65526,16\},\{65527,16\},\{65528,16\},\{65529,16\},\{65530,16\},\{65531,16\},\{65532,16\},\{65533,16\},\{65534,16\},\{0,0\},\{0,0\},\{0,0\},\{0,0\},\{0,0\}}
\DoxyCodeLine{1248    \};}
\DoxyCodeLine{1249    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} YQT[] = \{16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,}
\DoxyCodeLine{1250                              37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99\};}
\DoxyCodeLine{1251    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} UVQT[] = \{17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,}
\DoxyCodeLine{1252                               99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99\};}
\DoxyCodeLine{1253    \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{float} aasf[] = \{ 1.0f * 2.828427125f, 1.387039845f * 2.828427125f, 1.306562965f * 2.828427125f, 1.175875602f * 2.828427125f,}
\DoxyCodeLine{1254                                  1.0f * 2.828427125f, 0.785694958f * 2.828427125f, 0.541196100f * 2.828427125f, 0.275899379f * 2.828427125f \};}
\DoxyCodeLine{1255 }
\DoxyCodeLine{1256    \textcolor{keywordtype}{int} row, col, i, k;}
\DoxyCodeLine{1257    \textcolor{keywordtype}{float} fdtbl\_Y[64], fdtbl\_UV[64];}
\DoxyCodeLine{1258    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} YTable[64], UVTable[64];}
\DoxyCodeLine{1259 }
\DoxyCodeLine{1260    \textcolor{keywordflow}{if}(!\mbox{\hyperlink{structdata}{data}} || !width || !height || comp > 4 || comp < 1) \{}
\DoxyCodeLine{1261       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{1262    \}}
\DoxyCodeLine{1263 }
\DoxyCodeLine{1264    quality = quality ? quality : 90;}
\DoxyCodeLine{1265    quality = quality < 1 ? 1 : quality > 100 ? 100 : quality;}
\DoxyCodeLine{1266    quality = quality < 50 ? 5000 / quality : 200 -\/ quality * 2;}
\DoxyCodeLine{1267 }
\DoxyCodeLine{1268    \textcolor{keywordflow}{for}(i = 0; i < 64; ++i) \{}
\DoxyCodeLine{1269       \textcolor{keywordtype}{int} uvti, yti = (YQT[i]*quality+50)/100;}
\DoxyCodeLine{1270       YTable[stbiw\_\_jpg\_ZigZag[i]] = (\textcolor{keywordtype}{unsigned} char) (yti < 1 ? 1 : yti > 255 ? 255 : yti);}
\DoxyCodeLine{1271       uvti = (UVQT[i]*quality+50)/100;}
\DoxyCodeLine{1272       UVTable[stbiw\_\_jpg\_ZigZag[i]] = (\textcolor{keywordtype}{unsigned} char) (uvti < 1 ? 1 : uvti > 255 ? 255 : uvti);}
\DoxyCodeLine{1273    \}}
\DoxyCodeLine{1274 }
\DoxyCodeLine{1275    \textcolor{keywordflow}{for}(row = 0, k = 0; row < 8; ++row) \{}
\DoxyCodeLine{1276       \textcolor{keywordflow}{for}(col = 0; col < 8; ++col, ++k) \{}
\DoxyCodeLine{1277          fdtbl\_Y[k]  = 1 / (YTable [stbiw\_\_jpg\_ZigZag[k]] * aasf[row] * aasf[col]);}
\DoxyCodeLine{1278          fdtbl\_UV[k] = 1 / (UVTable[stbiw\_\_jpg\_ZigZag[k]] * aasf[row] * aasf[col]);}
\DoxyCodeLine{1279       \}}
\DoxyCodeLine{1280    \}}
\DoxyCodeLine{1281 }
\DoxyCodeLine{1282    \textcolor{comment}{// Write Headers}}
\DoxyCodeLine{1283    \{}
\DoxyCodeLine{1284       \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} head0[] = \{ 0xFF,0xD8,0xFF,0xE0,0,0x10,\textcolor{charliteral}{'J'},\textcolor{charliteral}{'F'},\textcolor{charliteral}{'I'},\textcolor{charliteral}{'F'},0,1,1,0,0,1,0,1,0,0,0xFF,0xDB,0,0x84,0 \};}
\DoxyCodeLine{1285       \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} head2[] = \{ 0xFF,0xDA,0,0xC,3,1,0,2,0x11,3,0x11,0,0x3F,0 \};}
\DoxyCodeLine{1286       \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} head1[] = \{ 0xFF,0xC0,0,0x11,8,(\textcolor{keywordtype}{unsigned} char)(height>>8),STBIW\_UCHAR(height),(\textcolor{keywordtype}{unsigned} char)(width>>8),STBIW\_UCHAR(width),}
\DoxyCodeLine{1287                                       3,1,0x11,0,2,0x11,1,3,0x11,1,0xFF,0xC4,0x01,0xA2,0 \};}
\DoxyCodeLine{1288       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)head0, \textcolor{keyword}{sizeof}(head0));}
\DoxyCodeLine{1289       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)YTable, \textcolor{keyword}{sizeof}(YTable));}
\DoxyCodeLine{1290       stbiw\_\_putc(s, 1);}
\DoxyCodeLine{1291       s-\/>func(s-\/>context, UVTable, \textcolor{keyword}{sizeof}(UVTable));}
\DoxyCodeLine{1292       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)head1, \textcolor{keyword}{sizeof}(head1));}
\DoxyCodeLine{1293       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)(std\_dc\_luminance\_nrcodes+1), \textcolor{keyword}{sizeof}(std\_dc\_luminance\_nrcodes)-\/1);}
\DoxyCodeLine{1294       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)std\_dc\_luminance\_values, \textcolor{keyword}{sizeof}(std\_dc\_luminance\_values));}
\DoxyCodeLine{1295       stbiw\_\_putc(s, 0x10); \textcolor{comment}{// HTYACinfo}}
\DoxyCodeLine{1296       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)(std\_ac\_luminance\_nrcodes+1), \textcolor{keyword}{sizeof}(std\_ac\_luminance\_nrcodes)-\/1);}
\DoxyCodeLine{1297       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)std\_ac\_luminance\_values, \textcolor{keyword}{sizeof}(std\_ac\_luminance\_values));}
\DoxyCodeLine{1298       stbiw\_\_putc(s, 1); \textcolor{comment}{// HTUDCinfo}}
\DoxyCodeLine{1299       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)(std\_dc\_chrominance\_nrcodes+1), \textcolor{keyword}{sizeof}(std\_dc\_chrominance\_nrcodes)-\/1);}
\DoxyCodeLine{1300       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)std\_dc\_chrominance\_values, \textcolor{keyword}{sizeof}(std\_dc\_chrominance\_values));}
\DoxyCodeLine{1301       stbiw\_\_putc(s, 0x11); \textcolor{comment}{// HTUACinfo}}
\DoxyCodeLine{1302       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)(std\_ac\_chrominance\_nrcodes+1), \textcolor{keyword}{sizeof}(std\_ac\_chrominance\_nrcodes)-\/1);}
\DoxyCodeLine{1303       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)std\_ac\_chrominance\_values, \textcolor{keyword}{sizeof}(std\_ac\_chrominance\_values));}
\DoxyCodeLine{1304       s-\/>func(s-\/>context, (\textcolor{keywordtype}{void}*)head2, \textcolor{keyword}{sizeof}(head2));}
\DoxyCodeLine{1305    \}}
\DoxyCodeLine{1306 }
\DoxyCodeLine{1307    \textcolor{comment}{// Encode 8x8 macroblocks}}
\DoxyCodeLine{1308    \{}
\DoxyCodeLine{1309       \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} fillBits[] = \{0x7F, 7\};}
\DoxyCodeLine{1310       \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *imageData = (\textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *)\mbox{\hyperlink{structdata}{data}};}
\DoxyCodeLine{1311       \textcolor{keywordtype}{int} DCY=0, DCU=0, DCV=0;}
\DoxyCodeLine{1312       \textcolor{keywordtype}{int} bitBuf=0, bitCnt=0;}
\DoxyCodeLine{1313       \textcolor{comment}{// comp == 2 is grey+alpha (alpha is ignored)}}
\DoxyCodeLine{1314       \textcolor{keywordtype}{int} ofsG = comp > 2 ? 1 : 0, ofsB = comp > 2 ? 2 : 0;}
\DoxyCodeLine{1315       \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, pos;}
\DoxyCodeLine{1316       \textcolor{keywordflow}{for}(\mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} = 0; \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} < height; \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}} += 8) \{}
\DoxyCodeLine{1317          \textcolor{keywordflow}{for}(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} = 0; \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} < width; \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} += 8) \{}
\DoxyCodeLine{1318             \textcolor{keywordtype}{float} YDU[64], UDU[64], VDU[64];}
\DoxyCodeLine{1319             \textcolor{keywordflow}{for}(row = \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, pos = 0; row < \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}+8; ++row) \{}
\DoxyCodeLine{1320                \textcolor{keywordflow}{for}(col = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}; col < \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}+8; ++col, ++pos) \{}
\DoxyCodeLine{1321                   \textcolor{keywordtype}{int} p = row*width*comp + col*comp;}
\DoxyCodeLine{1322                   \textcolor{keywordtype}{float} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}, \mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}}, b;}
\DoxyCodeLine{1323                   \textcolor{keywordflow}{if}(row >= height) \{}
\DoxyCodeLine{1324                      p -\/= width*comp*(row+1 -\/ height);}
\DoxyCodeLine{1325                   \}}
\DoxyCodeLine{1326                   \textcolor{keywordflow}{if}(col >= width) \{}
\DoxyCodeLine{1327                      p -\/= comp*(col+1 -\/ width);}
\DoxyCodeLine{1328                   \}}
\DoxyCodeLine{1329 }
\DoxyCodeLine{1330                   \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = imageData[p+0];}
\DoxyCodeLine{1331                   \mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}} = imageData[p+ofsG];}
\DoxyCodeLine{1332                   b = imageData[p+ofsB];}
\DoxyCodeLine{1333                   YDU[pos]=+0.29900f*\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}+0.58700f*\mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}}+0.11400f*b-\/128;}
\DoxyCodeLine{1334                   UDU[pos]=-\/0.16874f*\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/0.33126f*\mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}}+0.50000f*b;}
\DoxyCodeLine{1335                   VDU[pos]=+0.50000f*\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/0.41869f*\mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}}-\/0.08131f*b;}
\DoxyCodeLine{1336                \}}
\DoxyCodeLine{1337             \}}
\DoxyCodeLine{1338 }
\DoxyCodeLine{1339             DCY = stbiw\_\_jpg\_processDU(s, \&bitBuf, \&bitCnt, YDU, fdtbl\_Y, DCY, YDC\_HT, YAC\_HT);}
\DoxyCodeLine{1340             DCU = stbiw\_\_jpg\_processDU(s, \&bitBuf, \&bitCnt, UDU, fdtbl\_UV, DCU, UVDC\_HT, UVAC\_HT);}
\DoxyCodeLine{1341             DCV = stbiw\_\_jpg\_processDU(s, \&bitBuf, \&bitCnt, VDU, fdtbl\_UV, DCV, UVDC\_HT, UVAC\_HT);}
\DoxyCodeLine{1342          \}}
\DoxyCodeLine{1343       \}}
\DoxyCodeLine{1344 }
\DoxyCodeLine{1345       \textcolor{comment}{// Do the bit alignment of the EOI marker}}
\DoxyCodeLine{1346       stbiw\_\_jpg\_writeBits(s, \&bitBuf, \&bitCnt, fillBits);}
\DoxyCodeLine{1347    \}}
\DoxyCodeLine{1348 }
\DoxyCodeLine{1349    \textcolor{comment}{// EOI}}
\DoxyCodeLine{1350    stbiw\_\_putc(s, 0xFF);}
\DoxyCodeLine{1351    stbiw\_\_putc(s, 0xD9);}
\DoxyCodeLine{1352 }
\DoxyCodeLine{1353    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{1354 \}}
\DoxyCodeLine{1355 }
\DoxyCodeLine{1356 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_afbe60a9afbcbd6d54f98f72afd46a676}{stbi\_write\_jpg\_to\_func}}(\mbox{\hyperlink{stb__image__write_8h_a2326fd2fd79095b9ef34695a0bda114f}{stbi\_write\_func}} *func, \textcolor{keywordtype}{void} *context, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} quality)}
\DoxyCodeLine{1357 \{}
\DoxyCodeLine{1358    stbi\_\_write\_context s;}
\DoxyCodeLine{1359    stbi\_\_start\_write\_callbacks(\&s, func, context);}
\DoxyCodeLine{1360    \textcolor{keywordflow}{return} stbi\_write\_jpg\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, (\textcolor{keywordtype}{void} *) \mbox{\hyperlink{structdata}{data}}, quality);}
\DoxyCodeLine{1361 \}}
\DoxyCodeLine{1362 }
\DoxyCodeLine{1363 }
\DoxyCodeLine{1364 \textcolor{preprocessor}{\#ifndef STBI\_WRITE\_NO\_STDIO}}
\DoxyCodeLine{1365 \mbox{\hyperlink{stb__image__write_8h_a1d964457ebf7cc898b8cb14e66cbfaa8}{STBIWDEF}} \textcolor{keywordtype}{int} \mbox{\hyperlink{stb__image__write_8h_a41048e8f918179d2788284ef9cc2590c}{stbi\_write\_jpg}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const} *filename, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, \textcolor{keywordtype}{int} comp, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{int} quality)}
\DoxyCodeLine{1366 \{}
\DoxyCodeLine{1367    stbi\_\_write\_context s;}
\DoxyCodeLine{1368    \textcolor{keywordflow}{if} (stbi\_\_start\_write\_file(\&s,filename)) \{}
\DoxyCodeLine{1369       \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = stbi\_write\_jpg\_core(\&s, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \mbox{\hyperlink{utils_8c_ac30de26db5f6d1c18c63913729adca7d}{y}}, comp, \mbox{\hyperlink{structdata}{data}}, quality);}
\DoxyCodeLine{1370       stbi\_\_end\_write\_file(\&s);}
\DoxyCodeLine{1371       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}};}
\DoxyCodeLine{1372    \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{1373       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{1374 \}}
\DoxyCodeLine{1375 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1376 }
\DoxyCodeLine{1377 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// STB\_IMAGE\_WRITE\_IMPLEMENTATION}}
\DoxyCodeLine{1378 }
\DoxyCodeLine{1379 \textcolor{comment}{/* Revision history}}
\DoxyCodeLine{1380 \textcolor{comment}{      1.07  (2017-\/07-\/24)}}
\DoxyCodeLine{1381 \textcolor{comment}{             doc fix}}
\DoxyCodeLine{1382 \textcolor{comment}{      1.06 (2017-\/07-\/23)}}
\DoxyCodeLine{1383 \textcolor{comment}{             writing JPEG (using Jon Olick's code)}}
\DoxyCodeLine{1384 \textcolor{comment}{      1.05   ???}}
\DoxyCodeLine{1385 \textcolor{comment}{      1.04 (2017-\/03-\/03)}}
\DoxyCodeLine{1386 \textcolor{comment}{             monochrome BMP expansion}}
\DoxyCodeLine{1387 \textcolor{comment}{      1.03   ???}}
\DoxyCodeLine{1388 \textcolor{comment}{      1.02 (2016-\/04-\/02)}}
\DoxyCodeLine{1389 \textcolor{comment}{             avoid allocating large structures on the stack}}
\DoxyCodeLine{1390 \textcolor{comment}{      1.01 (2016-\/01-\/16)}}
\DoxyCodeLine{1391 \textcolor{comment}{             STBIW\_REALLOC\_SIZED: support allocators with no realloc support}}
\DoxyCodeLine{1392 \textcolor{comment}{             avoid race-\/condition in crc initialization}}
\DoxyCodeLine{1393 \textcolor{comment}{             minor compile issues}}
\DoxyCodeLine{1394 \textcolor{comment}{      1.00 (2015-\/09-\/14)}}
\DoxyCodeLine{1395 \textcolor{comment}{             installable file IO function}}
\DoxyCodeLine{1396 \textcolor{comment}{      0.99 (2015-\/09-\/13)}}
\DoxyCodeLine{1397 \textcolor{comment}{             warning fixes; TGA rle support}}
\DoxyCodeLine{1398 \textcolor{comment}{      0.98 (2015-\/04-\/08)}}
\DoxyCodeLine{1399 \textcolor{comment}{             added STBIW\_MALLOC, STBIW\_ASSERT etc}}
\DoxyCodeLine{1400 \textcolor{comment}{      0.97 (2015-\/01-\/18)}}
\DoxyCodeLine{1401 \textcolor{comment}{             fixed HDR asserts, rewrote HDR rle logic}}
\DoxyCodeLine{1402 \textcolor{comment}{      0.96 (2015-\/01-\/17)}}
\DoxyCodeLine{1403 \textcolor{comment}{             add HDR output}}
\DoxyCodeLine{1404 \textcolor{comment}{             fix monochrome BMP}}
\DoxyCodeLine{1405 \textcolor{comment}{      0.95 (2014-\/08-\/17)}}
\DoxyCodeLine{1406 \textcolor{comment}{               add monochrome TGA output}}
\DoxyCodeLine{1407 \textcolor{comment}{      0.94 (2014-\/05-\/31)}}
\DoxyCodeLine{1408 \textcolor{comment}{             rename private functions to avoid conflicts with stb\_image.h}}
\DoxyCodeLine{1409 \textcolor{comment}{      0.93 (2014-\/05-\/27)}}
\DoxyCodeLine{1410 \textcolor{comment}{             warning fixes}}
\DoxyCodeLine{1411 \textcolor{comment}{      0.92 (2010-\/08-\/01)}}
\DoxyCodeLine{1412 \textcolor{comment}{             casts to unsigned char to fix warnings}}
\DoxyCodeLine{1413 \textcolor{comment}{      0.91 (2010-\/07-\/17)}}
\DoxyCodeLine{1414 \textcolor{comment}{             first public release}}
\DoxyCodeLine{1415 \textcolor{comment}{      0.90   first internal release}}
\DoxyCodeLine{1416 \textcolor{comment}{*/}}
\DoxyCodeLine{1417 }
\DoxyCodeLine{1418 \textcolor{comment}{/*}}
\DoxyCodeLine{1419 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1420 \textcolor{comment}{This software is available under 2 licenses -\/-\/ choose whichever you prefer.}}
\DoxyCodeLine{1421 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1422 \textcolor{comment}{ALTERNATIVE A -\/ MIT License}}
\DoxyCodeLine{1423 \textcolor{comment}{Copyright (c) 2017 Sean Barrett}}
\DoxyCodeLine{1424 \textcolor{comment}{Permission is hereby granted, free of charge, to any person obtaining a copy of}}
\DoxyCodeLine{1425 \textcolor{comment}{this software and associated documentation files (the "{}Software"{}), to deal in}}
\DoxyCodeLine{1426 \textcolor{comment}{the Software without restriction, including without limitation the rights to}}
\DoxyCodeLine{1427 \textcolor{comment}{use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies}}
\DoxyCodeLine{1428 \textcolor{comment}{of the Software, and to permit persons to whom the Software is furnished to do}}
\DoxyCodeLine{1429 \textcolor{comment}{so, subject to the following conditions:}}
\DoxyCodeLine{1430 \textcolor{comment}{The above copyright notice and this permission notice shall be included in all}}
\DoxyCodeLine{1431 \textcolor{comment}{copies or substantial portions of the Software.}}
\DoxyCodeLine{1432 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{1433 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{1434 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{1435 \textcolor{comment}{AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER}}
\DoxyCodeLine{1436 \textcolor{comment}{LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,}}
\DoxyCodeLine{1437 \textcolor{comment}{OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE}}
\DoxyCodeLine{1438 \textcolor{comment}{SOFTWARE.}}
\DoxyCodeLine{1439 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1440 \textcolor{comment}{ALTERNATIVE B -\/ Public Domain (www.unlicense.org)}}
\DoxyCodeLine{1441 \textcolor{comment}{This is free and unencumbered software released into the public domain.}}
\DoxyCodeLine{1442 \textcolor{comment}{Anyone is free to copy, modify, publish, use, compile, sell, or distribute this}}
\DoxyCodeLine{1443 \textcolor{comment}{software, either in source code form or as a compiled binary, for any purpose,}}
\DoxyCodeLine{1444 \textcolor{comment}{commercial or non-\/commercial, and by any means.}}
\DoxyCodeLine{1445 \textcolor{comment}{In jurisdictions that recognize copyright laws, the author or authors of this}}
\DoxyCodeLine{1446 \textcolor{comment}{software dedicate any and all copyright interest in the software to the public}}
\DoxyCodeLine{1447 \textcolor{comment}{domain. We make this dedication for the benefit of the public at large and to}}
\DoxyCodeLine{1448 \textcolor{comment}{the detriment of our heirs and successors. We intend this dedication to be an}}
\DoxyCodeLine{1449 \textcolor{comment}{overt act of relinquishment in perpetuity of all present and future rights to}}
\DoxyCodeLine{1450 \textcolor{comment}{this software under copyright law.}}
\DoxyCodeLine{1451 \textcolor{comment}{THE SOFTWARE IS PROVIDED "{}AS IS"{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR}}
\DoxyCodeLine{1452 \textcolor{comment}{IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,}}
\DoxyCodeLine{1453 \textcolor{comment}{FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE}}
\DoxyCodeLine{1454 \textcolor{comment}{AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN}}
\DoxyCodeLine{1455 \textcolor{comment}{ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION}}
\DoxyCodeLine{1456 \textcolor{comment}{WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.}}
\DoxyCodeLine{1457 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{1458 \textcolor{comment}{*/}}

\end{DoxyCode}
