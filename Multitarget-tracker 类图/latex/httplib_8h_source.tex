\hypertarget{httplib_8h_source}{}\doxysection{httplib.\+h}
\label{httplib_8h_source}\index{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/darknet/src/httplib.h@{D:/zhr\_files/Multitarget-\/tracker-\/master/src/Detector/darknet/src/httplib.h}}
\mbox{\hyperlink{httplib_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{//  httplib.h}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{//  Copyright (c) 2019 Yuji Hirose. All rights reserved.}}
\DoxyCodeLine{5 \textcolor{comment}{//  MIT License}}
\DoxyCodeLine{6 \textcolor{comment}{//}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_HTTPLIB\_H}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define CPPHTTPLIB\_HTTPLIB\_H}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{comment}{/*}}
\DoxyCodeLine{12 \textcolor{comment}{ * Configuration}}
\DoxyCodeLine{13 \textcolor{comment}{ */}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_SECOND}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_SECOND 5}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_USECOND}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_USECOND 0}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_KEEPALIVE\_MAX\_COUNT}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#define CPPHTTPLIB\_KEEPALIVE\_MAX\_COUNT 5}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_READ\_TIMEOUT\_SECOND}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define CPPHTTPLIB\_READ\_TIMEOUT\_SECOND 5}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_READ\_TIMEOUT\_USECOND}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#define CPPHTTPLIB\_READ\_TIMEOUT\_USECOND 0}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_REQUEST\_URI\_MAX\_LENGTH}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#define CPPHTTPLIB\_REQUEST\_URI\_MAX\_LENGTH 8192}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_REDIRECT\_MAX\_COUNT}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#define CPPHTTPLIB\_REDIRECT\_MAX\_COUNT 20}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_PAYLOAD\_MAX\_LENGTH}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define CPPHTTPLIB\_PAYLOAD\_MAX\_LENGTH (std::numeric\_limits<size\_t>::max)()}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_RECV\_BUFSIZ}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#define CPPHTTPLIB\_RECV\_BUFSIZ size\_t(4096u)}}
\DoxyCodeLine{49 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_THREAD\_POOL\_COUNT}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#define CPPHTTPLIB\_THREAD\_POOL\_COUNT 8}}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{comment}{/*}}
\DoxyCodeLine{56 \textcolor{comment}{ * Headers}}
\DoxyCodeLine{57 \textcolor{comment}{ */}}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{60 \textcolor{preprocessor}{\#ifndef \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{61 \textcolor{preprocessor}{\#define \_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{62 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//\_CRT\_SECURE\_NO\_WARNINGS}}
\DoxyCodeLine{63 }
\DoxyCodeLine{64 \textcolor{preprocessor}{\#ifndef \_CRT\_NONSTDC\_NO\_DEPRECATE}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#define \_CRT\_NONSTDC\_NO\_DEPRECATE}}
\DoxyCodeLine{66 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//\_CRT\_NONSTDC\_NO\_DEPRECATE}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \textcolor{preprocessor}{\#if defined(\_MSC\_VER)}}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#ifdef \_WIN64}}
\DoxyCodeLine{70 \textcolor{keyword}{using} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} = \_\_int64;}
\DoxyCodeLine{71 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{72 \textcolor{keyword}{using} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} = int;}
\DoxyCodeLine{73 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 \textcolor{preprocessor}{\#if \_MSC\_VER < 1900}}
\DoxyCodeLine{76 \textcolor{preprocessor}{\#define snprintf \_snprintf\_s}}
\DoxyCodeLine{77 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{78 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_MSC\_VER}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{preprocessor}{\#ifndef S\_ISREG}}
\DoxyCodeLine{81 \textcolor{preprocessor}{\#define S\_ISREG(m) (((m)\&S\_IFREG) == S\_IFREG)}}
\DoxyCodeLine{82 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// S\_ISREG}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{preprocessor}{\#ifndef S\_ISDIR}}
\DoxyCodeLine{85 \textcolor{preprocessor}{\#define S\_ISDIR(m) (((m)\&S\_IFDIR) == S\_IFDIR)}}
\DoxyCodeLine{86 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// S\_ISDIR}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{preprocessor}{\#ifndef NOMINMAX}}
\DoxyCodeLine{89 \textcolor{preprocessor}{\#define NOMINMAX}}
\DoxyCodeLine{90 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// NOMINMAX}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 \textcolor{preprocessor}{\#include <io.h>}}
\DoxyCodeLine{93 \textcolor{preprocessor}{\#include <winsock2.h>}}
\DoxyCodeLine{94 \textcolor{preprocessor}{\#include <ws2tcpip.h>}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 \textcolor{preprocessor}{\#ifndef WSA\_FLAG\_NO\_HANDLE\_INHERIT}}
\DoxyCodeLine{97 \textcolor{preprocessor}{\#define WSA\_FLAG\_NO\_HANDLE\_INHERIT 0x80}}
\DoxyCodeLine{98 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{99 }
\DoxyCodeLine{100 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{101 \textcolor{preprocessor}{\#pragma comment(lib, "{}ws2\_32.lib"{}})}
\DoxyCodeLine{102 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{103 }
\DoxyCodeLine{104 \textcolor{preprocessor}{\#ifndef strcasecmp}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#define strcasecmp \_stricmp}}
\DoxyCodeLine{106 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// strcasecmp}}
\DoxyCodeLine{107 }
\DoxyCodeLine{108 \textcolor{keyword}{using} \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} = \mbox{\hyperlink{http__stream_8cpp_aff55fe551a9992a54ec54621c524d0a4}{SOCKET}};}
\DoxyCodeLine{109 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_USE\_POLL}}
\DoxyCodeLine{110 \textcolor{preprocessor}{\#define poll(fds, nfds, timeout) WSAPoll(fds, nfds, timeout)}}
\DoxyCodeLine{111 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 \textcolor{preprocessor}{\#else }\textcolor{comment}{// not \_WIN32}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115 \textcolor{preprocessor}{\#include <arpa/inet.h>}}
\DoxyCodeLine{116 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{117 \textcolor{preprocessor}{\#include <netdb.h>}}
\DoxyCodeLine{118 \textcolor{preprocessor}{\#include <netinet/in.h>}}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_USE\_POLL}}
\DoxyCodeLine{120 \textcolor{preprocessor}{\#include <poll.h>}}
\DoxyCodeLine{121 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{122 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{pthread_8h}{pthread.h}}>}}
\DoxyCodeLine{123 \textcolor{preprocessor}{\#include <csignal>}}
\DoxyCodeLine{124 \textcolor{preprocessor}{\#include <sys/select.h>}}
\DoxyCodeLine{125 \textcolor{preprocessor}{\#include <sys/socket.h>}}
\DoxyCodeLine{126 \textcolor{preprocessor}{\#include <unistd.h>}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 \textcolor{keyword}{using} \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} = int;}
\DoxyCodeLine{129 }
\DoxyCodeLine{130 \textcolor{preprocessor}{\#ifndef INVALID\_SOCKET}}
\DoxyCodeLine{131 \textcolor{preprocessor}{\#define INVALID\_SOCKET -\/1}}
\DoxyCodeLine{132 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{133 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//\_WIN32}}
\DoxyCodeLine{134 }
\DoxyCodeLine{135 \textcolor{preprocessor}{\#include <array>}}
\DoxyCodeLine{136 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{137 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{138 \textcolor{preprocessor}{\#include <condition\_variable>}}
\DoxyCodeLine{139 \textcolor{preprocessor}{\#include <errno.h>}}
\DoxyCodeLine{140 \textcolor{preprocessor}{\#include <fcntl.h>}}
\DoxyCodeLine{141 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{142 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{143 \textcolor{preprocessor}{\#include <list>}}
\DoxyCodeLine{144 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{145 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{146 \textcolor{preprocessor}{\#include <mutex>}}
\DoxyCodeLine{147 \textcolor{preprocessor}{\#include <random>}}
\DoxyCodeLine{148 \textcolor{preprocessor}{\#include <regex>}}
\DoxyCodeLine{149 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{150 \textcolor{preprocessor}{\#include <sys/stat.h>}}
\DoxyCodeLine{151 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_OPENSSL\_SUPPORT}}
\DoxyCodeLine{154 \textcolor{preprocessor}{\#include <openssl/err.h>}}
\DoxyCodeLine{155 \textcolor{preprocessor}{\#include <openssl/ssl.h>}}
\DoxyCodeLine{156 \textcolor{preprocessor}{\#include <openssl/x509v3.h>}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \textcolor{comment}{// \#if OPENSSL\_VERSION\_NUMBER < 0x1010100fL}}
\DoxyCodeLine{159 \textcolor{comment}{// \#error Sorry, OpenSSL versions prior to 1.1.1 are not supported}}
\DoxyCodeLine{160 \textcolor{comment}{// \#endif}}
\DoxyCodeLine{161 }
\DoxyCodeLine{162 \textcolor{preprocessor}{\#if OPENSSL\_VERSION\_NUMBER < 0x10100000L}}
\DoxyCodeLine{163 \textcolor{preprocessor}{\#include <openssl/crypto.h>}}
\DoxyCodeLine{164 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *ASN1\_STRING\_get0\_data(\textcolor{keyword}{const} ASN1\_STRING *asn1) \{}
\DoxyCodeLine{165   \textcolor{keywordflow}{return} M\_ASN1\_STRING\_data(asn1);}
\DoxyCodeLine{166 \}}
\DoxyCodeLine{167 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{168 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{169 }
\DoxyCodeLine{170 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_ZLIB\_SUPPORT}}
\DoxyCodeLine{171 \textcolor{preprocessor}{\#include <zlib.h>}}
\DoxyCodeLine{172 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{comment}{/*}}
\DoxyCodeLine{175 \textcolor{comment}{ * Declaration}}
\DoxyCodeLine{176 \textcolor{comment}{ */}}
\DoxyCodeLine{177 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacehttplib}{httplib}} \{}
\DoxyCodeLine{178 }
\DoxyCodeLine{179 \textcolor{keyword}{namespace }detail \{}
\DoxyCodeLine{180 }
\DoxyCodeLine{181 \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1detail_1_1ci}{ci}} \{}
\DoxyCodeLine{182   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1detail_1_1ci_aeaea80792948fbb7a21f27b3104ca639}{operator()}}(\textcolor{keyword}{const} std::string \&s1, \textcolor{keyword}{const} std::string \&s2)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{183     \textcolor{keywordflow}{return} std::lexicographical\_compare(}
\DoxyCodeLine{184         s1.begin(), s1.end(), s2.begin(), s2.end(),}
\DoxyCodeLine{185         [](\textcolor{keywordtype}{char} c1, \textcolor{keywordtype}{char} c2) \{ return ::tolower(c1) < ::tolower(c2); \});}
\DoxyCodeLine{186   \}}
\DoxyCodeLine{187 \};}
\DoxyCodeLine{188 }
\DoxyCodeLine{189 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{190 }
\DoxyCodeLine{191 \textcolor{keyword}{enum class} \mbox{\hyperlink{namespacehttplib_a06503c09e08929a1a1a98f3c8d7bd7d5}{HttpVersion}} \{ \mbox{\hyperlink{namespacehttplib_a06503c09e08929a1a1a98f3c8d7bd7d5a09d7da9ea375f1827517b45b61cfc6b8}{v1\_0}} = 0, \mbox{\hyperlink{namespacehttplib_a06503c09e08929a1a1a98f3c8d7bd7d5a4f397565e46919bce9d36b3c6a9cafc0}{v1\_1}} \};}
\DoxyCodeLine{192 }
\DoxyCodeLine{193 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} = std::multimap<std::string, std::string, detail::ci>;}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} = std::multimap<std::string, std::string>;}
\DoxyCodeLine{196 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a33c72941ad79dac75b23f0d6b5f02571}{Match}} = std::smatch;}
\DoxyCodeLine{197 }
\DoxyCodeLine{198 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} = std::function<void(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{size\_t} data\_len)>;}
\DoxyCodeLine{199 }
\DoxyCodeLine{200 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a8d10683b0d01cae237d30c058a9c1d27}{Done}} = std::function<void()>;}
\DoxyCodeLine{201 }
\DoxyCodeLine{202 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} = std::function<void(\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink)>;}
\DoxyCodeLine{203 }
\DoxyCodeLine{204 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a967ba317a68ed6bbfdefca7542e5da1c}{ContentProviderWithCloser}} = std::function<void(\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink, \mbox{\hyperlink{namespacehttplib_a8d10683b0d01cae237d30c058a9c1d27}{Done}} done)>;}
\DoxyCodeLine{205 }
\DoxyCodeLine{206 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} = std::function<bool(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{size\_t} data\_length)>;}
\DoxyCodeLine{207 }
\DoxyCodeLine{208 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_ae9e4a4a8eed966ddf8df83b1a07620ba}{ContentReader}} = std::function<bool(\mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} receiver)>;}
\DoxyCodeLine{209 }
\DoxyCodeLine{210 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} = std::function<bool(uint64\_t current, uint64\_t total)>;}
\DoxyCodeLine{211 }
\DoxyCodeLine{212 \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_response}{Response}};}
\DoxyCodeLine{213 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_ad81ce13409edba1589c0b076b2dfab74}{ResponseHandler}} = std::function<bool(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&response)>;}
\DoxyCodeLine{214 }
\DoxyCodeLine{215 \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_multipart_file}{MultipartFile}} \{}
\DoxyCodeLine{216   std::string \mbox{\hyperlink{structhttplib_1_1_multipart_file_a4c8c7c18369bcf7bcf3a9425863cdccd}{filename}};}
\DoxyCodeLine{217   std::string \mbox{\hyperlink{structhttplib_1_1_multipart_file_a3d148a5e7f2bd39c6a9af6fc89a505e8}{content\_type}};}
\DoxyCodeLine{218   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_multipart_file_a677381deb03f6fccfc560babf9c237da}{offset}} = 0;}
\DoxyCodeLine{219   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_multipart_file_aa5386da2461d7d86b98187a9403914a2}{length}} = 0;}
\DoxyCodeLine{220 \};}
\DoxyCodeLine{221 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_ad71e4ea03b2aecdc5b2b52639dd55b27}{MultipartFiles}} = std::multimap<std::string, MultipartFile>;}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_multipart_form_data}{MultipartFormData}} \{}
\DoxyCodeLine{224   std::string \mbox{\hyperlink{structhttplib_1_1_multipart_form_data_ae6de4bc561b89bf08de915d2b0745a98}{name}};}
\DoxyCodeLine{225   std::string \mbox{\hyperlink{structhttplib_1_1_multipart_form_data_a6e63b2db66d71724bec819265f56c7d6}{content}};}
\DoxyCodeLine{226   std::string \mbox{\hyperlink{structhttplib_1_1_multipart_form_data_a327f746641f63035dda0d1a847c0917a}{filename}};}
\DoxyCodeLine{227   std::string \mbox{\hyperlink{structhttplib_1_1_multipart_form_data_ace184323dfecdb222f52cebc1824630f}{content\_type}};}
\DoxyCodeLine{228 \};}
\DoxyCodeLine{229 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_aa11ee6a4c1dff67ab2a75631d9c43705}{MultipartFormDataItems}} = std::vector<MultipartFormData>;}
\DoxyCodeLine{230 }
\DoxyCodeLine{231 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a47159528bf61f6bd74065b3fcec21697}{Range}} = std::pair<ssize\_t, ssize\_t>;}
\DoxyCodeLine{232 \textcolor{keyword}{using} \mbox{\hyperlink{namespacehttplib_a3395bd4008ea82b092537f3084dddf5e}{Ranges}} = std::vector<Range>;}
\DoxyCodeLine{233 }
\DoxyCodeLine{234 \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \{}
\DoxyCodeLine{235   std::string \mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}};}
\DoxyCodeLine{236   std::string \mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}};}
\DoxyCodeLine{237   \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}};}
\DoxyCodeLine{238   std::string \mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}};}
\DoxyCodeLine{239 }
\DoxyCodeLine{240   \textcolor{comment}{// for server}}
\DoxyCodeLine{241   std::string \mbox{\hyperlink{structhttplib_1_1_request_aa3edfd554b749bf2cb03a57a12c24602}{version}};}
\DoxyCodeLine{242   std::string \mbox{\hyperlink{structhttplib_1_1_request_a81749298e170ed7559a9dee927ec078f}{target}};}
\DoxyCodeLine{243   \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} \mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}};}
\DoxyCodeLine{244   \mbox{\hyperlink{namespacehttplib_ad71e4ea03b2aecdc5b2b52639dd55b27}{MultipartFiles}} \mbox{\hyperlink{structhttplib_1_1_request_a4f6801c7553d9c9a5b17e3e88fbd3c63}{files}};}
\DoxyCodeLine{245   \mbox{\hyperlink{namespacehttplib_a3395bd4008ea82b092537f3084dddf5e}{Ranges}} \mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}};}
\DoxyCodeLine{246   \mbox{\hyperlink{namespacehttplib_a33c72941ad79dac75b23f0d6b5f02571}{Match}} \mbox{\hyperlink{structhttplib_1_1_request_a9c55b6ab1bcd7c25a40a9c23ee2af1db}{matches}};}
\DoxyCodeLine{247 }
\DoxyCodeLine{248   \textcolor{comment}{// for client}}
\DoxyCodeLine{249   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_request_a08d5c74f27f0e36ed7c7a480815588d7}{redirect\_count}} = \mbox{\hyperlink{httplib_8h_ad3460b45576005d416bf69a708243d8d}{CPPHTTPLIB\_REDIRECT\_MAX\_COUNT}};}
\DoxyCodeLine{250   \mbox{\hyperlink{namespacehttplib_ad81ce13409edba1589c0b076b2dfab74}{ResponseHandler}} \mbox{\hyperlink{structhttplib_1_1_request_ae8ffd012988e754aaef33a1766a59824}{response\_handler}};}
\DoxyCodeLine{251   \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} \mbox{\hyperlink{structhttplib_1_1_request_a757bdff922ffbd02cf4deef23121c622}{content\_receiver}};}
\DoxyCodeLine{252   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} \mbox{\hyperlink{structhttplib_1_1_request_a68b563d55a73c85ae4624b43f840ea0e}{progress}};}
\DoxyCodeLine{253 }
\DoxyCodeLine{254 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_OPENSSL\_SUPPORT}}
\DoxyCodeLine{255   \textcolor{keyword}{const} SSL *ssl;}
\DoxyCodeLine{256 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{259   std::string \mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = 0) \textcolor{keyword}{const};}
\DoxyCodeLine{260   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_request_a544d8a60a0ed7675c5f98936833d2445}{get\_header\_value\_count}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{261   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_request_acc869733c900de3687d675aadd8ce30a}{set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *val);}
\DoxyCodeLine{262   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_request_acc869733c900de3687d675aadd8ce30a}{set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} std::string \&val);}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_request_a8669823b34b3fa6a53efd152721ac12b}{has\_param}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{265   std::string \mbox{\hyperlink{structhttplib_1_1_request_a7a416e7c0c094655c725b8497c0a983d}{get\_param\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = 0) \textcolor{keyword}{const};}
\DoxyCodeLine{266   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_request_aa496f675aef8ac0f11ba97b62e1a2f61}{get\_param\_value\_count}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{267 }
\DoxyCodeLine{268   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_request_aaff05957c8c0da90e9605c936e427397}{has\_file}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{269   \mbox{\hyperlink{structhttplib_1_1_multipart_file}{MultipartFile}} \mbox{\hyperlink{structhttplib_1_1_request_a9d75fb4a6c3456bcdf46d96d9274121b}{get\_file\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{270 }
\DoxyCodeLine{271   \textcolor{comment}{// private members...}}
\DoxyCodeLine{272   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_request_a0c5a7a202d1385069e58ede6c349e370}{content\_length}};}
\DoxyCodeLine{273   \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} \mbox{\hyperlink{structhttplib_1_1_request_a12f991a24e0f5fd9deb1b36da71a5dcf}{content\_provider}};}
\DoxyCodeLine{274 \};}
\DoxyCodeLine{275 }
\DoxyCodeLine{276 \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_response}{Response}} \{}
\DoxyCodeLine{277   std::string \mbox{\hyperlink{structhttplib_1_1_response_a56b71785ec6f10347a30eee0dc23d96c}{version}};}
\DoxyCodeLine{278   \textcolor{keywordtype}{int} \mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}};}
\DoxyCodeLine{279   \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}};}
\DoxyCodeLine{280   std::string \mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}};}
\DoxyCodeLine{281 }
\DoxyCodeLine{282   \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_response_ace3d4f95d11d0b72f25b14cb02a419ad}{has\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{283   std::string \mbox{\hyperlink{structhttplib_1_1_response_aa2e1798839c08472e324cd1d864b35e5}{get\_header\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = 0) \textcolor{keyword}{const};}
\DoxyCodeLine{284   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_response_aaee484be2b305d32652c90d2f148ec52}{get\_header\_value\_count}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \textcolor{keyword}{const};}
\DoxyCodeLine{285   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *val);}
\DoxyCodeLine{286   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} std::string \&val);}
\DoxyCodeLine{287 }
\DoxyCodeLine{288   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a1e1f33821535918ee20e637342a60e2e}{set\_redirect}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *url);}
\DoxyCodeLine{289   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a7d1fb9a55621d693251a0d0011e63974}{set\_content}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \textcolor{keywordtype}{size\_t} n, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type);}
\DoxyCodeLine{290   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a7d1fb9a55621d693251a0d0011e63974}{set\_content}}(\textcolor{keyword}{const} std::string \&s, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type);}
\DoxyCodeLine{291 }
\DoxyCodeLine{292   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a31d297b15934472c9bdd5046cf256106}{set\_content\_provider}}(}
\DoxyCodeLine{293       \textcolor{keywordtype}{size\_t} length,}
\DoxyCodeLine{294       std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink)> provider,}
\DoxyCodeLine{295       std::function<\textcolor{keywordtype}{void}()> resource\_releaser = [] \{\});}
\DoxyCodeLine{296 }
\DoxyCodeLine{297   \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_ad1011d5f47d018858b86e3c129c45bf0}{set\_chunked\_content\_provider}}(}
\DoxyCodeLine{298       std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{size\_t} offset, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink, \mbox{\hyperlink{namespacehttplib_a8d10683b0d01cae237d30c058a9c1d27}{Done}} done)> provider,}
\DoxyCodeLine{299       std::function<\textcolor{keywordtype}{void}()> resource\_releaser = [] \{\});}
\DoxyCodeLine{300 }
\DoxyCodeLine{301   \mbox{\hyperlink{structhttplib_1_1_response_a2e045e47492863317c377b0d674a06bb}{Response}}() : \mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}}(-\/1), \mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}}(0) \{\}}
\DoxyCodeLine{302 }
\DoxyCodeLine{303   \mbox{\hyperlink{structhttplib_1_1_response_ae607f8cc0a96ac25358f22a2fc7e9fd7}{\string~Response}}() \{}
\DoxyCodeLine{304     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structhttplib_1_1_response_a511dbc9fb3253810d2d7a188bb4a85f0}{content\_provider\_resource\_releaser}}) \{}
\DoxyCodeLine{305       \mbox{\hyperlink{structhttplib_1_1_response_a511dbc9fb3253810d2d7a188bb4a85f0}{content\_provider\_resource\_releaser}}();}
\DoxyCodeLine{306     \}}
\DoxyCodeLine{307   \}}
\DoxyCodeLine{308 }
\DoxyCodeLine{309   \textcolor{comment}{// private members...}}
\DoxyCodeLine{310   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}};}
\DoxyCodeLine{311   \mbox{\hyperlink{namespacehttplib_a967ba317a68ed6bbfdefca7542e5da1c}{ContentProviderWithCloser}} \mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}};}
\DoxyCodeLine{312   std::function<void()> \mbox{\hyperlink{structhttplib_1_1_response_a511dbc9fb3253810d2d7a188bb4a85f0}{content\_provider\_resource\_releaser}};}
\DoxyCodeLine{313 \};}
\DoxyCodeLine{314 }
\DoxyCodeLine{315 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \{}
\DoxyCodeLine{316 \textcolor{keyword}{public}:}
\DoxyCodeLine{317   \textcolor{keyword}{virtual} \mbox{\hyperlink{classhttplib_1_1_stream_ad2ab38ab48ccc866169ae0f40f018702}{\string~Stream}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{318   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_stream_ab234d6c0dacefdd53948fd0b9ab793c9}{read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) = 0;}
\DoxyCodeLine{319   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size1) = 0;}
\DoxyCodeLine{320   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_stream_aeaf852f0cf99f6d2e59130e046ebefdc}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr) = 0;}
\DoxyCodeLine{321   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_stream_a9e1f36c0cb07879f6e570a6788aefd70}{write}}(\textcolor{keyword}{const} std::string \&s) = 0;}
\DoxyCodeLine{322   \textcolor{keyword}{virtual} std::string \mbox{\hyperlink{classhttplib_1_1_stream_ad88d98a2df737eecc1c268c71e584743}{get\_remote\_addr}}() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{323 }
\DoxyCodeLine{324   \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{325   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_stream_ad12b648773d8deeb1665bc61eb1ad3f5}{write\_format}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, \textcolor{keyword}{const} Args \&... \mbox{\hyperlink{classargs}{args}});}
\DoxyCodeLine{326 \};}
\DoxyCodeLine{327 }
\DoxyCodeLine{328 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_socket_stream}{SocketStream}} : \textcolor{keyword}{public} \mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \{}
\DoxyCodeLine{329 \textcolor{keyword}{public}:}
\DoxyCodeLine{330   \mbox{\hyperlink{classhttplib_1_1_socket_stream_abc41cc5d3bc7fcb9fe31a129195355c9}{SocketStream}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, time\_t read\_timeout\_sec,}
\DoxyCodeLine{331                time\_t read\_timeout\_usec);}
\DoxyCodeLine{332   \mbox{\hyperlink{classhttplib_1_1_socket_stream_a2bf28476583cda236d73c8f148fe16be}{\string~SocketStream}}() \textcolor{keyword}{override};}
\DoxyCodeLine{333 }
\DoxyCodeLine{334   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_acd5df6147103f376c2c0a4f04d460adc}{read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \textcolor{keyword}{override};}
\DoxyCodeLine{335   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \textcolor{keyword}{override};}
\DoxyCodeLine{336   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr) \textcolor{keyword}{override};}
\DoxyCodeLine{337   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{write}}(\textcolor{keyword}{const} std::string \&s) \textcolor{keyword}{override};}
\DoxyCodeLine{338   std::string \mbox{\hyperlink{classhttplib_1_1_socket_stream_a45ac1ffac84990aa43066c60cee20c11}{get\_remote\_addr}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{339 }
\DoxyCodeLine{340 \textcolor{keyword}{private}:}
\DoxyCodeLine{341   \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} \mbox{\hyperlink{classhttplib_1_1_socket_stream_a1725b483e700a7d9105f53bd0bc1ec04}{sock\_}};}
\DoxyCodeLine{342   time\_t \mbox{\hyperlink{classhttplib_1_1_socket_stream_a690ede7f1eca6db6b687958a6039b9e6}{read\_timeout\_sec\_}};}
\DoxyCodeLine{343   time\_t \mbox{\hyperlink{classhttplib_1_1_socket_stream_a12a396eaccf4645e6c9b0d20bb1f335a}{read\_timeout\_usec\_}};}
\DoxyCodeLine{344 \};}
\DoxyCodeLine{345 }
\DoxyCodeLine{346 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_buffer_stream}{BufferStream}} : \textcolor{keyword}{public} \mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \{}
\DoxyCodeLine{347 \textcolor{keyword}{public}:}
\DoxyCodeLine{348   \mbox{\hyperlink{classhttplib_1_1_buffer_stream_acecffaa37c9dfab9d5f76345317444b3}{BufferStream}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{349   \mbox{\hyperlink{classhttplib_1_1_buffer_stream_af006dafc7e36c95c33deb14e0f96789d}{\string~BufferStream}}() \textcolor{keyword}{override} = \textcolor{keywordflow}{default};}
\DoxyCodeLine{350 }
\DoxyCodeLine{351   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ae2c884f38112b5d73b01a5525762033c}{read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \textcolor{keyword}{override};}
\DoxyCodeLine{352   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \textcolor{keyword}{override};}
\DoxyCodeLine{353   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr) \textcolor{keyword}{override};}
\DoxyCodeLine{354   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{write}}(\textcolor{keyword}{const} std::string \&s) \textcolor{keyword}{override};}
\DoxyCodeLine{355   std::string \mbox{\hyperlink{classhttplib_1_1_buffer_stream_a3078ef9834c501a1ae01692f84417281}{get\_remote\_addr}}() \textcolor{keyword}{const override};}
\DoxyCodeLine{356 }
\DoxyCodeLine{357   \textcolor{keyword}{const} std::string \&\mbox{\hyperlink{classhttplib_1_1_buffer_stream_a43c2530669c4a8dfc1f530678fa55c71}{get\_buffer}}() \textcolor{keyword}{const};}
\DoxyCodeLine{358 }
\DoxyCodeLine{359 \textcolor{keyword}{private}:}
\DoxyCodeLine{360   std::string \mbox{\hyperlink{classhttplib_1_1_buffer_stream_a75a3be625ffc81e85ae9bedb31532748}{buffer}};}
\DoxyCodeLine{361 \};}
\DoxyCodeLine{362 }
\DoxyCodeLine{363 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_task_queue}{TaskQueue}} \{}
\DoxyCodeLine{364 \textcolor{keyword}{public}:}
\DoxyCodeLine{365   \mbox{\hyperlink{classhttplib_1_1_task_queue_a86c1d663c1a733d703617737441cbdc0}{TaskQueue}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{366   \textcolor{keyword}{virtual} \mbox{\hyperlink{classhttplib_1_1_task_queue_ac5c93354376774b4082bb40cef9ae63d}{\string~TaskQueue}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{367   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_task_queue_aa58eb792edcb3e4937e6846ccb6fe904}{enqueue}}(std::function<\textcolor{keywordtype}{void}()> fn) = 0;}
\DoxyCodeLine{368   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_task_queue_ae9f356217bd1ed1797426001070b316d}{shutdown}}() = 0;}
\DoxyCodeLine{369 \};}
\DoxyCodeLine{370 }
\DoxyCodeLine{371 \textcolor{preprocessor}{\#if CPPHTTPLIB\_THREAD\_POOL\_COUNT > 0}}
\DoxyCodeLine{372 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_thread_pool}{ThreadPool}} : \textcolor{keyword}{public} \mbox{\hyperlink{classhttplib_1_1_task_queue}{TaskQueue}} \{}
\DoxyCodeLine{373 \textcolor{keyword}{public}:}
\DoxyCodeLine{374   \textcolor{keyword}{explicit} \mbox{\hyperlink{classhttplib_1_1_thread_pool_a322937261ee5818426a3f09caa8f37ec}{ThreadPool}}(\textcolor{keywordtype}{size\_t} n) : \mbox{\hyperlink{classhttplib_1_1_thread_pool_ad147150e368881c6c813434e9e509cff}{shutdown\_}}(false) \{}
\DoxyCodeLine{375     \textcolor{keywordflow}{while} (n) \{}
\DoxyCodeLine{376       \mbox{\hyperlink{classhttplib_1_1_thread_pool_ab387526d81649547c8cc80e8a2ed5262}{threads\_}}.emplace\_back(\mbox{\hyperlink{classhttplib_1_1_thread_pool_a145c4e203b787f9b561489eb2032edb3}{worker}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{377       n-\/-\/;}
\DoxyCodeLine{378     \}}
\DoxyCodeLine{379   \}}
\DoxyCodeLine{380 }
\DoxyCodeLine{381   \mbox{\hyperlink{classhttplib_1_1_thread_pool_aac78a365c5d7910e7367a83d21369ed2}{ThreadPool}}(\textcolor{keyword}{const} \mbox{\hyperlink{classhttplib_1_1_thread_pool}{ThreadPool}} \&) = \textcolor{keyword}{delete};}
\DoxyCodeLine{382   \mbox{\hyperlink{classhttplib_1_1_thread_pool_ad0f2cf2a96d2b9bcad7183c467c84e50}{\string~ThreadPool}}() \textcolor{keyword}{override} = \textcolor{keywordflow}{default};}
\DoxyCodeLine{383 }
\DoxyCodeLine{384   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_thread_pool_a0a1653126f41111579d17adc245b3ad1}{enqueue}}(std::function<\textcolor{keywordtype}{void}()> fn)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{385     std::unique\_lock<std::mutex> lock(\mbox{\hyperlink{classhttplib_1_1_thread_pool_af95720a7fe4254a7fca6b15451ed5d1e}{mutex\_}});}
\DoxyCodeLine{386     \mbox{\hyperlink{classhttplib_1_1_thread_pool_a4d0f69e884aa51fb069949ab47cc3319}{jobs\_}}.push\_back(fn);}
\DoxyCodeLine{387     \mbox{\hyperlink{classhttplib_1_1_thread_pool_a047e7cd75e07a81c51f1c9376d5dd42f}{cond\_}}.notify\_one();}
\DoxyCodeLine{388   \}}
\DoxyCodeLine{389 }
\DoxyCodeLine{390   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_thread_pool_a9884cbaef9ed5f92152b82d2c93340ea}{shutdown}}()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{391     \textcolor{comment}{// Stop all worker threads...}}
\DoxyCodeLine{392     \{}
\DoxyCodeLine{393       std::unique\_lock<std::mutex> lock(\mbox{\hyperlink{classhttplib_1_1_thread_pool_af95720a7fe4254a7fca6b15451ed5d1e}{mutex\_}});}
\DoxyCodeLine{394       \mbox{\hyperlink{classhttplib_1_1_thread_pool_ad147150e368881c6c813434e9e509cff}{shutdown\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{395     \}}
\DoxyCodeLine{396 }
\DoxyCodeLine{397     \mbox{\hyperlink{classhttplib_1_1_thread_pool_a047e7cd75e07a81c51f1c9376d5dd42f}{cond\_}}.notify\_all();}
\DoxyCodeLine{398 }
\DoxyCodeLine{399     \textcolor{comment}{// Join...}}
\DoxyCodeLine{400     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& t : \mbox{\hyperlink{classhttplib_1_1_thread_pool_ab387526d81649547c8cc80e8a2ed5262}{threads\_}}) \{}
\DoxyCodeLine{401       t.join();}
\DoxyCodeLine{402     \}}
\DoxyCodeLine{403   \}}
\DoxyCodeLine{404 }
\DoxyCodeLine{405 \textcolor{keyword}{private}:}
\DoxyCodeLine{406   \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker}{worker}} \{}
\DoxyCodeLine{407     \textcolor{keyword}{explicit} \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_ad3e388bd38b3c8d336a106683ee22494}{worker}}(\mbox{\hyperlink{classhttplib_1_1_thread_pool}{ThreadPool}} \&pool) : \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}(pool) \{\}}
\DoxyCodeLine{408 }
\DoxyCodeLine{409     \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a1b201c1c39aa19201a652c821179998c}{operator()}}() \{}
\DoxyCodeLine{410       \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{411         std::function<void()> fn;}
\DoxyCodeLine{412         \{}
\DoxyCodeLine{413           std::unique\_lock<std::mutex> lock(\mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_af95720a7fe4254a7fca6b15451ed5d1e}{mutex\_}});}
\DoxyCodeLine{414 }
\DoxyCodeLine{415           \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_a047e7cd75e07a81c51f1c9376d5dd42f}{cond\_}}.wait(}
\DoxyCodeLine{416               lock, [\&] \{ \textcolor{keywordflow}{return} !\mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_a4d0f69e884aa51fb069949ab47cc3319}{jobs\_}}.empty() || \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_ad147150e368881c6c813434e9e509cff}{shutdown\_}}; \});}
\DoxyCodeLine{417 }
\DoxyCodeLine{418           \textcolor{keywordflow}{if} (\mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_ad147150e368881c6c813434e9e509cff}{shutdown\_}} \&\& \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_a4d0f69e884aa51fb069949ab47cc3319}{jobs\_}}.empty()) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{419 }
\DoxyCodeLine{420           fn = \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_a4d0f69e884aa51fb069949ab47cc3319}{jobs\_}}.front();}
\DoxyCodeLine{421           \mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}}.\mbox{\hyperlink{classhttplib_1_1_thread_pool_a4d0f69e884aa51fb069949ab47cc3319}{jobs\_}}.pop\_front();}
\DoxyCodeLine{422         \}}
\DoxyCodeLine{423 }
\DoxyCodeLine{424         assert(\textcolor{keyword}{true} == \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{bool}\textcolor{keyword}{>}(fn));}
\DoxyCodeLine{425         fn();}
\DoxyCodeLine{426       \}}
\DoxyCodeLine{427     \}}
\DoxyCodeLine{428 }
\DoxyCodeLine{429     \mbox{\hyperlink{classhttplib_1_1_thread_pool}{ThreadPool}} \&\mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker_a9a4984cdfda256caafdc4f462b247b18}{pool\_}};}
\DoxyCodeLine{430   \};}
\DoxyCodeLine{431   \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{structhttplib_1_1_thread_pool_1_1worker}{worker}};}
\DoxyCodeLine{432 }
\DoxyCodeLine{433   std::vector<std::thread> \mbox{\hyperlink{classhttplib_1_1_thread_pool_ab387526d81649547c8cc80e8a2ed5262}{threads\_}};}
\DoxyCodeLine{434   \mbox{\hyperlink{list_8h_aa295f649a192b2bcdc06effc2f71dde4}{std::list}}<std::function<void()>> \mbox{\hyperlink{classhttplib_1_1_thread_pool_a4d0f69e884aa51fb069949ab47cc3319}{jobs\_}};}
\DoxyCodeLine{435 }
\DoxyCodeLine{436   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_thread_pool_ad147150e368881c6c813434e9e509cff}{shutdown\_}};}
\DoxyCodeLine{437 }
\DoxyCodeLine{438   std::condition\_variable \mbox{\hyperlink{classhttplib_1_1_thread_pool_a047e7cd75e07a81c51f1c9376d5dd42f}{cond\_}};}
\DoxyCodeLine{439   \mbox{\hyperlink{data_8c_a4acff8232e4aec9cd5c6dc200ac55ef3}{std::mutex}} \mbox{\hyperlink{classhttplib_1_1_thread_pool_af95720a7fe4254a7fca6b15451ed5d1e}{mutex\_}};}
\DoxyCodeLine{440 \};}
\DoxyCodeLine{441 \textcolor{preprocessor}{\#elif CPPHTTPLIB\_THREAD\_POOL\_COUNT == 0}}
\DoxyCodeLine{442 \textcolor{keyword}{class }Threads : \textcolor{keyword}{public} \mbox{\hyperlink{classhttplib_1_1_task_queue}{TaskQueue}} \{}
\DoxyCodeLine{443 \textcolor{keyword}{public}:}
\DoxyCodeLine{444   Threads() : running\_threads\_(0) \{\}}
\DoxyCodeLine{445   \textcolor{keyword}{virtual} \string~Threads() \{\}}
\DoxyCodeLine{446 }
\DoxyCodeLine{447   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} enqueue(std::function<\textcolor{keywordtype}{void}()> fn)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{448     std::thread([=]() \{}
\DoxyCodeLine{449       \{}
\DoxyCodeLine{450         std::lock\_guard<std::mutex> guard(running\_threads\_mutex\_);}
\DoxyCodeLine{451         running\_threads\_++;}
\DoxyCodeLine{452       \}}
\DoxyCodeLine{453 }
\DoxyCodeLine{454       fn();}
\DoxyCodeLine{455 }
\DoxyCodeLine{456       \{}
\DoxyCodeLine{457         std::lock\_guard<std::mutex> guard(running\_threads\_mutex\_);}
\DoxyCodeLine{458         running\_threads\_-\/-\/;}
\DoxyCodeLine{459       \}}
\DoxyCodeLine{460     \}).detach();}
\DoxyCodeLine{461   \}}
\DoxyCodeLine{462 }
\DoxyCodeLine{463   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} shutdown()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{464     \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{465       std::this\_thread::sleep\_for(std::chrono::milliseconds(10));}
\DoxyCodeLine{466       std::lock\_guard<std::mutex> guard(running\_threads\_mutex\_);}
\DoxyCodeLine{467       \textcolor{keywordflow}{if} (!running\_threads\_) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{468     \}}
\DoxyCodeLine{469   \}}
\DoxyCodeLine{470 }
\DoxyCodeLine{471 \textcolor{keyword}{private}:}
\DoxyCodeLine{472   \mbox{\hyperlink{data_8c_a4acff8232e4aec9cd5c6dc200ac55ef3}{std::mutex}} running\_threads\_mutex\_;}
\DoxyCodeLine{473   \textcolor{keywordtype}{int} running\_threads\_;}
\DoxyCodeLine{474 \};}
\DoxyCodeLine{475 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{476 \textcolor{keyword}{class }NoThread : \textcolor{keyword}{public} TaskQueue \{}
\DoxyCodeLine{477 \textcolor{keyword}{public}:}
\DoxyCodeLine{478   NoThread() \{\}}
\DoxyCodeLine{479   \textcolor{keyword}{virtual} \string~NoThread() \{\}}
\DoxyCodeLine{480 }
\DoxyCodeLine{481   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} enqueue(std::function<\textcolor{keywordtype}{void}()> fn)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{482     fn();}
\DoxyCodeLine{483   \}}
\DoxyCodeLine{484 }
\DoxyCodeLine{485   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} shutdown()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{486   \}}
\DoxyCodeLine{487 \};}
\DoxyCodeLine{488 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{489 }
\DoxyCodeLine{490 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_server}{Server}} \{}
\DoxyCodeLine{491 \textcolor{keyword}{public}:}
\DoxyCodeLine{492   \textcolor{keyword}{using} \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} = std::function<void(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&)>;}
\DoxyCodeLine{493   \textcolor{keyword}{using} \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} = std::function<void(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&,}
\DoxyCodeLine{494                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_ae9e4a4a8eed966ddf8df83b1a07620ba}{ContentReader}} \&content\_reader)>;}
\DoxyCodeLine{495   \textcolor{keyword}{using} \mbox{\hyperlink{class_logger}{Logger}} = std::function<void(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&)>;}
\DoxyCodeLine{496 }
\DoxyCodeLine{497   \mbox{\hyperlink{classhttplib_1_1_server_a55b2afc239586d61c9208039efd970ae}{Server}}();}
\DoxyCodeLine{498 }
\DoxyCodeLine{499   \textcolor{keyword}{virtual} \mbox{\hyperlink{classhttplib_1_1_server_af115868f3665c97326770b7fa87c6cce}{\string~Server}}();}
\DoxyCodeLine{500 }
\DoxyCodeLine{501   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a4f02314a47adbae984a7483e8e820c05}{is\_valid}}() \textcolor{keyword}{const};}
\DoxyCodeLine{502 }
\DoxyCodeLine{503   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_ac989dfa5f91ca6a6a6fe05afbd5b1455}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{504   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a87525a7cd8845124ccd30b5d6d30dd97}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{505   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a87525a7cd8845124ccd30b5d6d30dd97}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} handler);}
\DoxyCodeLine{506   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a10832b98c63618b00dd7acf842ba6bd8}{Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{507   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a10832b98c63618b00dd7acf842ba6bd8}{Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} handler);}
\DoxyCodeLine{508   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a5dad24c71c5bf8ddee209473f0d3fdc1}{Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{509   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a5dad24c71c5bf8ddee209473f0d3fdc1}{Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} handler);}
\DoxyCodeLine{510   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a57f9e5b3cffa12d0a252d7b85b07bef4}{Delete}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{511   \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_ad6c25614bab97b5165df8471bbe2fbd1}{Options}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{512 }
\DoxyCodeLine{513   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_aa6104f886fc65a482989e75bb351a263}{set\_base\_dir}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *dir, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *mount\_point = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{514   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a848f6416da18238927d15fa25dfb04b9}{set\_file\_request\_handler}}(\mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{515 }
\DoxyCodeLine{516   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a106f6bf270ced6303050682526c244c4}{set\_error\_handler}}(\mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler);}
\DoxyCodeLine{517   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a09ef287b52629a6c5ecbf164080432a3}{set\_logger}}(\mbox{\hyperlink{class_logger}{Logger}} logger);}
\DoxyCodeLine{518 }
\DoxyCodeLine{519   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a795cfc8d73b086bce17ae7bbe72a9f05}{set\_keep\_alive\_max\_count}}(\textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{520   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_ab21ff6dccfdeb37e689d6613395c1d4b}{set\_read\_timeout}}(time\_t \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}}, time\_t usec);}
\DoxyCodeLine{521   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a30cc59ba440101f4b50c36bdc192868c}{set\_payload\_max\_length}}(\textcolor{keywordtype}{size\_t} length);}
\DoxyCodeLine{522 }
\DoxyCodeLine{523   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_acf36d16b4004a4a7deba69e695b1b48f}{bind\_to\_port}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{int} socket\_flags = 0);}
\DoxyCodeLine{524   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_server_a0aa8209ee4fe36ffb42302836214d159}{bind\_to\_any\_port}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} socket\_flags = 0);}
\DoxyCodeLine{525   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a3e50f66dfe531fe18590aa421ef2595f}{listen\_after\_bind}}();}
\DoxyCodeLine{526 }
\DoxyCodeLine{527   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a8249e88ea3730e87ec8ed1f9a717220f}{listen}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{int} socket\_flags = 0);}
\DoxyCodeLine{528 }
\DoxyCodeLine{529   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a93a632ffae8eea0380daaac719cba06c}{is\_running}}() \textcolor{keyword}{const};}
\DoxyCodeLine{530   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a0f2a6a638ad99012886c87c9786a43b3}{stop}}();}
\DoxyCodeLine{531 }
\DoxyCodeLine{532   std::function<\mbox{\hyperlink{classhttplib_1_1_task_queue}{TaskQueue}} *(void)> \mbox{\hyperlink{classhttplib_1_1_server_ab02ba5727ab7e9c757f329d557e8d60f}{new\_task\_queue}};}
\DoxyCodeLine{533 }
\DoxyCodeLine{534 \textcolor{keyword}{protected}:}
\DoxyCodeLine{535   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a3209c7771f400b056792dae6c32957e5}{process\_request}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{536                        \textcolor{keywordtype}{bool} \&connection\_close,}
\DoxyCodeLine{537                        \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&)>\& setup\_request);}
\DoxyCodeLine{538 }
\DoxyCodeLine{539   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classhttplib_1_1_server_a2a39446892282230d483cd137c56e4f7}{keep\_alive\_max\_count\_}};}
\DoxyCodeLine{540   time\_t \mbox{\hyperlink{classhttplib_1_1_server_ac9f203c13fe12f2ecb04386df44f6081}{read\_timeout\_sec\_}};}
\DoxyCodeLine{541   time\_t \mbox{\hyperlink{classhttplib_1_1_server_a03a97129a6573eab65a00e5e190e2f7a}{read\_timeout\_usec\_}};}
\DoxyCodeLine{542   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classhttplib_1_1_server_aef94224ccf466318570d0309faa6c721}{payload\_max\_length\_}};}
\DoxyCodeLine{543 }
\DoxyCodeLine{544 \textcolor{keyword}{private}:}
\DoxyCodeLine{545   \textcolor{keyword}{using} \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} = std::vector<std::pair<std::regex, Handler>>;}
\DoxyCodeLine{546   \textcolor{keyword}{using} \mbox{\hyperlink{classhttplib_1_1_server_a67bc57316915da94f7725dc7f025aa1b}{HandersForContentReader}} = std::vector<std::pair<std::regex, HandlerWithContentReader>>;}
\DoxyCodeLine{547 }
\DoxyCodeLine{548   \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} \mbox{\hyperlink{classhttplib_1_1_server_a7a6d6e4306b6ca146f1552f8301db3d8}{create\_server\_socket}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port,}
\DoxyCodeLine{549                                 \textcolor{keywordtype}{int} socket\_flags) \textcolor{keyword}{const};}
\DoxyCodeLine{550   \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_server_a7ec358fcdbd3cf0e809c84c154da04fd}{bind\_internal}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{int} socket\_flags);}
\DoxyCodeLine{551   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a294f20bcfc35d82236ab92b76c16d862}{listen\_internal}}();}
\DoxyCodeLine{552 }
\DoxyCodeLine{553   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_ad0cc46c8851bf6afff2c0b1107270f97}{routing}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res, \mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection);}
\DoxyCodeLine{554   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a8e377e7f9fdeebeccfee502459d7c5cf}{handle\_file\_request}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res);}
\DoxyCodeLine{555   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res, \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \&handlers);}
\DoxyCodeLine{556   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_af042f714d96214126f3c1f3f2fd43ceb}{dispatch\_request\_for\_content\_reader}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{557                                            \mbox{\hyperlink{namespacehttplib_ae9e4a4a8eed966ddf8df83b1a07620ba}{ContentReader}} content\_reader,}
\DoxyCodeLine{558                                            \mbox{\hyperlink{classhttplib_1_1_server_a67bc57316915da94f7725dc7f025aa1b}{HandersForContentReader}} \&handlers);}
\DoxyCodeLine{559 }
\DoxyCodeLine{560   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_ae8ef1891cd19a609fe583b3b63b025ed}{parse\_request\_line}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req);}
\DoxyCodeLine{561   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{562                       \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res);}
\DoxyCodeLine{563   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_aef004bcdc946af56186dd226442691d4}{write\_content\_with\_provider}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{564                                    \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res, \textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{565                                    \textcolor{keyword}{const} std::string \&content\_type);}
\DoxyCodeLine{566   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_af84cf3f78736baa76cee4ae00ac80267}{read\_content}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection, \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{567                     \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res);}
\DoxyCodeLine{568   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a5fecf67bb36db0fb1bc0a2c6ea5751f8}{read\_content\_with\_content\_receiver}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{569                                           \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{570                                           \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} reveiver);}
\DoxyCodeLine{571 }
\DoxyCodeLine{572   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a28221db99b5a35e45515553fdb9458a0}{process\_and\_close\_socket}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock);}
\DoxyCodeLine{573 }
\DoxyCodeLine{574   std::atomic<bool> \mbox{\hyperlink{classhttplib_1_1_server_a294c8e913e0146e2701e9c17b4552f0f}{is\_running\_}};}
\DoxyCodeLine{575   std::atomic<socket\_t> \mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}};}
\DoxyCodeLine{576   std::vector<std::pair<std::string, std::string>> \mbox{\hyperlink{classhttplib_1_1_server_a2013854418d5c2b399e2cb62708ed26d}{base\_dirs\_}};}
\DoxyCodeLine{577   \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} \mbox{\hyperlink{classhttplib_1_1_server_a5c5501d42f8a1aeae5ab2a1f2a730832}{file\_request\_handler\_}};}
\DoxyCodeLine{578   \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \mbox{\hyperlink{classhttplib_1_1_server_a6d7b8d7ec13ecb5332c257bf432bb896}{get\_handlers\_}};}
\DoxyCodeLine{579   \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \mbox{\hyperlink{classhttplib_1_1_server_a251316c55dd62d86bd58392eaba35afe}{post\_handlers\_}};}
\DoxyCodeLine{580   \mbox{\hyperlink{classhttplib_1_1_server_a67bc57316915da94f7725dc7f025aa1b}{HandersForContentReader}} \mbox{\hyperlink{classhttplib_1_1_server_a99519a888806765372e6865b58ab63bc}{post\_handlers\_for\_content\_reader}};}
\DoxyCodeLine{581   \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \mbox{\hyperlink{classhttplib_1_1_server_af1535ba048469823646a37d8462577c9}{put\_handlers\_}};}
\DoxyCodeLine{582   \mbox{\hyperlink{classhttplib_1_1_server_a67bc57316915da94f7725dc7f025aa1b}{HandersForContentReader}} \mbox{\hyperlink{classhttplib_1_1_server_a98d6ee3f9176e344abb623e974d6324e}{put\_handlers\_for\_content\_reader}};}
\DoxyCodeLine{583   \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \mbox{\hyperlink{classhttplib_1_1_server_ac8f540c50353fa35b4e8d2b668f33f59}{patch\_handlers\_}};}
\DoxyCodeLine{584   \mbox{\hyperlink{classhttplib_1_1_server_a67bc57316915da94f7725dc7f025aa1b}{HandersForContentReader}} \mbox{\hyperlink{classhttplib_1_1_server_a8ce360299e9af54984875e2d0261c2a3}{patch\_handlers\_for\_content\_reader}};}
\DoxyCodeLine{585   \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \mbox{\hyperlink{classhttplib_1_1_server_a1a2a7ccfd32db528b82588f2e3fac19c}{delete\_handlers\_}};}
\DoxyCodeLine{586   \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \mbox{\hyperlink{classhttplib_1_1_server_af3181bdeb88440f6abb5a595ceb41b04}{options\_handlers\_}};}
\DoxyCodeLine{587   \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} \mbox{\hyperlink{classhttplib_1_1_server_a62e37c4ab37ff3ad6b91eba7e2c58c1b}{error\_handler\_}};}
\DoxyCodeLine{588   \mbox{\hyperlink{class_logger}{Logger}} \mbox{\hyperlink{classhttplib_1_1_server_a5213a394fa9849f4710a5e26081d129f}{logger\_}};}
\DoxyCodeLine{589 \};}
\DoxyCodeLine{590 }
\DoxyCodeLine{591 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1_client}{Client}} \{}
\DoxyCodeLine{592 \textcolor{keyword}{public}:}
\DoxyCodeLine{593   \textcolor{keyword}{explicit} \mbox{\hyperlink{classhttplib_1_1_client_a9e100807d75f38023625d3f724c416cb}{Client}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port = 80, time\_t timeout\_sec = 300);}
\DoxyCodeLine{594 }
\DoxyCodeLine{595   \textcolor{keyword}{virtual} \mbox{\hyperlink{classhttplib_1_1_client_a0efae6b84c68ded689ef31e0dd856f6a}{\string~Client}}();}
\DoxyCodeLine{596 }
\DoxyCodeLine{597   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_a98220aab6695ad08bba0b93842665946}{is\_valid}}() \textcolor{keyword}{const};}
\DoxyCodeLine{598 }
\DoxyCodeLine{599   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{600 }
\DoxyCodeLine{601   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}});}
\DoxyCodeLine{602 }
\DoxyCodeLine{603   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress);}
\DoxyCodeLine{604 }
\DoxyCodeLine{605   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{606                                 \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress);}
\DoxyCodeLine{607 }
\DoxyCodeLine{608   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{609                                 \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver);}
\DoxyCodeLine{610 }
\DoxyCodeLine{611   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{612                                 \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver);}
\DoxyCodeLine{613 }
\DoxyCodeLine{614   std::shared\_ptr<Response>}
\DoxyCodeLine{615   \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver, \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress);}
\DoxyCodeLine{616 }
\DoxyCodeLine{617   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{618                                 \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver,}
\DoxyCodeLine{619                                 \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress);}
\DoxyCodeLine{620 }
\DoxyCodeLine{621   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{622                                 \mbox{\hyperlink{namespacehttplib_ad81ce13409edba1589c0b076b2dfab74}{ResponseHandler}} response\_handler,}
\DoxyCodeLine{623                                 \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver);}
\DoxyCodeLine{624 }
\DoxyCodeLine{625   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a92645dd958779fe76f820d2c7305b925}{Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{626                                 \mbox{\hyperlink{namespacehttplib_ad81ce13409edba1589c0b076b2dfab74}{ResponseHandler}} response\_handler,}
\DoxyCodeLine{627                                 \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver,}
\DoxyCodeLine{628                                 \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress);}
\DoxyCodeLine{629 }
\DoxyCodeLine{630   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a06428b079c3b899cdb6521191f0de3ad}{Head}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{631 }
\DoxyCodeLine{632   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a06428b079c3b899cdb6521191f0de3ad}{Head}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}});}
\DoxyCodeLine{633 }
\DoxyCodeLine{634   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{635                                  \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{636                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{637 }
\DoxyCodeLine{638   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{639                                  \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{640                                  \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{641                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{642 }
\DoxyCodeLine{643   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{644                                  \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{645                                  \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{646                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{647 }
\DoxyCodeLine{648   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{649                                  \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{650                                  \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{651                                  \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{652                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{653 }
\DoxyCodeLine{654   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} \&params,}
\DoxyCodeLine{655                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{656 }
\DoxyCodeLine{657   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{658                                  \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} \&params, \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{659 }
\DoxyCodeLine{660   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{661                                  \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_aa11ee6a4c1dff67ab2a75631d9c43705}{MultipartFormDataItems}} \&items,}
\DoxyCodeLine{662                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{663 }
\DoxyCodeLine{664   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a83d1007d297141173777e84045edf179}{Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{665                                  \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_aa11ee6a4c1dff67ab2a75631d9c43705}{MultipartFormDataItems}} \&items,}
\DoxyCodeLine{666                                  \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{667 }
\DoxyCodeLine{668   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_ac8a14c718f00e0b92e3023dda609b0e7}{Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{669                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{670                                 \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{671 }
\DoxyCodeLine{672   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_ac8a14c718f00e0b92e3023dda609b0e7}{Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{673                                 \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{674                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{675                                 \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{676 }
\DoxyCodeLine{677   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_ac8a14c718f00e0b92e3023dda609b0e7}{Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{678                                 \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{679                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{680                                 \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{681 }
\DoxyCodeLine{682   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_ac8a14c718f00e0b92e3023dda609b0e7}{Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{683                                 \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{684                                 \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{685                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{686                                 \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{687 }
\DoxyCodeLine{688   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a3c3eb00f46b715ae58805afe202a9e68}{Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{689                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{690                                   \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{691 }
\DoxyCodeLine{692   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a3c3eb00f46b715ae58805afe202a9e68}{Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{693                                   \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{694                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{695                                   \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{696 }
\DoxyCodeLine{697   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a3c3eb00f46b715ae58805afe202a9e68}{Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{698                                   \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{699                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{700                                   \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{701 }
\DoxyCodeLine{702   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a3c3eb00f46b715ae58805afe202a9e68}{Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{703                                   \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{704                                   \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{705                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{706                                   \textcolor{keywordtype}{bool} compress = \textcolor{keyword}{false});}
\DoxyCodeLine{707 }
\DoxyCodeLine{708   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a1084faff3b819c74883f3155afe65df7}{Delete}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{709 }
\DoxyCodeLine{710   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a1084faff3b819c74883f3155afe65df7}{Delete}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{711                                    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type);}
\DoxyCodeLine{712 }
\DoxyCodeLine{713   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a1084faff3b819c74883f3155afe65df7}{Delete}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}});}
\DoxyCodeLine{714 }
\DoxyCodeLine{715   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a1084faff3b819c74883f3155afe65df7}{Delete}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{716                                    \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{717                                    \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type);}
\DoxyCodeLine{718 }
\DoxyCodeLine{719   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a4fbbcfc7c212c88bf09615d78a6113e1}{Options}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{720 }
\DoxyCodeLine{721   std::shared\_ptr<Response> \mbox{\hyperlink{classhttplib_1_1_client_a4fbbcfc7c212c88bf09615d78a6113e1}{Options}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}});}
\DoxyCodeLine{722 }
\DoxyCodeLine{723   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_ac5b45f14c4f6c03de947ceb091dcdfbd}{send}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res);}
\DoxyCodeLine{724 }
\DoxyCodeLine{725   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_ac5b45f14c4f6c03de947ceb091dcdfbd}{send}}(\textcolor{keyword}{const} std::vector<Request> \&requests,}
\DoxyCodeLine{726             std::vector<Response> \&responses);}
\DoxyCodeLine{727 }
\DoxyCodeLine{728   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_client_a7ffe40d59d748aac639c5f836f114ad9}{set\_keep\_alive\_max\_count}}(\textcolor{keywordtype}{size\_t} count);}
\DoxyCodeLine{729   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_client_a4f06f602fadeeb1bbbf9511171e72f91}{set\_read\_timeout}}(time\_t \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}}, time\_t usec);}
\DoxyCodeLine{730 }
\DoxyCodeLine{731   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_client_ae0c39b7a21abdfc7c89e1f81afb470de}{follow\_location}}(\textcolor{keywordtype}{bool} on);}
\DoxyCodeLine{732 }
\DoxyCodeLine{733 \textcolor{keyword}{protected}:}
\DoxyCodeLine{734   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_a3b7a967d2c9e3fae9a0c19c2980d8478}{process\_request}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{735                        \textcolor{keywordtype}{bool} last\_connection, \textcolor{keywordtype}{bool} \&connection\_close);}
\DoxyCodeLine{736 }
\DoxyCodeLine{737   \textcolor{keyword}{const} std::string \mbox{\hyperlink{classhttplib_1_1_client_a0c8a16687eb787016cd14d3b5adf9e41}{host\_}};}
\DoxyCodeLine{738   \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_client_ab69a2a5876cef8dca76fe3a2f87ea659}{port\_}};}
\DoxyCodeLine{739   time\_t \mbox{\hyperlink{classhttplib_1_1_client_a3576a552636e05444c889eb6b8ed4362}{timeout\_sec\_}};}
\DoxyCodeLine{740   \textcolor{keyword}{const} std::string \mbox{\hyperlink{classhttplib_1_1_client_a9fa1d56e549f35295e94cada7bfa7f83}{host\_and\_port\_}};}
\DoxyCodeLine{741   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classhttplib_1_1_client_a0dd3aa49934e00cbb65220019a6d03d9}{keep\_alive\_max\_count\_}};}
\DoxyCodeLine{742   time\_t \mbox{\hyperlink{classhttplib_1_1_client_ae95e160addd39a7038702d08a01b3610}{read\_timeout\_sec\_}};}
\DoxyCodeLine{743   time\_t \mbox{\hyperlink{classhttplib_1_1_client_a1e3fabcc9bc03ce3a3a9ae7428ec6ae6}{read\_timeout\_usec\_}};}
\DoxyCodeLine{744   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classhttplib_1_1_client_ab8ee71556c8ab2c80b54fc821500180a}{follow\_location\_}};}
\DoxyCodeLine{745 }
\DoxyCodeLine{746 \textcolor{keyword}{private}:}
\DoxyCodeLine{747   \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} \mbox{\hyperlink{classhttplib_1_1_client_a1f40f1f1ad24057e6e233ece1320c4be}{create\_client\_socket}}() \textcolor{keyword}{const};}
\DoxyCodeLine{748   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_a122a2a48e23869fefeb8b5ccae739eb1}{read\_response\_line}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res);}
\DoxyCodeLine{749   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_client_abaadb7914129431d23a7bb930e4febd3}{write\_request}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \textcolor{keywordtype}{bool} last\_connection);}
\DoxyCodeLine{750   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_a130d914c87008f3cbcd706d4d82bcc58}{redirect}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res);}
\DoxyCodeLine{751 }
\DoxyCodeLine{752   std::shared\_ptr<Response>}
\DoxyCodeLine{753   \mbox{\hyperlink{classhttplib_1_1_client_aadbff6f5ae5a0dd8257ae98502bfd759}{send\_with\_content\_provider}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *method, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{754                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{755                              \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{756                              \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{757                              \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type, \textcolor{keywordtype}{bool} compress);}
\DoxyCodeLine{758 }
\DoxyCodeLine{759   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_ab100d90dc400db16ddc56b8ee039ce27}{process\_and\_close\_socket}}(}
\DoxyCodeLine{760       \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keywordtype}{size\_t} request\_count,}
\DoxyCodeLine{761       std::function<\textcolor{keywordtype}{bool}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{762                          \textcolor{keywordtype}{bool} \&connection\_close)>}
\DoxyCodeLine{763           callback);}
\DoxyCodeLine{764 }
\DoxyCodeLine{765   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_add34311a342eba5ea4a0723b54977542}{is\_ssl}}() \textcolor{keyword}{const};}
\DoxyCodeLine{766 \};}
\DoxyCodeLine{767 }
\DoxyCodeLine{768 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_aa56e9beb60c21e4769297249a0056adc}{Get}}(std::vector<Request> \&requests, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{769                 \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{770   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{771   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}GET"{}};}
\DoxyCodeLine{772   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{773   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{774   requests.emplace\_back(std::move(req));}
\DoxyCodeLine{775 \}}
\DoxyCodeLine{776 }
\DoxyCodeLine{777 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_aa56e9beb60c21e4769297249a0056adc}{Get}}(std::vector<Request> \&requests, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{778   \mbox{\hyperlink{namespacehttplib_aa56e9beb60c21e4769297249a0056adc}{Get}}(requests, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}());}
\DoxyCodeLine{779 \}}
\DoxyCodeLine{780 }
\DoxyCodeLine{781 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_a23971613b10b9fe944863dea36ae36c1}{Post}}(std::vector<Request> \&requests, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{782                  \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{783                  \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type) \{}
\DoxyCodeLine{784   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{785   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}POST"{}};}
\DoxyCodeLine{786   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{787   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{788   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Type"{}}, content\_type);}
\DoxyCodeLine{789   req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}} = body;}
\DoxyCodeLine{790   requests.emplace\_back(std::move(req));}
\DoxyCodeLine{791 \}}
\DoxyCodeLine{792 }
\DoxyCodeLine{793 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_a23971613b10b9fe944863dea36ae36c1}{Post}}(std::vector<Request> \&requests, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{794                  \textcolor{keyword}{const} std::string \&body, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type) \{}
\DoxyCodeLine{795   \mbox{\hyperlink{namespacehttplib_a23971613b10b9fe944863dea36ae36c1}{Post}}(requests, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), body, content\_type);}
\DoxyCodeLine{796 \}}
\DoxyCodeLine{797 }
\DoxyCodeLine{798 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_OPENSSL\_SUPPORT}}
\DoxyCodeLine{799 \textcolor{keyword}{class }SSLSocketStream : \textcolor{keyword}{public} Stream \{}
\DoxyCodeLine{800 \textcolor{keyword}{public}:}
\DoxyCodeLine{801   SSLSocketStream(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, SSL *ssl, time\_t read\_timeout\_sec,}
\DoxyCodeLine{802                   time\_t read\_timeout\_usec);}
\DoxyCodeLine{803   \textcolor{keyword}{virtual} \string~SSLSocketStream();}
\DoxyCodeLine{804 }
\DoxyCodeLine{805   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_aba564f1375831c7ba550dadc966101b6}{read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size);}
\DoxyCodeLine{806   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size);}
\DoxyCodeLine{807   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr);}
\DoxyCodeLine{808   \textcolor{keyword}{virtual} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(\textcolor{keyword}{const} std::string \&s);}
\DoxyCodeLine{809   \textcolor{keyword}{virtual} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a65d52389dccd1eafb6d33cb0f0380e70}{get\_remote\_addr}}() \textcolor{keyword}{const};}
\DoxyCodeLine{810 }
\DoxyCodeLine{811 \textcolor{keyword}{private}:}
\DoxyCodeLine{812   \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock\_;}
\DoxyCodeLine{813   SSL *ssl\_;}
\DoxyCodeLine{814   time\_t read\_timeout\_sec\_;}
\DoxyCodeLine{815   time\_t read\_timeout\_usec\_;}
\DoxyCodeLine{816 \};}
\DoxyCodeLine{817 }
\DoxyCodeLine{818 \textcolor{keyword}{class }SSLServer : \textcolor{keyword}{public} Server \{}
\DoxyCodeLine{819 \textcolor{keyword}{public}:}
\DoxyCodeLine{820   SSLServer(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *cert\_path, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *private\_key\_path,}
\DoxyCodeLine{821             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_ca\_cert\_file\_path = \textcolor{keyword}{nullptr},}
\DoxyCodeLine{822             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_ca\_cert\_dir\_path = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{823 }
\DoxyCodeLine{824   \textcolor{keyword}{virtual} \string~SSLServer();}
\DoxyCodeLine{825 }
\DoxyCodeLine{826   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} is\_valid() \textcolor{keyword}{const};}
\DoxyCodeLine{827 }
\DoxyCodeLine{828 \textcolor{keyword}{private}:}
\DoxyCodeLine{829   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{process\_and\_close\_socket}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock);}
\DoxyCodeLine{830 }
\DoxyCodeLine{831   SSL\_CTX *ctx\_;}
\DoxyCodeLine{832   \mbox{\hyperlink{data_8c_a4acff8232e4aec9cd5c6dc200ac55ef3}{std::mutex}} ctx\_mutex\_;}
\DoxyCodeLine{833 \};}
\DoxyCodeLine{834 }
\DoxyCodeLine{835 \textcolor{keyword}{class }SSLClient : \textcolor{keyword}{public} Client \{}
\DoxyCodeLine{836 \textcolor{keyword}{public}:}
\DoxyCodeLine{837   SSLClient(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port = 443, time\_t timeout\_sec = 300,}
\DoxyCodeLine{838             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_cert\_path = \textcolor{keyword}{nullptr},}
\DoxyCodeLine{839             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_key\_path = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{840 }
\DoxyCodeLine{841   \textcolor{keyword}{virtual} \string~SSLClient();}
\DoxyCodeLine{842 }
\DoxyCodeLine{843   \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} is\_valid() \textcolor{keyword}{const};}
\DoxyCodeLine{844 }
\DoxyCodeLine{845   \textcolor{keywordtype}{void} set\_ca\_cert\_path(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ca\_ceert\_file\_path,}
\DoxyCodeLine{846                         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *ca\_cert\_dir\_path = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{847   \textcolor{keywordtype}{void} enable\_server\_certificate\_verification(\textcolor{keywordtype}{bool} enabled);}
\DoxyCodeLine{848 }
\DoxyCodeLine{849   \textcolor{keywordtype}{long} get\_openssl\_verify\_result() \textcolor{keyword}{const};}
\DoxyCodeLine{850 }
\DoxyCodeLine{851   SSL\_CTX *ssl\_context() const noexcept;}
\DoxyCodeLine{852 }
\DoxyCodeLine{853 private:}
\DoxyCodeLine{854   virtual \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{process\_and\_close\_socket}}(}
\DoxyCodeLine{855       \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keywordtype}{size\_t} request\_count,}
\DoxyCodeLine{856       \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classfunction}{function}}<\textcolor{keywordtype}{bool}(Stream \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{857                          \textcolor{keywordtype}{bool} \&connection\_close)>}
\DoxyCodeLine{858           callback);}
\DoxyCodeLine{859   virtual \textcolor{keywordtype}{bool} is\_ssl() const;}
\DoxyCodeLine{860 }
\DoxyCodeLine{861   \textcolor{keywordtype}{bool} verify\_host(X509 *server\_cert) const;}
\DoxyCodeLine{862   \textcolor{keywordtype}{bool} verify\_host\_with\_subject\_alt\_name(X509 *server\_cert) const;}
\DoxyCodeLine{863   \textcolor{keywordtype}{bool} verify\_host\_with\_common\_name(X509 *server\_cert) const;}
\DoxyCodeLine{864   \textcolor{keywordtype}{bool} check\_host\_name(const \textcolor{keywordtype}{char} *pattern, \textcolor{keywordtype}{size\_t} pattern\_len) const;}
\DoxyCodeLine{865 }
\DoxyCodeLine{866   SSL\_CTX *ctx\_;}
\DoxyCodeLine{867   \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{data_8c_a4acff8232e4aec9cd5c6dc200ac55ef3}{mutex}} ctx\_mutex\_;}
\DoxyCodeLine{868   \mbox{\hyperlink{namespacestd}{std}}::vector<\mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string}> host\_components\_;}
\DoxyCodeLine{869   \mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string} ca\_cert\_file\_path\_;}
\DoxyCodeLine{870   \mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string} ca\_cert\_dir\_path\_;}
\DoxyCodeLine{871   \textcolor{keywordtype}{bool} server\_certificate\_verification\_ = false;}
\DoxyCodeLine{872   \textcolor{keywordtype}{long} verify\_result\_ = 0;}
\DoxyCodeLine{873 \};}
\DoxyCodeLine{874 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876 \textcolor{comment}{/*}}
\DoxyCodeLine{877 \textcolor{comment}{ * Implementation}}
\DoxyCodeLine{878 \textcolor{comment}{ */}}
\DoxyCodeLine{879 }
\DoxyCodeLine{880 \textcolor{keyword}{namespace }detail \{}
\DoxyCodeLine{881 }
\DoxyCodeLine{882 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a4a74a4e9cde826f1a91894f63ddb2d9a}{is\_hex}}(\textcolor{keywordtype}{char} c, \textcolor{keywordtype}{int} \&v) \{}
\DoxyCodeLine{883   \textcolor{keywordflow}{if} (0x20 <= c \&\& isdigit(c)) \{}
\DoxyCodeLine{884     v = c -\/ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{885     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{886   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{charliteral}{'A'} <= c \&\& c <= \textcolor{charliteral}{'F'}) \{}
\DoxyCodeLine{887     v = c -\/ \textcolor{charliteral}{'A'} + 10;}
\DoxyCodeLine{888     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{889   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{charliteral}{'a'} <= c \&\& c <= \textcolor{charliteral}{'f'}) \{}
\DoxyCodeLine{890     v = c -\/ \textcolor{charliteral}{'a'} + 10;}
\DoxyCodeLine{891     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{892   \}}
\DoxyCodeLine{893   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{894 \}}
\DoxyCodeLine{895 }
\DoxyCodeLine{896 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a62592aa626f8ab0e3af59e681a28ac1b}{from\_hex\_to\_i}}(\textcolor{keyword}{const} std::string \&s, \textcolor{keywordtype}{size\_t} i, \textcolor{keywordtype}{size\_t} cnt,}
\DoxyCodeLine{897                           \textcolor{keywordtype}{int} \&val) \{}
\DoxyCodeLine{898   \textcolor{keywordflow}{if} (i >= s.size()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{899 }
\DoxyCodeLine{900   val = 0;}
\DoxyCodeLine{901   \textcolor{keywordflow}{for} (; cnt; i++, cnt-\/-\/) \{}
\DoxyCodeLine{902     \textcolor{keywordflow}{if} (!s[i]) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{903     \textcolor{keywordtype}{int} v = 0;}
\DoxyCodeLine{904     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a4a74a4e9cde826f1a91894f63ddb2d9a}{is\_hex}}(s[i], v)) \{}
\DoxyCodeLine{905       val = val * 16 + v;}
\DoxyCodeLine{906     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{907       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{908     \}}
\DoxyCodeLine{909   \}}
\DoxyCodeLine{910   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{911 \}}
\DoxyCodeLine{912 }
\DoxyCodeLine{913 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_ac08f80eff074b5a4adcb6e160a1380a5}{from\_i\_to\_hex}}(\textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{914   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *charset = \textcolor{stringliteral}{"{}0123456789abcdef"{}};}
\DoxyCodeLine{915   std::string ret;}
\DoxyCodeLine{916   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{917     ret = charset[n \& 15] + ret;}
\DoxyCodeLine{918     n >>= 4;}
\DoxyCodeLine{919   \} \textcolor{keywordflow}{while} (n > 0);}
\DoxyCodeLine{920   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{921 \}}
\DoxyCodeLine{922 }
\DoxyCodeLine{923 \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacehttplib_1_1detail_a011d617356300d12aeb93d2dda1560b9}{to\_utf8}}(\textcolor{keywordtype}{int} code, \textcolor{keywordtype}{char} *buff) \{}
\DoxyCodeLine{924   \textcolor{keywordflow}{if} (code < 0x0080) \{}
\DoxyCodeLine{925     buff[0] = (code \& 0x7F);}
\DoxyCodeLine{926     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{927   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (code < 0x0800) \{}
\DoxyCodeLine{928     buff[0] = (0xC0 | ((code >> 6) \& 0x1F));}
\DoxyCodeLine{929     buff[1] = (0x80 | (code \& 0x3F));}
\DoxyCodeLine{930     \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{931   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (code < 0xD800) \{}
\DoxyCodeLine{932     buff[0] = (0xE0 | ((code >> 12) \& 0xF));}
\DoxyCodeLine{933     buff[1] = (0x80 | ((code >> 6) \& 0x3F));}
\DoxyCodeLine{934     buff[2] = (0x80 | (code \& 0x3F));}
\DoxyCodeLine{935     \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{936   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (code < 0xE000) \{ \textcolor{comment}{// D800 -\/ DFFF is invalid...}}
\DoxyCodeLine{937     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{938   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (code < 0x10000) \{}
\DoxyCodeLine{939     buff[0] = (0xE0 | ((code >> 12) \& 0xF));}
\DoxyCodeLine{940     buff[1] = (0x80 | ((code >> 6) \& 0x3F));}
\DoxyCodeLine{941     buff[2] = (0x80 | (code \& 0x3F));}
\DoxyCodeLine{942     \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{943   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (code < 0x110000) \{}
\DoxyCodeLine{944     buff[0] = (0xF0 | ((code >> 18) \& 0x7));}
\DoxyCodeLine{945     buff[1] = (0x80 | ((code >> 12) \& 0x3F));}
\DoxyCodeLine{946     buff[2] = (0x80 | ((code >> 6) \& 0x3F));}
\DoxyCodeLine{947     buff[3] = (0x80 | (code \& 0x3F));}
\DoxyCodeLine{948     \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{949   \}}
\DoxyCodeLine{950 }
\DoxyCodeLine{951   \textcolor{comment}{// NOTREACHED}}
\DoxyCodeLine{952   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{953 \}}
\DoxyCodeLine{954 }
\DoxyCodeLine{955 \textcolor{comment}{// NOTE: This code came up with the following stackoverflow post:}}
\DoxyCodeLine{956 \textcolor{comment}{// https://stackoverflow.com/questions/180947/base64-\/decode-\/snippet-\/in-\/c}}
\DoxyCodeLine{957 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a455e8db9d2cc4c24565af6d9b884eeaf}{base64\_encode}}(\textcolor{keyword}{const} std::string \&in) \{}
\DoxyCodeLine{958   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keyword}{auto} \mbox{\hyperlink{gemm_8c_a408b031312d60083e4230ecd62137deb}{lookup}} =}
\DoxyCodeLine{959       \textcolor{stringliteral}{"{}ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"{}};}
\DoxyCodeLine{960 }
\DoxyCodeLine{961   std::string out;}
\DoxyCodeLine{962   out.reserve(in.size());}
\DoxyCodeLine{963 }
\DoxyCodeLine{964   \textcolor{keywordtype}{int} val = 0;}
\DoxyCodeLine{965   \textcolor{keywordtype}{int} valb = -\/6;}
\DoxyCodeLine{966 }
\DoxyCodeLine{967   \textcolor{keywordflow}{for} (uint8\_t c : in) \{}
\DoxyCodeLine{968     val = (val << 8) + c;}
\DoxyCodeLine{969     valb += 8;}
\DoxyCodeLine{970     \textcolor{keywordflow}{while} (valb >= 0) \{}
\DoxyCodeLine{971       out.push\_back(\mbox{\hyperlink{gemm_8c_a408b031312d60083e4230ecd62137deb}{lookup}}[(val >> valb) \& 0x3F]);}
\DoxyCodeLine{972       valb -\/= 6;}
\DoxyCodeLine{973     \}}
\DoxyCodeLine{974   \}}
\DoxyCodeLine{975 }
\DoxyCodeLine{976   \textcolor{keywordflow}{if} (valb > -\/6) \{ out.push\_back(\mbox{\hyperlink{gemm_8c_a408b031312d60083e4230ecd62137deb}{lookup}}[((val << 8) >> (valb + 8)) \& 0x3F]); \}}
\DoxyCodeLine{977 }
\DoxyCodeLine{978   \textcolor{keywordflow}{while} (out.size() \% 4) \{}
\DoxyCodeLine{979     out.push\_back(\textcolor{charliteral}{'='});}
\DoxyCodeLine{980   \}}
\DoxyCodeLine{981 }
\DoxyCodeLine{982   \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{983 \}}
\DoxyCodeLine{984 }
\DoxyCodeLine{985 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a5d432e56b6e9cdb1d3a47477d3b3684e}{is\_file}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{986   \textcolor{keyword}{struct }stat st;}
\DoxyCodeLine{987   \textcolor{keywordflow}{return} stat(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.c\_str(), \&st) >= 0 \&\& S\_ISREG(st.st\_mode);}
\DoxyCodeLine{988 \}}
\DoxyCodeLine{989 }
\DoxyCodeLine{990 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af1f56433b3a10b13b2f914de33bd6e31}{is\_dir}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{991   \textcolor{keyword}{struct }stat st;}
\DoxyCodeLine{992   \textcolor{keywordflow}{return} stat(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.c\_str(), \&st) >= 0 \&\& S\_ISDIR(st.st\_mode);}
\DoxyCodeLine{993 \}}
\DoxyCodeLine{994 }
\DoxyCodeLine{995 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a955ed1d5e52f6e2513d06d969ceeb668}{is\_valid\_path}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{996   \textcolor{keywordtype}{size\_t} level = 0;}
\DoxyCodeLine{997   \textcolor{keywordtype}{size\_t} i = 0;}
\DoxyCodeLine{998 }
\DoxyCodeLine{999   \textcolor{comment}{// Skip slash}}
\DoxyCodeLine{1000   \textcolor{keywordflow}{while} (i < \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.size() \&\& \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}[i] == \textcolor{charliteral}{'/'}) \{}
\DoxyCodeLine{1001     i++;}
\DoxyCodeLine{1002   \}}
\DoxyCodeLine{1003 }
\DoxyCodeLine{1004   \textcolor{keywordflow}{while} (i < \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.size()) \{}
\DoxyCodeLine{1005     \textcolor{comment}{// Read component}}
\DoxyCodeLine{1006     \textcolor{keyword}{auto} beg = i;}
\DoxyCodeLine{1007     \textcolor{keywordflow}{while} (i < \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.size() \&\& \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}[i] != \textcolor{charliteral}{'/'}) \{}
\DoxyCodeLine{1008       i++;}
\DoxyCodeLine{1009     \}}
\DoxyCodeLine{1010 }
\DoxyCodeLine{1011     \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = i -\/ beg;}
\DoxyCodeLine{1012     assert(\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > 0);}
\DoxyCodeLine{1013 }
\DoxyCodeLine{1014     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.compare(beg, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \textcolor{stringliteral}{"{}."{}})) \{}
\DoxyCodeLine{1015       ;}
\DoxyCodeLine{1016     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.compare(beg, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, \textcolor{stringliteral}{"{}.."{}})) \{}
\DoxyCodeLine{1017       \textcolor{keywordflow}{if} (level == 0) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1018       level-\/-\/;}
\DoxyCodeLine{1019     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1020       level++;}
\DoxyCodeLine{1021     \}}
\DoxyCodeLine{1022 }
\DoxyCodeLine{1023     \textcolor{comment}{// Skip slash}}
\DoxyCodeLine{1024     \textcolor{keywordflow}{while} (i < \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.size() \&\& \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}[i] == \textcolor{charliteral}{'/'}) \{}
\DoxyCodeLine{1025       i++;}
\DoxyCodeLine{1026     \}}
\DoxyCodeLine{1027   \}}
\DoxyCodeLine{1028 }
\DoxyCodeLine{1029   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1030 \}}
\DoxyCodeLine{1031 }
\DoxyCodeLine{1032 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_1_1detail_a606532e60127124a0258fa9d37db21c0}{read\_file}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, std::string \&out) \{}
\DoxyCodeLine{1033   std::ifstream fs(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, std::ios\_base::binary);}
\DoxyCodeLine{1034   fs.seekg(0, \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{std::ios\_base::end}});}
\DoxyCodeLine{1035   \textcolor{keyword}{auto} size = fs.tellg();}
\DoxyCodeLine{1036   fs.seekg(0);}
\DoxyCodeLine{1037   out.resize(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(size));}
\DoxyCodeLine{1038   fs.read(\&out[0], size);}
\DoxyCodeLine{1039 \}}
\DoxyCodeLine{1040 }
\DoxyCodeLine{1041 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a810a6c09469427bb1729f084db0d92d3}{file\_extension}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{1042   std::smatch m;}
\DoxyCodeLine{1043   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}} = std::regex(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\).([a-\/zA-\/Z0-\/9]+)\$"{}});}
\DoxyCodeLine{1044   \textcolor{keywordflow}{if} (std::regex\_search(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, m, \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}})) \{ \textcolor{keywordflow}{return} m[1].str(); \}}
\DoxyCodeLine{1045   \textcolor{keywordflow}{return} std::string();}
\DoxyCodeLine{1046 \}}
\DoxyCodeLine{1047 }
\DoxyCodeLine{1048 \textcolor{keyword}{template} <\textcolor{keyword}{class} Fn> \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_1_1detail_a371bab3d3c19d72d416526aed1baf852}{split}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *b, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *e, \textcolor{keywordtype}{char} \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, Fn fn) \{}
\DoxyCodeLine{1049   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{1050   \textcolor{keywordtype}{int} beg = 0;}
\DoxyCodeLine{1051 }
\DoxyCodeLine{1052   \textcolor{keywordflow}{while} (e ? (b + i != e) : (b[i] != \textcolor{charliteral}{'\(\backslash\)0'})) \{}
\DoxyCodeLine{1053     \textcolor{keywordflow}{if} (b[i] == \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}) \{}
\DoxyCodeLine{1054       fn(\&b[beg], \&b[i]);}
\DoxyCodeLine{1055       beg = i + 1;}
\DoxyCodeLine{1056     \}}
\DoxyCodeLine{1057     i++;}
\DoxyCodeLine{1058   \}}
\DoxyCodeLine{1059 }
\DoxyCodeLine{1060   \textcolor{keywordflow}{if} (i) \{ fn(\&b[beg], \&b[i]); \}}
\DoxyCodeLine{1061 \}}
\DoxyCodeLine{1062 }
\DoxyCodeLine{1063 \textcolor{comment}{// NOTE: until the read size reaches `fixed\_buffer\_size`, use `fixed\_buffer`}}
\DoxyCodeLine{1064 \textcolor{comment}{// to store data. The call can set memory on stack for performance.}}
\DoxyCodeLine{1065 \textcolor{keyword}{class }\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader}{stream\_line\_reader}} \{}
\DoxyCodeLine{1066 \textcolor{keyword}{public}:}
\DoxyCodeLine{1067   \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a0dc4483bce6fd367b08a2ed96e3f048b}{stream\_line\_reader}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{char} *fixed\_buffer, \textcolor{keywordtype}{size\_t} fixed\_buffer\_size)}
\DoxyCodeLine{1068       : strm\_(strm), fixed\_buffer\_(fixed\_buffer),}
\DoxyCodeLine{1069         fixed\_buffer\_size\_(fixed\_buffer\_size) \{\}}
\DoxyCodeLine{1070 }
\DoxyCodeLine{1071   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1072     \textcolor{keywordflow}{if} (glowable\_buffer\_.empty()) \{}
\DoxyCodeLine{1073       \textcolor{keywordflow}{return} fixed\_buffer\_;}
\DoxyCodeLine{1074     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1075       \textcolor{keywordflow}{return} glowable\_buffer\_.data();}
\DoxyCodeLine{1076     \}}
\DoxyCodeLine{1077   \}}
\DoxyCodeLine{1078 }
\DoxyCodeLine{1079   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_abf2e2d85e7411c8af6e84109029b4d6e}{size}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1080     \textcolor{keywordflow}{if} (glowable\_buffer\_.empty()) \{}
\DoxyCodeLine{1081       \textcolor{keywordflow}{return} fixed\_buffer\_used\_size\_;}
\DoxyCodeLine{1082     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1083       \textcolor{keywordflow}{return} glowable\_buffer\_.size();}
\DoxyCodeLine{1084     \}}
\DoxyCodeLine{1085   \}}
\DoxyCodeLine{1086 }
\DoxyCodeLine{1087   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}() \{}
\DoxyCodeLine{1088     fixed\_buffer\_used\_size\_ = 0;}
\DoxyCodeLine{1089     glowable\_buffer\_.clear();}
\DoxyCodeLine{1090 }
\DoxyCodeLine{1091     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0;; i++) \{}
\DoxyCodeLine{1092       \textcolor{keywordtype}{char} byte;}
\DoxyCodeLine{1093       \textcolor{keyword}{auto} n = strm\_.read(\&\textcolor{keywordtype}{byte}, 1);}
\DoxyCodeLine{1094 }
\DoxyCodeLine{1095       \textcolor{keywordflow}{if} (n < 0) \{}
\DoxyCodeLine{1096         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1097       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n == 0) \{}
\DoxyCodeLine{1098         \textcolor{keywordflow}{if} (i == 0) \{}
\DoxyCodeLine{1099           \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1100         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1101           \textcolor{keywordflow}{break};}
\DoxyCodeLine{1102         \}}
\DoxyCodeLine{1103       \}}
\DoxyCodeLine{1104 }
\DoxyCodeLine{1105       append(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{1106 }
\DoxyCodeLine{1107       \textcolor{keywordflow}{if} (\textcolor{keywordtype}{byte} == \textcolor{charliteral}{'\(\backslash\)n'}) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{1108     \}}
\DoxyCodeLine{1109 }
\DoxyCodeLine{1110     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1111   \}}
\DoxyCodeLine{1112 }
\DoxyCodeLine{1113 \textcolor{keyword}{private}:}
\DoxyCodeLine{1114   \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a983947ba51e1523ddd195dddfdd9bd26}{append}}(\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{1115     \textcolor{keywordflow}{if} (fixed\_buffer\_used\_size\_ < fixed\_buffer\_size\_ -\/ 1) \{}
\DoxyCodeLine{1116       fixed\_buffer\_[fixed\_buffer\_used\_size\_++] = c;}
\DoxyCodeLine{1117       fixed\_buffer\_[fixed\_buffer\_used\_size\_] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{1118     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1119       \textcolor{keywordflow}{if} (glowable\_buffer\_.empty()) \{}
\DoxyCodeLine{1120         assert(fixed\_buffer\_[fixed\_buffer\_used\_size\_] == \textcolor{charliteral}{'\(\backslash\)0'});}
\DoxyCodeLine{1121         glowable\_buffer\_.assign(fixed\_buffer\_, fixed\_buffer\_used\_size\_);}
\DoxyCodeLine{1122       \}}
\DoxyCodeLine{1123       glowable\_buffer\_ += c;}
\DoxyCodeLine{1124     \}}
\DoxyCodeLine{1125   \}}
\DoxyCodeLine{1126 }
\DoxyCodeLine{1127   \mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a9bac9c2e59ee5c4db690f0248d998fc5}{strm\_}};}
\DoxyCodeLine{1128   \textcolor{keywordtype}{char} *\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac2ff09c3c3e15f9011692f9a6477fc61}{fixed\_buffer\_}};}
\DoxyCodeLine{1129   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ab8b323d46de054a35d90fbe8eece7d99}{fixed\_buffer\_size\_}};}
\DoxyCodeLine{1130   \textcolor{keywordtype}{size\_t} fixed\_buffer\_used\_size\_ = 0;}
\DoxyCodeLine{1131   std::string \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ae66d1d26ea37c7c4610552a721054dc8}{glowable\_buffer\_}};}
\DoxyCodeLine{1132 \};}
\DoxyCodeLine{1133 }
\DoxyCodeLine{1134 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{http__stream_8cpp_a39a3603e5e2769521b3b8a6105bcb63e}{close\_socket}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock) \{}
\DoxyCodeLine{1135 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{1136   \textcolor{keywordflow}{return} closesocket(sock);}
\DoxyCodeLine{1137 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1138   \textcolor{keywordflow}{return} close(sock);}
\DoxyCodeLine{1139 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1140 \}}
\DoxyCodeLine{1141 }
\DoxyCodeLine{1142 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacehttplib_1_1detail_a2617665f32c4f83fc345d454379aba0e}{select\_read}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, time\_t \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}}, time\_t usec) \{}
\DoxyCodeLine{1143 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_USE\_POLL}}
\DoxyCodeLine{1144   \textcolor{keyword}{struct }pollfd pfd\_read;}
\DoxyCodeLine{1145   pfd\_read.fd = sock;}
\DoxyCodeLine{1146   pfd\_read.events = POLLIN;}
\DoxyCodeLine{1147 }
\DoxyCodeLine{1148   \textcolor{keyword}{auto} timeout = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}} * 1000 + usec / 1000);}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150   \textcolor{keywordflow}{return} poll(\&pfd\_read, 1, timeout);}
\DoxyCodeLine{1151 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1152   fd\_set fds;}
\DoxyCodeLine{1153   FD\_ZERO(\&fds);}
\DoxyCodeLine{1154   FD\_SET(sock, \&fds);}
\DoxyCodeLine{1155 }
\DoxyCodeLine{1156   timeval tv;}
\DoxyCodeLine{1157   tv.tv\_sec = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}});}
\DoxyCodeLine{1158   tv.tv\_usec = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\textcolor{keyword}{>}(usec);}
\DoxyCodeLine{1159 }
\DoxyCodeLine{1160   \textcolor{keywordflow}{return} select(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(sock + 1), \&fds, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}, \&tv);}
\DoxyCodeLine{1161 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1162 \}}
\DoxyCodeLine{1163 }
\DoxyCodeLine{1164 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_ac5362f1f9049aebd262a98e69fc66ac6}{wait\_until\_socket\_is\_ready}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, time\_t \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}}, time\_t usec) \{}
\DoxyCodeLine{1165 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_USE\_POLL}}
\DoxyCodeLine{1166   \textcolor{keyword}{struct }pollfd pfd\_read;}
\DoxyCodeLine{1167   pfd\_read.fd = sock;}
\DoxyCodeLine{1168   pfd\_read.events = POLLIN | POLLOUT;}
\DoxyCodeLine{1169 }
\DoxyCodeLine{1170   \textcolor{keyword}{auto} timeout = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}} * 1000 + usec / 1000);}
\DoxyCodeLine{1171 }
\DoxyCodeLine{1172   \textcolor{keywordflow}{if} (poll(\&pfd\_read, 1, timeout) > 0 \&\&}
\DoxyCodeLine{1173       pfd\_read.revents \& (POLLIN | POLLOUT)) \{}
\DoxyCodeLine{1174     \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}} = 0;}
\DoxyCodeLine{1175     socklen\_t \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}});}
\DoxyCodeLine{1176     \textcolor{keywordflow}{return} getsockopt(sock, SOL\_SOCKET, SO\_ERROR,}
\DoxyCodeLine{1177                       \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\&\mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}}), \&\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) >= 0 \&\&}
\DoxyCodeLine{1178            !\mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}};}
\DoxyCodeLine{1179   \}}
\DoxyCodeLine{1180   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1181 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1182   fd\_set fdsr;}
\DoxyCodeLine{1183   FD\_ZERO(\&fdsr);}
\DoxyCodeLine{1184   FD\_SET(sock, \&fdsr);}
\DoxyCodeLine{1185 }
\DoxyCodeLine{1186   \textcolor{keyword}{auto} fdsw = fdsr;}
\DoxyCodeLine{1187   \textcolor{keyword}{auto} fdse = fdsr;}
\DoxyCodeLine{1188 }
\DoxyCodeLine{1189   timeval tv;}
\DoxyCodeLine{1190   tv.tv\_sec = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\textcolor{keyword}{>}(\mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}});}
\DoxyCodeLine{1191   tv.tv\_usec = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{long}\textcolor{keyword}{>}(usec);}
\DoxyCodeLine{1192 }
\DoxyCodeLine{1193   \textcolor{keywordflow}{if} (select(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(sock + 1), \&fdsr, \&fdsw, \&fdse, \&tv) > 0 \&\&}
\DoxyCodeLine{1194       (FD\_ISSET(sock, \&fdsr) || FD\_ISSET(sock, \&fdsw))) \{}
\DoxyCodeLine{1195     \textcolor{keywordtype}{int} \mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}} = 0;}
\DoxyCodeLine{1196     socklen\_t \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}});}
\DoxyCodeLine{1197     \textcolor{keywordflow}{return} getsockopt(sock, SOL\_SOCKET, SO\_ERROR, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char}*\textcolor{keyword}{>}(\&\mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}}), \&\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) >= 0 \&\&}
\DoxyCodeLine{1198            !\mbox{\hyperlink{utils_8c_a18c9530c3574f2eadefc8d6cddf4ccb6}{error}};}
\DoxyCodeLine{1199   \}}
\DoxyCodeLine{1200   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1201 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1202 \}}
\DoxyCodeLine{1203 }
\DoxyCodeLine{1204 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1205 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{process\_and\_close\_socket}}(\textcolor{keywordtype}{bool} is\_client\_request, \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock,}
\DoxyCodeLine{1206                                      \textcolor{keywordtype}{size\_t} keep\_alive\_max\_count,}
\DoxyCodeLine{1207                                      time\_t read\_timeout\_sec,}
\DoxyCodeLine{1208                                      time\_t read\_timeout\_usec, T callback) \{}
\DoxyCodeLine{1209   assert(keep\_alive\_max\_count > 0);}
\DoxyCodeLine{1210 }
\DoxyCodeLine{1211   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};}
\DoxyCodeLine{1212 }
\DoxyCodeLine{1213   \textcolor{keywordflow}{if} (keep\_alive\_max\_count > 1) \{}
\DoxyCodeLine{1214     \textcolor{keyword}{auto} count = keep\_alive\_max\_count;}
\DoxyCodeLine{1215     \textcolor{keywordflow}{while} (count > 0 \&\&}
\DoxyCodeLine{1216            (is\_client\_request ||}
\DoxyCodeLine{1217             \mbox{\hyperlink{namespacehttplib_1_1detail_a2617665f32c4f83fc345d454379aba0e}{detail::select\_read}}(sock, \mbox{\hyperlink{httplib_8h_a9290820a34ffe59a772df48b954fc4ac}{CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_SECOND}},}
\DoxyCodeLine{1218                                 \mbox{\hyperlink{httplib_8h_a072f5426d033b6e9128a2f60e7952c8a}{CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_USECOND}}) > 0)) \{}
\DoxyCodeLine{1219       \mbox{\hyperlink{classhttplib_1_1_socket_stream}{SocketStream}} strm(sock, read\_timeout\_sec, read\_timeout\_usec);}
\DoxyCodeLine{1220       \textcolor{keyword}{auto} last\_connection = count == 1;}
\DoxyCodeLine{1221       \textcolor{keyword}{auto} connection\_close = \textcolor{keyword}{false};}
\DoxyCodeLine{1222 }
\DoxyCodeLine{1223       ret = callback(strm, last\_connection, connection\_close);}
\DoxyCodeLine{1224       \textcolor{keywordflow}{if} (!ret || connection\_close) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{1225 }
\DoxyCodeLine{1226       count-\/-\/;}
\DoxyCodeLine{1227     \}}
\DoxyCodeLine{1228   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1229     \mbox{\hyperlink{classhttplib_1_1_socket_stream}{SocketStream}} strm(sock, read\_timeout\_sec, read\_timeout\_usec);}
\DoxyCodeLine{1230     \textcolor{keyword}{auto} dummy\_connection\_close = \textcolor{keyword}{false};}
\DoxyCodeLine{1231     ret = callback(strm, \textcolor{keyword}{true}, dummy\_connection\_close);}
\DoxyCodeLine{1232   \}}
\DoxyCodeLine{1233 }
\DoxyCodeLine{1234   \mbox{\hyperlink{http__stream_8cpp_a39a3603e5e2769521b3b8a6105bcb63e}{close\_socket}}(sock);}
\DoxyCodeLine{1235   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{1236 \}}
\DoxyCodeLine{1237 }
\DoxyCodeLine{1238 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacehttplib_1_1detail_a6fe756f70ad6d331f8269d1504ecc296}{shutdown\_socket}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock) \{}
\DoxyCodeLine{1239 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{1240   \textcolor{keywordflow}{return} shutdown(sock, SD\_BOTH);}
\DoxyCodeLine{1241 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1242   \textcolor{keywordflow}{return} shutdown(sock, SHUT\_RDWR);}
\DoxyCodeLine{1243 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1244 \}}
\DoxyCodeLine{1245 }
\DoxyCodeLine{1246 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Fn>}
\DoxyCodeLine{1247 \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} \mbox{\hyperlink{namespacehttplib_1_1detail_a9d57e6df77bc294208c2026ee4cbfc0b}{create\_socket}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, Fn fn,}
\DoxyCodeLine{1248                        \textcolor{keywordtype}{int} socket\_flags = 0) \{}
\DoxyCodeLine{1249 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{1250 \textcolor{preprocessor}{\#define SO\_SYNCHRONOUS\_NONALERT 0x20}}
\DoxyCodeLine{1251 \textcolor{preprocessor}{\#define SO\_OPENTYPE 0x7008}}
\DoxyCodeLine{1252 }
\DoxyCodeLine{1253   \textcolor{keywordtype}{int} opt = SO\_SYNCHRONOUS\_NONALERT;}
\DoxyCodeLine{1254   setsockopt(\mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}, SOL\_SOCKET, SO\_OPENTYPE, (\textcolor{keywordtype}{char} *)\&opt,}
\DoxyCodeLine{1255              \textcolor{keyword}{sizeof}(opt));}
\DoxyCodeLine{1256 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1257 }
\DoxyCodeLine{1258   \textcolor{comment}{// Get address info}}
\DoxyCodeLine{1259   \textcolor{keyword}{struct }addrinfo hints;}
\DoxyCodeLine{1260   \textcolor{keyword}{struct }addrinfo *result;}
\DoxyCodeLine{1261 }
\DoxyCodeLine{1262   memset(\&hints, 0, \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} addrinfo));}
\DoxyCodeLine{1263   hints.ai\_family = AF\_UNSPEC;}
\DoxyCodeLine{1264   hints.ai\_socktype = SOCK\_STREAM;}
\DoxyCodeLine{1265   hints.ai\_flags = socket\_flags;}
\DoxyCodeLine{1266   hints.ai\_protocol = 0;}
\DoxyCodeLine{1267 }
\DoxyCodeLine{1268   \textcolor{keyword}{auto} service = std::to\_string(port);}
\DoxyCodeLine{1269 }
\DoxyCodeLine{1270   \textcolor{keywordflow}{if} (getaddrinfo(host, service.c\_str(), \&hints, \&result)) \{}
\DoxyCodeLine{1271     \textcolor{keywordflow}{return} \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}};}
\DoxyCodeLine{1272   \}}
\DoxyCodeLine{1273 }
\DoxyCodeLine{1274   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} rp = result; rp; rp = rp-\/>ai\_next) \{}
\DoxyCodeLine{1275     \textcolor{comment}{// Create a socket}}
\DoxyCodeLine{1276 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{1277     \textcolor{keyword}{auto} sock = WSASocketW(rp-\/>ai\_family, rp-\/>ai\_socktype, rp-\/>ai\_protocol,}
\DoxyCodeLine{1278                            \textcolor{keyword}{nullptr}, 0, WSA\_FLAG\_NO\_HANDLE\_INHERIT);}
\DoxyCodeLine{1279 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1280     \textcolor{keyword}{auto} sock = socket(rp-\/>ai\_family, rp-\/>ai\_socktype, rp-\/>ai\_protocol);}
\DoxyCodeLine{1281 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1282     \textcolor{keywordflow}{if} (sock == \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{ \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{1283 }
\DoxyCodeLine{1284 \textcolor{preprocessor}{\#ifndef \_WIN32}}
\DoxyCodeLine{1285     \textcolor{keywordflow}{if} (fcntl(sock, F\_SETFD, FD\_CLOEXEC) == -\/1) \{ \textcolor{keywordflow}{continue}; \}}
\DoxyCodeLine{1286 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1287 }
\DoxyCodeLine{1288     \textcolor{comment}{// Make 'reuse address' option available}}
\DoxyCodeLine{1289     \textcolor{keywordtype}{int} yes = 1;}
\DoxyCodeLine{1290     setsockopt(sock, SOL\_SOCKET, SO\_REUSEADDR, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\&yes),}
\DoxyCodeLine{1291                \textcolor{keyword}{sizeof}(yes));}
\DoxyCodeLine{1292 \textcolor{preprocessor}{\#ifdef SO\_REUSEPORT}}
\DoxyCodeLine{1293     setsockopt(sock, SOL\_SOCKET, SO\_REUSEPORT, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\&yes),}
\DoxyCodeLine{1294                \textcolor{keyword}{sizeof}(yes));}
\DoxyCodeLine{1295 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1296 }
\DoxyCodeLine{1297     \textcolor{comment}{// bind or connect}}
\DoxyCodeLine{1298     \textcolor{keywordflow}{if} (fn(sock, *rp)) \{}
\DoxyCodeLine{1299       freeaddrinfo(result);}
\DoxyCodeLine{1300       \textcolor{keywordflow}{return} sock;}
\DoxyCodeLine{1301     \}}
\DoxyCodeLine{1302 }
\DoxyCodeLine{1303     \mbox{\hyperlink{http__stream_8cpp_a39a3603e5e2769521b3b8a6105bcb63e}{close\_socket}}(sock);}
\DoxyCodeLine{1304   \}}
\DoxyCodeLine{1305 }
\DoxyCodeLine{1306   freeaddrinfo(result);}
\DoxyCodeLine{1307   \textcolor{keywordflow}{return} \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}};}
\DoxyCodeLine{1308 \}}
\DoxyCodeLine{1309 }
\DoxyCodeLine{1310 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_1_1detail_a697035fa14dcfff9fb4705d6cffea733}{set\_nonblocking}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keywordtype}{bool} nonblocking) \{}
\DoxyCodeLine{1311 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{1312   \textcolor{keyword}{auto} flags = nonblocking ? 1UL : 0UL;}
\DoxyCodeLine{1313   ioctlsocket(sock, FIONBIO, \&flags);}
\DoxyCodeLine{1314 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1315   \textcolor{keyword}{auto} flags = fcntl(sock, F\_GETFL, 0);}
\DoxyCodeLine{1316   fcntl(sock, F\_SETFL,}
\DoxyCodeLine{1317         nonblocking ? (flags | O\_NONBLOCK) : (flags \& (\string~O\_NONBLOCK)));}
\DoxyCodeLine{1318 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1319 \}}
\DoxyCodeLine{1320 }
\DoxyCodeLine{1321 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_aefb0b64a836468f95269d11943464a29}{is\_connection\_error}}() \{}
\DoxyCodeLine{1322 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{1323   \textcolor{keywordflow}{return} WSAGetLastError() != WSAEWOULDBLOCK;}
\DoxyCodeLine{1324 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1325   \textcolor{keywordflow}{return} errno != EINPROGRESS;}
\DoxyCodeLine{1326 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1327 \}}
\DoxyCodeLine{1328 }
\DoxyCodeLine{1329 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a65d52389dccd1eafb6d33cb0f0380e70}{get\_remote\_addr}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock) \{}
\DoxyCodeLine{1330   \textcolor{keyword}{struct }sockaddr\_storage addr;}
\DoxyCodeLine{1331   socklen\_t \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \textcolor{keyword}{sizeof}(addr);}
\DoxyCodeLine{1332 }
\DoxyCodeLine{1333   \textcolor{keywordflow}{if} (!getpeername(sock, \textcolor{keyword}{reinterpret\_cast<}struct sockaddr *\textcolor{keyword}{>}(\&addr), \&\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}})) \{}
\DoxyCodeLine{1334     std::array<char, NI\_MAXHOST> ipstr\{\};}
\DoxyCodeLine{1335 }
\DoxyCodeLine{1336     \textcolor{keywordflow}{if} (!getnameinfo(\textcolor{keyword}{reinterpret\_cast<}struct sockaddr *\textcolor{keyword}{>}(\&addr), \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, ipstr.data(), ipstr.size(),}
\DoxyCodeLine{1337                      \textcolor{keyword}{nullptr}, 0, NI\_NUMERICHOST)) \{}
\DoxyCodeLine{1338       \textcolor{keywordflow}{return} ipstr.data();}
\DoxyCodeLine{1339     \}}
\DoxyCodeLine{1340   \}}
\DoxyCodeLine{1341 }
\DoxyCodeLine{1342   \textcolor{keywordflow}{return} std::string();}
\DoxyCodeLine{1343 \}}
\DoxyCodeLine{1344 }
\DoxyCodeLine{1345 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacehttplib_1_1detail_a10f77d4a44936a4c13f4486e8dcf4a5e}{find\_content\_type}}(\textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{1346   \textcolor{keyword}{auto} ext = \mbox{\hyperlink{namespacehttplib_1_1detail_a810a6c09469427bb1729f084db0d92d3}{file\_extension}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{1347   \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}txt"{}}) \{}
\DoxyCodeLine{1348     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}text/plain"{}};}
\DoxyCodeLine{1349   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}html"{}} || ext == \textcolor{stringliteral}{"{}htm"{}}) \{}
\DoxyCodeLine{1350     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}text/html"{}};}
\DoxyCodeLine{1351   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}css"{}}) \{}
\DoxyCodeLine{1352     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}text/css"{}};}
\DoxyCodeLine{1353   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}jpeg"{}} || ext == \textcolor{stringliteral}{"{}jpg"{}}) \{}
\DoxyCodeLine{1354     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}image/jpg"{}};}
\DoxyCodeLine{1355   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}png"{}}) \{}
\DoxyCodeLine{1356     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}image/png"{}};}
\DoxyCodeLine{1357   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}gif"{}}) \{}
\DoxyCodeLine{1358     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}image/gif"{}};}
\DoxyCodeLine{1359   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}svg"{}}) \{}
\DoxyCodeLine{1360     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}image/svg+xml"{}};}
\DoxyCodeLine{1361   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}ico"{}}) \{}
\DoxyCodeLine{1362     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}image/x-\/icon"{}};}
\DoxyCodeLine{1363   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}json"{}}) \{}
\DoxyCodeLine{1364     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}application/json"{}};}
\DoxyCodeLine{1365   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}pdf"{}}) \{}
\DoxyCodeLine{1366     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}application/pdf"{}};}
\DoxyCodeLine{1367   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}js"{}}) \{}
\DoxyCodeLine{1368     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}application/javascript"{}};}
\DoxyCodeLine{1369   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}xml"{}}) \{}
\DoxyCodeLine{1370     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}application/xml"{}};}
\DoxyCodeLine{1371   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}xhtml"{}}) \{}
\DoxyCodeLine{1372     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}application/xhtml+xml"{}};}
\DoxyCodeLine{1373   \}}
\DoxyCodeLine{1374   \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1375 \}}
\DoxyCodeLine{1376 }
\DoxyCodeLine{1377 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacehttplib_1_1detail_a53ecc5e40689fc4b7c2f5ed456260128}{status\_message}}(\textcolor{keywordtype}{int} status) \{}
\DoxyCodeLine{1378   \textcolor{keywordflow}{switch} (status) \{}
\DoxyCodeLine{1379   \textcolor{keywordflow}{case} 200: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}OK"{}};}
\DoxyCodeLine{1380   \textcolor{keywordflow}{case} 206: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Partial Content"{}};}
\DoxyCodeLine{1381   \textcolor{keywordflow}{case} 301: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Moved Permanently"{}};}
\DoxyCodeLine{1382   \textcolor{keywordflow}{case} 302: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Found"{}};}
\DoxyCodeLine{1383   \textcolor{keywordflow}{case} 303: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}See Other"{}};}
\DoxyCodeLine{1384   \textcolor{keywordflow}{case} 304: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Not Modified"{}};}
\DoxyCodeLine{1385   \textcolor{keywordflow}{case} 400: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Bad Request"{}};}
\DoxyCodeLine{1386   \textcolor{keywordflow}{case} 403: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Forbidden"{}};}
\DoxyCodeLine{1387   \textcolor{keywordflow}{case} 404: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Not Found"{}};}
\DoxyCodeLine{1388   \textcolor{keywordflow}{case} 413: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Payload Too Large"{}};}
\DoxyCodeLine{1389   \textcolor{keywordflow}{case} 414: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Request-\/URI Too Long"{}};}
\DoxyCodeLine{1390   \textcolor{keywordflow}{case} 415: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Unsupported Media Type"{}};}
\DoxyCodeLine{1391   \textcolor{keywordflow}{case} 416: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Range Not Satisfiable"{}};}
\DoxyCodeLine{1392 }
\DoxyCodeLine{1393   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{1394   \textcolor{keywordflow}{case} 500: \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Internal Server Error"{}};}
\DoxyCodeLine{1395   \}}
\DoxyCodeLine{1396 \}}
\DoxyCodeLine{1397 }
\DoxyCodeLine{1398 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_ZLIB\_SUPPORT}}
\DoxyCodeLine{1399 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} can\_compress(\textcolor{keyword}{const} std::string \&content\_type) \{}
\DoxyCodeLine{1400   \textcolor{keywordflow}{return} !content\_type.find(\textcolor{stringliteral}{"{}text/"{}}) || content\_type == \textcolor{stringliteral}{"{}image/svg+xml"{}} ||}
\DoxyCodeLine{1401          content\_type == \textcolor{stringliteral}{"{}application/javascript"{}} ||}
\DoxyCodeLine{1402          content\_type == \textcolor{stringliteral}{"{}application/json"{}} ||}
\DoxyCodeLine{1403          content\_type == \textcolor{stringliteral}{"{}application/xml"{}} ||}
\DoxyCodeLine{1404          content\_type == \textcolor{stringliteral}{"{}application/xhtml+xml"{}};}
\DoxyCodeLine{1405 \}}
\DoxyCodeLine{1406 }
\DoxyCodeLine{1407 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} compress(std::string \&content) \{}
\DoxyCodeLine{1408   z\_stream strm;}
\DoxyCodeLine{1409   strm.zalloc = Z\_NULL;}
\DoxyCodeLine{1410   strm.zfree = Z\_NULL;}
\DoxyCodeLine{1411   strm.opaque = Z\_NULL;}
\DoxyCodeLine{1412 }
\DoxyCodeLine{1413   \textcolor{keyword}{auto} ret = deflateInit2(\&strm, Z\_DEFAULT\_COMPRESSION, Z\_DEFLATED, 31, 8,}
\DoxyCodeLine{1414                           Z\_DEFAULT\_STRATEGY);}
\DoxyCodeLine{1415   \textcolor{keywordflow}{if} (ret != Z\_OK) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1416 }
\DoxyCodeLine{1417   strm.avail\_in = content.size();}
\DoxyCodeLine{1418   strm.next\_in =}
\DoxyCodeLine{1419       \textcolor{keyword}{const\_cast<}Bytef *\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }Bytef *\textcolor{keyword}{>}(content.data()));}
\DoxyCodeLine{1420 }
\DoxyCodeLine{1421   std::string compressed;}
\DoxyCodeLine{1422 }
\DoxyCodeLine{1423   std::array<char, 16384> buff\{\};}
\DoxyCodeLine{1424   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{1425     strm.avail\_out = buff.size();}
\DoxyCodeLine{1426     strm.next\_out = \textcolor{keyword}{reinterpret\_cast<}Bytef*\textcolor{keyword}{>}(buff.data());}
\DoxyCodeLine{1427     ret = deflate(\&strm, Z\_FINISH);}
\DoxyCodeLine{1428     assert(ret != Z\_STREAM\_ERROR);}
\DoxyCodeLine{1429     compressed.append(buff.data(), buff.size() -\/ strm.avail\_out);}
\DoxyCodeLine{1430   \} \textcolor{keywordflow}{while} (strm.avail\_out == 0);}
\DoxyCodeLine{1431 }
\DoxyCodeLine{1432   assert(ret == Z\_STREAM\_END);}
\DoxyCodeLine{1433   assert(strm.avail\_in == 0);}
\DoxyCodeLine{1434 }
\DoxyCodeLine{1435   content.swap(compressed);}
\DoxyCodeLine{1436 }
\DoxyCodeLine{1437   deflateEnd(\&strm);}
\DoxyCodeLine{1438   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1439 \}}
\DoxyCodeLine{1440 }
\DoxyCodeLine{1441 \textcolor{keyword}{class }decompressor \{}
\DoxyCodeLine{1442 \textcolor{keyword}{public}:}
\DoxyCodeLine{1443   decompressor() \{}
\DoxyCodeLine{1444     strm.zalloc = Z\_NULL;}
\DoxyCodeLine{1445     strm.zfree = Z\_NULL;}
\DoxyCodeLine{1446     strm.opaque = Z\_NULL;}
\DoxyCodeLine{1447 }
\DoxyCodeLine{1448     \textcolor{comment}{// 15 is the value of wbits, which should be at the maximum possible value}}
\DoxyCodeLine{1449     \textcolor{comment}{// to ensure that any gzip stream can be decoded. The offset of 16 specifies}}
\DoxyCodeLine{1450     \textcolor{comment}{// that the stream to decompress will be formatted with a gzip wrapper.}}
\DoxyCodeLine{1451     is\_valid\_ = inflateInit2(\&strm, 16 + 15) == Z\_OK;}
\DoxyCodeLine{1452   \}}
\DoxyCodeLine{1453 }
\DoxyCodeLine{1454   \string~decompressor() \{ inflateEnd(\&strm); \}}
\DoxyCodeLine{1455 }
\DoxyCodeLine{1456   \textcolor{keywordtype}{bool} is\_valid()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} is\_valid\_; \}}
\DoxyCodeLine{1457 }
\DoxyCodeLine{1458   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1459   \textcolor{keywordtype}{bool} decompress(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{size\_t} data\_length, T callback) \{}
\DoxyCodeLine{1460     \textcolor{keywordtype}{int} ret = Z\_OK;}
\DoxyCodeLine{1461 }
\DoxyCodeLine{1462     strm.avail\_in = data\_length;}
\DoxyCodeLine{1463     strm.next\_in = \textcolor{keyword}{const\_cast<}Bytef *\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }Bytef *\textcolor{keyword}{>}(\mbox{\hyperlink{darknet_8h_a493583f6fc164cf849745e01e4c04ab5}{data}}));}
\DoxyCodeLine{1464 }
\DoxyCodeLine{1465     std::array<char, 16384> buff\{\};}
\DoxyCodeLine{1466     \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{1467       strm.avail\_out = buff.size();}
\DoxyCodeLine{1468       strm.next\_out = \textcolor{keyword}{reinterpret\_cast<}Bytef*\textcolor{keyword}{>}(buff.data());}
\DoxyCodeLine{1469 }
\DoxyCodeLine{1470       ret = inflate(\&strm, Z\_NO\_FLUSH);}
\DoxyCodeLine{1471       assert(ret != Z\_STREAM\_ERROR);}
\DoxyCodeLine{1472       \textcolor{keywordflow}{switch} (ret) \{}
\DoxyCodeLine{1473       \textcolor{keywordflow}{case} Z\_NEED\_DICT:}
\DoxyCodeLine{1474       \textcolor{keywordflow}{case} Z\_DATA\_ERROR:}
\DoxyCodeLine{1475       \textcolor{keywordflow}{case} Z\_MEM\_ERROR: inflateEnd(\&strm); \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1476       \}}
\DoxyCodeLine{1477 }
\DoxyCodeLine{1478       \textcolor{keywordflow}{if} (!callback(buff.data(), buff.size() -\/ strm.avail\_out)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1479     \} \textcolor{keywordflow}{while} (strm.avail\_out == 0);}
\DoxyCodeLine{1480 }
\DoxyCodeLine{1481     \textcolor{keywordflow}{return} ret == Z\_OK || ret == Z\_STREAM\_END;}
\DoxyCodeLine{1482   \}}
\DoxyCodeLine{1483 }
\DoxyCodeLine{1484 \textcolor{keyword}{private}:}
\DoxyCodeLine{1485   \textcolor{keywordtype}{bool} is\_valid\_;}
\DoxyCodeLine{1486   z\_stream strm;}
\DoxyCodeLine{1487 \};}
\DoxyCodeLine{1488 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1489 }
\DoxyCodeLine{1490 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a290756a21ec7646b70a02103cd61d061}{has\_header}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *key) \{}
\DoxyCodeLine{1491   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.find(key) != \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.\mbox{\hyperlink{structlist_a3de409f3499b5c3e27502a1bb79ea45a}{end}}();}
\DoxyCodeLine{1492 \}}
\DoxyCodeLine{1493 }
\DoxyCodeLine{1494 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacehttplib_1_1detail_aef894f1e166e16c38e91b750b805b619}{get\_header\_value}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *key,}
\DoxyCodeLine{1495                                     \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id} = 0, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *def = \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{1496   \textcolor{keyword}{auto} it = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.find(key);}
\DoxyCodeLine{1497   std::advance(it, \textcolor{keywordtype}{id});}
\DoxyCodeLine{1498   \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.\mbox{\hyperlink{structlist_a3de409f3499b5c3e27502a1bb79ea45a}{end}}()) \{ \textcolor{keywordflow}{return} it-\/>second.c\_str(); \}}
\DoxyCodeLine{1499   \textcolor{keywordflow}{return} def;}
\DoxyCodeLine{1500 \}}
\DoxyCodeLine{1501 }
\DoxyCodeLine{1502 \textcolor{keyword}{inline} uint64\_t \mbox{\hyperlink{namespacehttplib_1_1detail_a0811e8332f5b8b7a70376ff50d8ad138}{get\_header\_value\_uint64}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *key,}
\DoxyCodeLine{1503                                         \textcolor{keywordtype}{int} def = 0) \{}
\DoxyCodeLine{1504   \textcolor{keyword}{auto} it = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.find(key);}
\DoxyCodeLine{1505   \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.\mbox{\hyperlink{structlist_a3de409f3499b5c3e27502a1bb79ea45a}{end}}()) \{}
\DoxyCodeLine{1506     \textcolor{keywordflow}{return} std::strtoull(it-\/>second.data(), \textcolor{keyword}{nullptr}, 10);}
\DoxyCodeLine{1507   \}}
\DoxyCodeLine{1508   \textcolor{keywordflow}{return} def;}
\DoxyCodeLine{1509 \}}
\DoxyCodeLine{1510 }
\DoxyCodeLine{1511 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_aeb8db950848e27227eb130f609b293cf}{read\_headers}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{1512   \textcolor{keyword}{static} std::regex \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}}(R\textcolor{stringliteral}{"{}((.+?):\(\backslash\)s*(.+?)\(\backslash\)s*\(\backslash\)r\(\backslash\)n)"{});}}
\DoxyCodeLine{1513 \textcolor{stringliteral}{}}
\DoxyCodeLine{1514 \textcolor{stringliteral}{  }\textcolor{keyword}{const} \textcolor{keyword}{auto} bufsiz = 2048;}
\DoxyCodeLine{1515   \textcolor{keywordtype}{char} buf[bufsiz];}
\DoxyCodeLine{1516 }
\DoxyCodeLine{1517   \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader}{stream\_line\_reader}} line\_reader(strm, buf, bufsiz);}
\DoxyCodeLine{1518 }
\DoxyCodeLine{1519   \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{1520     \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1521     \textcolor{keywordflow}{if} (!strcmp(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}})) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{1522     std::cmatch m;}
\DoxyCodeLine{1523     \textcolor{keywordflow}{if} (std::regex\_match(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), m, \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}})) \{}
\DoxyCodeLine{1524       \textcolor{keyword}{auto} key = std::string(m[1]);}
\DoxyCodeLine{1525       \textcolor{keyword}{auto} val = std::string(m[2]);}
\DoxyCodeLine{1526       \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(key, val);}
\DoxyCodeLine{1527     \}}
\DoxyCodeLine{1528   \}}
\DoxyCodeLine{1529 }
\DoxyCodeLine{1530   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1531 \}}
\DoxyCodeLine{1532 }
\DoxyCodeLine{1533 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a71ab61c2bc6fac162f26c95844373a59}{read\_content\_with\_length}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, uint64\_t \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}},}
\DoxyCodeLine{1534                                      \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress, \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} out) \{}
\DoxyCodeLine{1535   \textcolor{keywordtype}{char} buf[\mbox{\hyperlink{httplib_8h_ab16643d4a546f8214c9b82c6521ae30d}{CPPHTTPLIB\_RECV\_BUFSIZ}}];}
\DoxyCodeLine{1536 }
\DoxyCodeLine{1537   uint64\_t \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = 0;}
\DoxyCodeLine{1538   \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) \{}
\DoxyCodeLine{1539     \textcolor{keyword}{auto} read\_len = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} -\/ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}});}
\DoxyCodeLine{1540     \textcolor{keyword}{auto} n = strm.\mbox{\hyperlink{classhttplib_1_1_stream_ab234d6c0dacefdd53948fd0b9ab793c9}{read}}(buf, \mbox{\hyperlink{ldes_2fhog_8cpp_ac6afabdc09a49a433ee19d8a9486056d}{std::min}}(read\_len, \mbox{\hyperlink{httplib_8h_ab16643d4a546f8214c9b82c6521ae30d}{CPPHTTPLIB\_RECV\_BUFSIZ}}));}
\DoxyCodeLine{1541     \textcolor{keywordflow}{if} (n <= 0) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1542 }
\DoxyCodeLine{1543     \textcolor{keywordflow}{if} (!out(buf, n)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1544 }
\DoxyCodeLine{1545     \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} += n;}
\DoxyCodeLine{1546 }
\DoxyCodeLine{1547     \textcolor{keywordflow}{if} (progress) \{}
\DoxyCodeLine{1548       \textcolor{keywordflow}{if} (!progress(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}})) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1549     \}}
\DoxyCodeLine{1550   \}}
\DoxyCodeLine{1551 }
\DoxyCodeLine{1552   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1553 \}}
\DoxyCodeLine{1554 }
\DoxyCodeLine{1555 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_1_1detail_a1a2e37dcda3bd290ec3fe49c6d7b6e95}{skip\_content\_with\_length}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, uint64\_t \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) \{}
\DoxyCodeLine{1556   \textcolor{keywordtype}{char} buf[\mbox{\hyperlink{httplib_8h_ab16643d4a546f8214c9b82c6521ae30d}{CPPHTTPLIB\_RECV\_BUFSIZ}}];}
\DoxyCodeLine{1557   uint64\_t \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = 0;}
\DoxyCodeLine{1558   \textcolor{keywordflow}{while} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} < \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) \{}
\DoxyCodeLine{1559     \textcolor{keyword}{auto} read\_len = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} -\/ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}});}
\DoxyCodeLine{1560     \textcolor{keyword}{auto} n = strm.\mbox{\hyperlink{classhttplib_1_1_stream_ab234d6c0dacefdd53948fd0b9ab793c9}{read}}(buf, \mbox{\hyperlink{ldes_2fhog_8cpp_ac6afabdc09a49a433ee19d8a9486056d}{std::min}}(read\_len, \mbox{\hyperlink{httplib_8h_ab16643d4a546f8214c9b82c6521ae30d}{CPPHTTPLIB\_RECV\_BUFSIZ}}));}
\DoxyCodeLine{1561     \textcolor{keywordflow}{if} (n <= 0) \{ \textcolor{keywordflow}{return}; \}}
\DoxyCodeLine{1562     \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} += n;}
\DoxyCodeLine{1563   \}}
\DoxyCodeLine{1564 \}}
\DoxyCodeLine{1565 }
\DoxyCodeLine{1566 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a7b1cdbb3248dd54034f47a4ba99511d4}{read\_content\_without\_length}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} out) \{}
\DoxyCodeLine{1567   \textcolor{keywordtype}{char} buf[\mbox{\hyperlink{httplib_8h_ab16643d4a546f8214c9b82c6521ae30d}{CPPHTTPLIB\_RECV\_BUFSIZ}}];}
\DoxyCodeLine{1568   \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{1569     \textcolor{keyword}{auto} n = strm.\mbox{\hyperlink{classhttplib_1_1_stream_ab234d6c0dacefdd53948fd0b9ab793c9}{read}}(buf, \mbox{\hyperlink{httplib_8h_ab16643d4a546f8214c9b82c6521ae30d}{CPPHTTPLIB\_RECV\_BUFSIZ}});}
\DoxyCodeLine{1570     \textcolor{keywordflow}{if} (n < 0) \{}
\DoxyCodeLine{1571       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1572     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n == 0) \{}
\DoxyCodeLine{1573       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1574     \}}
\DoxyCodeLine{1575     \textcolor{keywordflow}{if} (!out(buf, n)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1576   \}}
\DoxyCodeLine{1577 }
\DoxyCodeLine{1578   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1579 \}}
\DoxyCodeLine{1580 }
\DoxyCodeLine{1581 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af8cd5edf5b3a7384913e49149bd18b9a}{read\_content\_chunked}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} out) \{}
\DoxyCodeLine{1582   \textcolor{keyword}{const} \textcolor{keyword}{auto} bufsiz = 16;}
\DoxyCodeLine{1583   \textcolor{keywordtype}{char} buf[bufsiz];}
\DoxyCodeLine{1584 }
\DoxyCodeLine{1585   \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader}{stream\_line\_reader}} line\_reader(strm, buf, bufsiz);}
\DoxyCodeLine{1586 }
\DoxyCodeLine{1587   \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1588 }
\DoxyCodeLine{1589   \textcolor{keyword}{auto} chunk\_len = std::stoi(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), 0, 16);}
\DoxyCodeLine{1590 }
\DoxyCodeLine{1591   \textcolor{keywordflow}{while} (chunk\_len > 0) \{}
\DoxyCodeLine{1592     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_a71ab61c2bc6fac162f26c95844373a59}{read\_content\_with\_length}}(strm, chunk\_len, \textcolor{keyword}{nullptr}, out)) \{}
\DoxyCodeLine{1593       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1594     \}}
\DoxyCodeLine{1595 }
\DoxyCodeLine{1596     \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1597 }
\DoxyCodeLine{1598     \textcolor{keywordflow}{if} (strcmp(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}})) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{1599 }
\DoxyCodeLine{1600     \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1601 }
\DoxyCodeLine{1602     chunk\_len = std::stoi(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), 0, 16);}
\DoxyCodeLine{1603   \}}
\DoxyCodeLine{1604 }
\DoxyCodeLine{1605   \textcolor{keywordflow}{if} (chunk\_len == 0) \{}
\DoxyCodeLine{1606     \textcolor{comment}{// Reader terminator after chunks}}
\DoxyCodeLine{1607     \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}() || strcmp(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}}))}
\DoxyCodeLine{1608       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1609   \}}
\DoxyCodeLine{1610 }
\DoxyCodeLine{1611   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1612 \}}
\DoxyCodeLine{1613 }
\DoxyCodeLine{1614 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_abd6e246430f90f7881c9475acb026d00}{is\_chunked\_transfer\_encoding}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{1615   \textcolor{keywordflow}{return} !strcasecmp(\mbox{\hyperlink{namespacehttplib_1_1detail_aef894f1e166e16c38e91b750b805b619}{get\_header\_value}}(\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{stringliteral}{"{}Transfer-\/Encoding"{}}, 0, \textcolor{stringliteral}{"{}"{}}),}
\DoxyCodeLine{1616                      \textcolor{stringliteral}{"{}chunked"{}});}
\DoxyCodeLine{1617 \}}
\DoxyCodeLine{1618 }
\DoxyCodeLine{1619 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1620 \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_aeb0e1d279402ffaff3af8000573d4f84}{read\_content}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, T \&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}, \textcolor{keywordtype}{size\_t} payload\_max\_length, \textcolor{keywordtype}{int} \&status,}
\DoxyCodeLine{1621                   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress, \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} receiver) \{}
\DoxyCodeLine{1622 }
\DoxyCodeLine{1623   \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} out = [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{1624     \textcolor{keywordflow}{return} receiver(buf, n);}
\DoxyCodeLine{1625   \};}
\DoxyCodeLine{1626 }
\DoxyCodeLine{1627 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_ZLIB\_SUPPORT}}
\DoxyCodeLine{1628   detail::decompressor decompressor;}
\DoxyCodeLine{1629 }
\DoxyCodeLine{1630   \textcolor{keywordflow}{if} (!decompressor.is\_valid()) \{}
\DoxyCodeLine{1631     status = 500;}
\DoxyCodeLine{1632     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1633   \}}
\DoxyCodeLine{1634 }
\DoxyCodeLine{1635   \textcolor{keywordflow}{if} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.get\_header\_value(\textcolor{stringliteral}{"{}Content-\/Encoding"{}}) == \textcolor{stringliteral}{"{}gzip"{}}) \{}
\DoxyCodeLine{1636     out = [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{1637       \textcolor{keywordflow}{return} decompressor.decompress(}
\DoxyCodeLine{1638           buf, n, [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{ \textcolor{keywordflow}{return} receiver(buf, n); \});}
\DoxyCodeLine{1639     \};}
\DoxyCodeLine{1640   \}}
\DoxyCodeLine{1641 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1642   \textcolor{keywordflow}{if} (\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.get\_header\_value(\textcolor{stringliteral}{"{}Content-\/Encoding"{}}) == \textcolor{stringliteral}{"{}gzip"{}}) \{}
\DoxyCodeLine{1643     status = 415;}
\DoxyCodeLine{1644     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1645   \}}
\DoxyCodeLine{1646 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1647 }
\DoxyCodeLine{1648   \textcolor{keyword}{auto} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{1649   \textcolor{keyword}{auto} exceed\_payload\_max\_length = \textcolor{keyword}{false};}
\DoxyCodeLine{1650 }
\DoxyCodeLine{1651   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_abd6e246430f90f7881c9475acb026d00}{is\_chunked\_transfer\_encoding}}(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.headers)) \{}
\DoxyCodeLine{1652     ret = \mbox{\hyperlink{namespacehttplib_1_1detail_af8cd5edf5b3a7384913e49149bd18b9a}{read\_content\_chunked}}(strm, out);}
\DoxyCodeLine{1653   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_a290756a21ec7646b70a02103cd61d061}{has\_header}}(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.headers, \textcolor{stringliteral}{"{}Content-\/Length"{}})) \{}
\DoxyCodeLine{1654     ret = \mbox{\hyperlink{namespacehttplib_1_1detail_a7b1cdbb3248dd54034f47a4ba99511d4}{read\_content\_without\_length}}(strm, out);}
\DoxyCodeLine{1655   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1656     \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \mbox{\hyperlink{namespacehttplib_1_1detail_a0811e8332f5b8b7a70376ff50d8ad138}{get\_header\_value\_uint64}}(\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.headers, \textcolor{stringliteral}{"{}Content-\/Length"{}}, 0);}
\DoxyCodeLine{1657     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > payload\_max\_length) \{}
\DoxyCodeLine{1658       exceed\_payload\_max\_length = \textcolor{keyword}{true};}
\DoxyCodeLine{1659       \mbox{\hyperlink{namespacehttplib_1_1detail_a1a2e37dcda3bd290ec3fe49c6d7b6e95}{skip\_content\_with\_length}}(strm, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}});}
\DoxyCodeLine{1660       ret = \textcolor{keyword}{false};}
\DoxyCodeLine{1661     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > 0) \{}
\DoxyCodeLine{1662       ret = \mbox{\hyperlink{namespacehttplib_1_1detail_a71ab61c2bc6fac162f26c95844373a59}{read\_content\_with\_length}}(strm, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}, progress, out);}
\DoxyCodeLine{1663     \}}
\DoxyCodeLine{1664   \}}
\DoxyCodeLine{1665 }
\DoxyCodeLine{1666   \textcolor{keywordflow}{if} (!ret) \{ status = exceed\_payload\_max\_length ? 413 : 400; \}}
\DoxyCodeLine{1667 }
\DoxyCodeLine{1668   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{1669 \}}
\DoxyCodeLine{1670 }
\DoxyCodeLine{1671 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1672 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacehttplib_1_1detail_a0158e219d1fb64b9227d72e345b483ae}{write\_headers}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} T \&\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{1673   \textcolor{keyword}{auto} write\_len = 0;}
\DoxyCodeLine{1674   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} : \mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.headers) \{}
\DoxyCodeLine{1675     \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} =}
\DoxyCodeLine{1676         strm.\mbox{\hyperlink{classhttplib_1_1_stream_ad12b648773d8deeb1665bc61eb1ad3f5}{write\_format}}(\textcolor{stringliteral}{"{}\%s: \%s\(\backslash\)r\(\backslash\)n"{}}, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.first.c\_str(), \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.second.c\_str());}
\DoxyCodeLine{1677     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} < 0) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; \}}
\DoxyCodeLine{1678     write\_len += \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{1679   \}}
\DoxyCodeLine{1680   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} : \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{1681     \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} =}
\DoxyCodeLine{1682         strm.\mbox{\hyperlink{classhttplib_1_1_stream_ad12b648773d8deeb1665bc61eb1ad3f5}{write\_format}}(\textcolor{stringliteral}{"{}\%s: \%s\(\backslash\)r\(\backslash\)n"{}}, \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.first.c\_str(), \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.second.c\_str());}
\DoxyCodeLine{1683     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} < 0) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; \}}
\DoxyCodeLine{1684     write\_len += \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{1685   \}}
\DoxyCodeLine{1686   \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{1687   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} < 0) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}; \}}
\DoxyCodeLine{1688   write\_len += \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}};}
\DoxyCodeLine{1689   \textcolor{keywordflow}{return} write\_len;}
\DoxyCodeLine{1690 \}}
\DoxyCodeLine{1691 }
\DoxyCodeLine{1692 \textcolor{keyword}{inline} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{namespacehttplib_1_1detail_a0031e9b8c67bb9f8abe29a4a7399b507}{write\_content}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm,}
\DoxyCodeLine{1693                              \mbox{\hyperlink{namespacehttplib_a967ba317a68ed6bbfdefca7542e5da1c}{ContentProviderWithCloser}} content\_provider,}
\DoxyCodeLine{1694                              \textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length) \{}
\DoxyCodeLine{1695   \textcolor{keywordtype}{size\_t} begin\_offset = offset;}
\DoxyCodeLine{1696   \textcolor{keywordtype}{size\_t} end\_offset = offset + length;}
\DoxyCodeLine{1697   \textcolor{keywordflow}{while} (offset < end\_offset) \{}
\DoxyCodeLine{1698     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} written\_length = 0;}
\DoxyCodeLine{1699     content\_provider(}
\DoxyCodeLine{1700         offset, end\_offset -\/ offset,}
\DoxyCodeLine{1701         [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, \textcolor{keywordtype}{size\_t} l) \{}
\DoxyCodeLine{1702           offset += l;}
\DoxyCodeLine{1703           written\_length = strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, l);}
\DoxyCodeLine{1704         \},}
\DoxyCodeLine{1705         [\&](void) \{ written\_length = -\/1; \});}
\DoxyCodeLine{1706     \textcolor{keywordflow}{if} (written\_length < 0) \{ \textcolor{keywordflow}{return} written\_length; \}}
\DoxyCodeLine{1707   \}}
\DoxyCodeLine{1708   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}\textcolor{keyword}{>}(offset -\/ begin\_offset);}
\DoxyCodeLine{1709 \}}
\DoxyCodeLine{1710 }
\DoxyCodeLine{1711 \textcolor{keyword}{inline} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}}
\DoxyCodeLine{1712 \mbox{\hyperlink{namespacehttplib_1_1detail_a016473f0a39c329961540fdbf6ba09de}{write\_content\_chunked}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm,}
\DoxyCodeLine{1713                       \mbox{\hyperlink{namespacehttplib_a967ba317a68ed6bbfdefca7542e5da1c}{ContentProviderWithCloser}} content\_provider) \{}
\DoxyCodeLine{1714   \textcolor{keywordtype}{size\_t} offset = 0;}
\DoxyCodeLine{1715   \textcolor{keyword}{auto} data\_available = \textcolor{keyword}{true};}
\DoxyCodeLine{1716   \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} total\_written\_length = 0;}
\DoxyCodeLine{1717   \textcolor{keywordflow}{while} (data\_available) \{}
\DoxyCodeLine{1718     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} written\_length = 0;}
\DoxyCodeLine{1719     content\_provider(}
\DoxyCodeLine{1720         offset, 0,}
\DoxyCodeLine{1721         [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, \textcolor{keywordtype}{size\_t} l) \{}
\DoxyCodeLine{1722           data\_available = l > 0;}
\DoxyCodeLine{1723           offset += l;}
\DoxyCodeLine{1724 }
\DoxyCodeLine{1725           \textcolor{comment}{// Emit chunked response header and footer for each chunk}}
\DoxyCodeLine{1726           \textcolor{keyword}{auto} chunk = \mbox{\hyperlink{namespacehttplib_1_1detail_ac08f80eff074b5a4adcb6e160a1380a5}{from\_i\_to\_hex}}(l) + \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}} + std::string(\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, l) + \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{1727           written\_length = strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(chunk);}
\DoxyCodeLine{1728         \},}
\DoxyCodeLine{1729         [\&](void) \{}
\DoxyCodeLine{1730           data\_available = \textcolor{keyword}{false};}
\DoxyCodeLine{1731           written\_length = strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\textcolor{stringliteral}{"{}0\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{1732         \});}
\DoxyCodeLine{1733 }
\DoxyCodeLine{1734     \textcolor{keywordflow}{if} (written\_length < 0) \{ \textcolor{keywordflow}{return} written\_length; \}}
\DoxyCodeLine{1735     total\_written\_length += written\_length;}
\DoxyCodeLine{1736   \}}
\DoxyCodeLine{1737   \textcolor{keywordflow}{return} total\_written\_length;}
\DoxyCodeLine{1738 \}}
\DoxyCodeLine{1739 }
\DoxyCodeLine{1740 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1741 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a584fac4627f3c5112565b440090c0103}{redirect}}(T \&cli, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{1742                      \textcolor{keyword}{const} std::string \&\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{1743   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} new\_req;}
\DoxyCodeLine{1744   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}};}
\DoxyCodeLine{1745   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{1746   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}};}
\DoxyCodeLine{1747   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}} = req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}};}
\DoxyCodeLine{1748   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_a08d5c74f27f0e36ed7c7a480815588d7}{redirect\_count}} = req.\mbox{\hyperlink{structhttplib_1_1_request_a08d5c74f27f0e36ed7c7a480815588d7}{redirect\_count}} -\/ 1;}
\DoxyCodeLine{1749   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_ae8ffd012988e754aaef33a1766a59824}{response\_handler}} = req.\mbox{\hyperlink{structhttplib_1_1_request_ae8ffd012988e754aaef33a1766a59824}{response\_handler}};}
\DoxyCodeLine{1750   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_a757bdff922ffbd02cf4deef23121c622}{content\_receiver}} = req.\mbox{\hyperlink{structhttplib_1_1_request_a757bdff922ffbd02cf4deef23121c622}{content\_receiver}};}
\DoxyCodeLine{1751   new\_req.\mbox{\hyperlink{structhttplib_1_1_request_a68b563d55a73c85ae4624b43f840ea0e}{progress}} = req.\mbox{\hyperlink{structhttplib_1_1_request_a68b563d55a73c85ae4624b43f840ea0e}{progress}};}
\DoxyCodeLine{1752 }
\DoxyCodeLine{1753   \mbox{\hyperlink{structhttplib_1_1_response}{Response}} new\_res;}
\DoxyCodeLine{1754   \textcolor{keyword}{auto} ret = cli.send(new\_req, new\_res);}
\DoxyCodeLine{1755   \textcolor{keywordflow}{if} (ret) \{ res = new\_res; \}}
\DoxyCodeLine{1756   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{1757 \}}
\DoxyCodeLine{1758 }
\DoxyCodeLine{1759 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_af303bae3a748ade0f39ac8098fa50733}{encode\_url}}(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{1760   std::string result;}
\DoxyCodeLine{1761 }
\DoxyCodeLine{1762   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; s[i]; i++) \{}
\DoxyCodeLine{1763     \textcolor{keywordflow}{switch} (s[i]) \{}
\DoxyCodeLine{1764     \textcolor{keywordflow}{case} \textcolor{charliteral}{' '}: result += \textcolor{stringliteral}{"{}\%20"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1765     \textcolor{keywordflow}{case} \textcolor{charliteral}{'+'}: result += \textcolor{stringliteral}{"{}\%2B"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1766     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)r'}: result += \textcolor{stringliteral}{"{}\%0D"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1767     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)n'}: result += \textcolor{stringliteral}{"{}\%0A"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1768     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)''}: result += \textcolor{stringliteral}{"{}\%27"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1769     \textcolor{keywordflow}{case} \textcolor{charliteral}{','}: result += \textcolor{stringliteral}{"{}\%2C"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1770     \textcolor{keywordflow}{case} \textcolor{charliteral}{':'}: result += \textcolor{stringliteral}{"{}\%3A"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1771     \textcolor{keywordflow}{case} \textcolor{charliteral}{';'}: result += \textcolor{stringliteral}{"{}\%3B"{}}; \textcolor{keywordflow}{break};}
\DoxyCodeLine{1772     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{1773       \textcolor{keyword}{auto} c = \textcolor{keyword}{static\_cast<}uint8\_t\textcolor{keyword}{>}(s[i]);}
\DoxyCodeLine{1774       \textcolor{keywordflow}{if} (c >= 0x80) \{}
\DoxyCodeLine{1775         result += \textcolor{charliteral}{'\%'};}
\DoxyCodeLine{1776         \textcolor{keywordtype}{char} hex[4];}
\DoxyCodeLine{1777         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = snprintf(hex, \textcolor{keyword}{sizeof}(hex) -\/ 1, \textcolor{stringliteral}{"{}\%02X"{}}, c);}
\DoxyCodeLine{1778         assert(\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} == 2);}
\DoxyCodeLine{1779         result.append(hex, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}});}
\DoxyCodeLine{1780       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1781         result += s[i];}
\DoxyCodeLine{1782       \}}
\DoxyCodeLine{1783       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1784     \}}
\DoxyCodeLine{1785   \}}
\DoxyCodeLine{1786 }
\DoxyCodeLine{1787   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1788 \}}
\DoxyCodeLine{1789 }
\DoxyCodeLine{1790 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a157e3058faf96822a999e25e49d2f0c8}{decode\_url}}(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{1791   std::string result;}
\DoxyCodeLine{1792 }
\DoxyCodeLine{1793   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < s.size(); i++) \{}
\DoxyCodeLine{1794     \textcolor{keywordflow}{if} (s[i] == \textcolor{charliteral}{'\%'} \&\& i + 1 < s.size()) \{}
\DoxyCodeLine{1795       \textcolor{keywordflow}{if} (s[i + 1] == \textcolor{charliteral}{'u'}) \{}
\DoxyCodeLine{1796         \textcolor{keywordtype}{int} val = 0;}
\DoxyCodeLine{1797         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a62592aa626f8ab0e3af59e681a28ac1b}{from\_hex\_to\_i}}(s, i + 2, 4, val)) \{}
\DoxyCodeLine{1798           \textcolor{comment}{// 4 digits Unicode codes}}
\DoxyCodeLine{1799           \textcolor{keywordtype}{char} buff[4];}
\DoxyCodeLine{1800           \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \mbox{\hyperlink{namespacehttplib_1_1detail_a011d617356300d12aeb93d2dda1560b9}{to\_utf8}}(val, buff);}
\DoxyCodeLine{1801           \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > 0) \{ result.append(buff, \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}); \}}
\DoxyCodeLine{1802           i += 5; \textcolor{comment}{// 'u0000'}}
\DoxyCodeLine{1803         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1804           result += s[i];}
\DoxyCodeLine{1805         \}}
\DoxyCodeLine{1806       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1807         \textcolor{keywordtype}{int} val = 0;}
\DoxyCodeLine{1808         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a62592aa626f8ab0e3af59e681a28ac1b}{from\_hex\_to\_i}}(s, i + 1, 2, val)) \{}
\DoxyCodeLine{1809           \textcolor{comment}{// 2 digits hex codes}}
\DoxyCodeLine{1810           result += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(val);}
\DoxyCodeLine{1811           i += 2; \textcolor{comment}{// '00'}}
\DoxyCodeLine{1812         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1813           result += s[i];}
\DoxyCodeLine{1814         \}}
\DoxyCodeLine{1815       \}}
\DoxyCodeLine{1816     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (s[i] == \textcolor{charliteral}{'+'}) \{}
\DoxyCodeLine{1817       result += \textcolor{charliteral}{' '};}
\DoxyCodeLine{1818     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1819       result += s[i];}
\DoxyCodeLine{1820     \}}
\DoxyCodeLine{1821   \}}
\DoxyCodeLine{1822 }
\DoxyCodeLine{1823   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1824 \}}
\DoxyCodeLine{1825 }
\DoxyCodeLine{1826 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacehttplib_1_1detail_acd471412f59b3f94884fcb9e7986a480}{parse\_query\_text}}(\textcolor{keyword}{const} std::string \&s, \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} \&params) \{}
\DoxyCodeLine{1827   \mbox{\hyperlink{namespacehttplib_1_1detail_a371bab3d3c19d72d416526aed1baf852}{split}}(\&s[0], \&s[s.size()], \textcolor{charliteral}{'\&'}, [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *b, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *e) \{}
\DoxyCodeLine{1828     std::string key;}
\DoxyCodeLine{1829     std::string val;}
\DoxyCodeLine{1830     split(b, e, \textcolor{stringliteral}{'='}, [\&](const char *b, const char *e) \{}
\DoxyCodeLine{1831       if (key.empty()) \{}
\DoxyCodeLine{1832         key.assign(b, e);}
\DoxyCodeLine{1833       \} else \{}
\DoxyCodeLine{1834         val.assign(b, e);}
\DoxyCodeLine{1835       \}}
\DoxyCodeLine{1836     \});}
\DoxyCodeLine{1837     params.emplace(key, \mbox{\hyperlink{namespacehttplib_1_1detail_a157e3058faf96822a999e25e49d2f0c8}{decode\_url}}(val));}
\DoxyCodeLine{1838   \});}
\DoxyCodeLine{1839 \}}
\DoxyCodeLine{1840 }
\DoxyCodeLine{1841 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_ab575e708f5bc8388244b79a7bb020547}{parse\_multipart\_boundary}}(\textcolor{keyword}{const} std::string \&content\_type,}
\DoxyCodeLine{1842                                      std::string \&boundary) \{}
\DoxyCodeLine{1843   \textcolor{keyword}{auto} pos = content\_type.find(\textcolor{stringliteral}{"{}boundary="{}});}
\DoxyCodeLine{1844   \textcolor{keywordflow}{if} (pos == std::string::npos) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1845 }
\DoxyCodeLine{1846   boundary = content\_type.substr(pos + 9);}
\DoxyCodeLine{1847   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1848 \}}
\DoxyCodeLine{1849 }
\DoxyCodeLine{1850 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a681e947baed0e9a30c035c9ad1d314c1}{parse\_multipart\_formdata}}(\textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{1851                                      \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{1852                                      \mbox{\hyperlink{namespacehttplib_ad71e4ea03b2aecdc5b2b52639dd55b27}{MultipartFiles}} \&files) \{}
\DoxyCodeLine{1853   \textcolor{keyword}{static} std::string dash = \textcolor{stringliteral}{"{}-\/-\/"{}};}
\DoxyCodeLine{1854   \textcolor{keyword}{static} std::string crlf = \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{1855 }
\DoxyCodeLine{1856   \textcolor{keyword}{static} std::regex re\_content\_type(\textcolor{stringliteral}{"{}Content-\/Type: (.*?)\$"{}},}
\DoxyCodeLine{1857                                     std::regex\_constants::icase);}
\DoxyCodeLine{1858 }
\DoxyCodeLine{1859   \textcolor{keyword}{static} std::regex re\_content\_disposition(}
\DoxyCodeLine{1860       \textcolor{stringliteral}{"{}Content-\/Disposition: form-\/data; name=\(\backslash\)"{}(.*?)\(\backslash\)"{}(?:; filename=\(\backslash\)"{}(.*?)\(\backslash\)"{})?"{}},}
\DoxyCodeLine{1861       std::regex\_constants::icase);}
\DoxyCodeLine{1862 }
\DoxyCodeLine{1863   \textcolor{keyword}{auto} dash\_boundary = dash + boundary;}
\DoxyCodeLine{1864 }
\DoxyCodeLine{1865   \textcolor{keyword}{auto} pos = body.find(dash\_boundary);}
\DoxyCodeLine{1866   \textcolor{keywordflow}{if} (pos != 0) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1867 }
\DoxyCodeLine{1868   pos += dash\_boundary.size();}
\DoxyCodeLine{1869 }
\DoxyCodeLine{1870   \textcolor{keyword}{auto} next\_pos = body.find(crlf, pos);}
\DoxyCodeLine{1871   \textcolor{keywordflow}{if} (next\_pos == std::string::npos) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1872 }
\DoxyCodeLine{1873   pos = next\_pos + crlf.size();}
\DoxyCodeLine{1874 }
\DoxyCodeLine{1875   \textcolor{keywordflow}{while} (pos < body.size()) \{}
\DoxyCodeLine{1876     next\_pos = body.find(crlf, pos);}
\DoxyCodeLine{1877     \textcolor{keywordflow}{if} (next\_pos == std::string::npos) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1878 }
\DoxyCodeLine{1879     std::string \mbox{\hyperlink{structname}{name}};}
\DoxyCodeLine{1880     \mbox{\hyperlink{structhttplib_1_1_multipart_file}{MultipartFile}} file;}
\DoxyCodeLine{1881 }
\DoxyCodeLine{1882     \textcolor{keyword}{auto} header = body.substr(pos, (next\_pos -\/ pos));}
\DoxyCodeLine{1883 }
\DoxyCodeLine{1884     \textcolor{keywordflow}{while} (pos != next\_pos) \{}
\DoxyCodeLine{1885       std::smatch m;}
\DoxyCodeLine{1886       \textcolor{keywordflow}{if} (std::regex\_match(header, m, re\_content\_type)) \{}
\DoxyCodeLine{1887         file.\mbox{\hyperlink{structhttplib_1_1_multipart_file_a3d148a5e7f2bd39c6a9af6fc89a505e8}{content\_type}} = m[1];}
\DoxyCodeLine{1888       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (std::regex\_match(header, m, re\_content\_disposition)) \{}
\DoxyCodeLine{1889         \mbox{\hyperlink{structname}{name}} = m[1];}
\DoxyCodeLine{1890         file.\mbox{\hyperlink{structhttplib_1_1_multipart_file_a4c8c7c18369bcf7bcf3a9425863cdccd}{filename}} = m[2];}
\DoxyCodeLine{1891       \}}
\DoxyCodeLine{1892 }
\DoxyCodeLine{1893       pos = next\_pos + crlf.size();}
\DoxyCodeLine{1894 }
\DoxyCodeLine{1895       next\_pos = body.find(crlf, pos);}
\DoxyCodeLine{1896       \textcolor{keywordflow}{if} (next\_pos == std::string::npos) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1897 }
\DoxyCodeLine{1898       header = body.substr(pos, (next\_pos -\/ pos));}
\DoxyCodeLine{1899     \}}
\DoxyCodeLine{1900 }
\DoxyCodeLine{1901     pos = next\_pos + crlf.size();}
\DoxyCodeLine{1902 }
\DoxyCodeLine{1903     next\_pos = body.find(crlf + dash\_boundary, pos);}
\DoxyCodeLine{1904 }
\DoxyCodeLine{1905     \textcolor{keywordflow}{if} (next\_pos == std::string::npos) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1906 }
\DoxyCodeLine{1907     file.\mbox{\hyperlink{structhttplib_1_1_multipart_file_a677381deb03f6fccfc560babf9c237da}{offset}} = pos;}
\DoxyCodeLine{1908     file.\mbox{\hyperlink{structhttplib_1_1_multipart_file_aa5386da2461d7d86b98187a9403914a2}{length}} = next\_pos -\/ pos;}
\DoxyCodeLine{1909 }
\DoxyCodeLine{1910     pos = next\_pos + crlf.size() + dash\_boundary.size();}
\DoxyCodeLine{1911 }
\DoxyCodeLine{1912     next\_pos = body.find(crlf, pos);}
\DoxyCodeLine{1913     \textcolor{keywordflow}{if} (next\_pos == std::string::npos) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1914 }
\DoxyCodeLine{1915     files.emplace(\mbox{\hyperlink{structname}{name}}, file);}
\DoxyCodeLine{1916 }
\DoxyCodeLine{1917     pos = next\_pos + crlf.size();}
\DoxyCodeLine{1918   \}}
\DoxyCodeLine{1919 }
\DoxyCodeLine{1920   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1921 \}}
\DoxyCodeLine{1922 }
\DoxyCodeLine{1923 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_ad4101f2d385e30a6c88e24b6a9058113}{parse\_range\_header}}(\textcolor{keyword}{const} std::string \&s, \mbox{\hyperlink{namespacehttplib_a3395bd4008ea82b092537f3084dddf5e}{Ranges}} \&ranges) \{}
\DoxyCodeLine{1924   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{1925     \textcolor{keyword}{static} \textcolor{keyword}{auto} re\_first\_range =}
\DoxyCodeLine{1926         std::regex(R\textcolor{stringliteral}{"{}(bytes=(\(\backslash\)d*-\/\(\backslash\)d*(?:,\(\backslash\)s*\(\backslash\)d*-\/\(\backslash\)d*)*))"{});}}
\DoxyCodeLine{1927 \textcolor{stringliteral}{    std::smatch m;}}
\DoxyCodeLine{1928 \textcolor{stringliteral}{    }\textcolor{keywordflow}{if} (std::regex\_match(s, m, re\_first\_range)) \{}
\DoxyCodeLine{1929       \textcolor{keyword}{auto} pos = m.position(1);}
\DoxyCodeLine{1930       \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = m.length(1);}
\DoxyCodeLine{1931       \mbox{\hyperlink{namespacehttplib_1_1detail_a371bab3d3c19d72d416526aed1baf852}{detail::split}}(}
\DoxyCodeLine{1932           \&s[pos], \&s[pos + \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}], \textcolor{charliteral}{','}, [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *b, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *e) \{}
\DoxyCodeLine{1933             \textcolor{keyword}{static} \textcolor{keyword}{auto} re\_another\_range = std::regex(R\textcolor{stringliteral}{"{}(\(\backslash\)s*(\(\backslash\)d*)-\/(\(\backslash\)d*))"{});}}
\DoxyCodeLine{1934 \textcolor{stringliteral}{            std::cmatch m;}}
\DoxyCodeLine{1935 \textcolor{stringliteral}{            }\textcolor{keywordflow}{if} (std::regex\_match(b, e, m, re\_another\_range)) \{}
\DoxyCodeLine{1936               \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}} = -\/1;}
\DoxyCodeLine{1937               \textcolor{keywordflow}{if} (!m.str(1).empty()) \{}
\DoxyCodeLine{1938                 \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}} = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}\textcolor{keyword}{>}(std::stoll(m.str(1)));}
\DoxyCodeLine{1939               \}}
\DoxyCodeLine{1940 }
\DoxyCodeLine{1941               \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}} = -\/1;}
\DoxyCodeLine{1942               \textcolor{keywordflow}{if} (!m.str(2).empty()) \{}
\DoxyCodeLine{1943                 \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}} = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}\textcolor{keyword}{>}(std::stoll(m.str(2)));}
\DoxyCodeLine{1944               \}}
\DoxyCodeLine{1945 }
\DoxyCodeLine{1946               \textcolor{keywordflow}{if} (\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}} != -\/1 \&\& \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}} != -\/1 \&\& \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}} > \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}}) \{}
\DoxyCodeLine{1947                 \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}invalid range error"{}});}
\DoxyCodeLine{1948               \}}
\DoxyCodeLine{1949               ranges.emplace\_back(std::make\_pair(\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}, \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}}));}
\DoxyCodeLine{1950             \}}
\DoxyCodeLine{1951           \});}
\DoxyCodeLine{1952       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1953     \}}
\DoxyCodeLine{1954     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1955   \} \textcolor{keywordflow}{catch} (...) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1956 \}}
\DoxyCodeLine{1957 }
\DoxyCodeLine{1958 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_ab4e9ff501e78d30711d3f03bf8ccf932}{to\_lower}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *beg, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}}) \{}
\DoxyCodeLine{1959   std::string out;}
\DoxyCodeLine{1960   \textcolor{keyword}{auto} it = beg;}
\DoxyCodeLine{1961   \textcolor{keywordflow}{while} (it != \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}}) \{}
\DoxyCodeLine{1962     out += \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(::tolower(*it));}
\DoxyCodeLine{1963     it++;}
\DoxyCodeLine{1964   \}}
\DoxyCodeLine{1965   \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{1966 \}}
\DoxyCodeLine{1967 }
\DoxyCodeLine{1968 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_ae144d55905f9808c3abae6e20bd9367a}{make\_multipart\_data\_boundary}}() \{}
\DoxyCodeLine{1969   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} \mbox{\hyperlink{structdata}{data}}[] =}
\DoxyCodeLine{1970       \textcolor{stringliteral}{"{}0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"{}};}
\DoxyCodeLine{1971 }
\DoxyCodeLine{1972   std::random\_device seed\_gen;}
\DoxyCodeLine{1973   std::mt19937 engine(seed\_gen());}
\DoxyCodeLine{1974 }
\DoxyCodeLine{1975   std::string result = \textcolor{stringliteral}{"{}-\/-\/cpp-\/httplib-\/multipart-\/data-\/"{}};}
\DoxyCodeLine{1976 }
\DoxyCodeLine{1977   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < 16; i++) \{}
\DoxyCodeLine{1978     result += \mbox{\hyperlink{structdata}{data}}[engine() \% (\textcolor{keyword}{sizeof}(\mbox{\hyperlink{darknet_8h_a493583f6fc164cf849745e01e4c04ab5}{data}}) -\/ 1)];}
\DoxyCodeLine{1979   \}}
\DoxyCodeLine{1980 }
\DoxyCodeLine{1981   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1982 \}}
\DoxyCodeLine{1983 }
\DoxyCodeLine{1984 \textcolor{keyword}{inline} std::pair<size\_t, size\_t>}
\DoxyCodeLine{1985 \mbox{\hyperlink{namespacehttplib_1_1detail_afb79e1ea397a5aa249efe2a43d20790d}{get\_range\_offset\_and\_length}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{1986                             \textcolor{keywordtype}{size\_t} index) \{}
\DoxyCodeLine{1987   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}[index];}
\DoxyCodeLine{1988 }
\DoxyCodeLine{1989   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first == -\/1 \&\& \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second == -\/1) \{}
\DoxyCodeLine{1990     \textcolor{keywordflow}{return} std::make\_pair(0, content\_length);}
\DoxyCodeLine{1991   \}}
\DoxyCodeLine{1992 }
\DoxyCodeLine{1993   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first == -\/1) \{}
\DoxyCodeLine{1994     \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first = content\_length -\/ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second;}
\DoxyCodeLine{1995     \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second = content\_length -\/ 1;}
\DoxyCodeLine{1996   \}}
\DoxyCodeLine{1997 }
\DoxyCodeLine{1998   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second == -\/1) \{ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second = content\_length -\/ 1; \}}
\DoxyCodeLine{1999 }
\DoxyCodeLine{2000   \textcolor{keywordflow}{return} std::make\_pair(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first, \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second -\/ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first + 1);}
\DoxyCodeLine{2001 \}}
\DoxyCodeLine{2002 }
\DoxyCodeLine{2003 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_abe8b95159ae97fefd882a9990ff9291d}{make\_content\_range\_header\_field}}(\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length,}
\DoxyCodeLine{2004                                                    \textcolor{keywordtype}{size\_t} content\_length) \{}
\DoxyCodeLine{2005   std::string field = \textcolor{stringliteral}{"{}bytes "{}};}
\DoxyCodeLine{2006   field += std::to\_string(offset);}
\DoxyCodeLine{2007   field += \textcolor{stringliteral}{"{}-\/"{}};}
\DoxyCodeLine{2008   field += std::to\_string(offset + length -\/ 1);}
\DoxyCodeLine{2009   field += \textcolor{stringliteral}{"{}/"{}};}
\DoxyCodeLine{2010   field += std::to\_string(content\_length);}
\DoxyCodeLine{2011   \textcolor{keywordflow}{return} field;}
\DoxyCodeLine{2012 \}}
\DoxyCodeLine{2013 }
\DoxyCodeLine{2014 \textcolor{keyword}{template} <\textcolor{keyword}{typename} SToken, \textcolor{keyword}{typename} CToken, \textcolor{keyword}{typename} Content>}
\DoxyCodeLine{2015 \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a89ddf0a3f7bf1b5a3a7f5547f20db6f5}{process\_multipart\_ranges\_data}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2016                                    \textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{2017                                    \textcolor{keyword}{const} std::string \&content\_type,}
\DoxyCodeLine{2018                                    SToken stoken, CToken ctoken,}
\DoxyCodeLine{2019                                    Content content) \{}
\DoxyCodeLine{2020   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.size(); i++) \{}
\DoxyCodeLine{2021     ctoken(\textcolor{stringliteral}{"{}-\/-\/"{}});}
\DoxyCodeLine{2022     stoken(boundary);}
\DoxyCodeLine{2023     ctoken(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2024     \textcolor{keywordflow}{if} (!content\_type.empty()) \{}
\DoxyCodeLine{2025       ctoken(\textcolor{stringliteral}{"{}Content-\/Type: "{}});}
\DoxyCodeLine{2026       stoken(content\_type);}
\DoxyCodeLine{2027       ctoken(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2028     \}}
\DoxyCodeLine{2029 }
\DoxyCodeLine{2030     \textcolor{keyword}{auto} offsets = \mbox{\hyperlink{namespacehttplib_1_1detail_a2d4a39719cfb2efb172a2c89e154c220}{detail::get\_range\_offset\_and\_length}}(req, res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.size(), i);}
\DoxyCodeLine{2031     \textcolor{keyword}{auto} offset = offsets.first;}
\DoxyCodeLine{2032     \textcolor{keyword}{auto} length = offsets.second;}
\DoxyCodeLine{2033 }
\DoxyCodeLine{2034     ctoken(\textcolor{stringliteral}{"{}Content-\/Range: "{}});}
\DoxyCodeLine{2035     stoken(\mbox{\hyperlink{namespacehttplib_1_1detail_abe8b95159ae97fefd882a9990ff9291d}{make\_content\_range\_header\_field}}(offset, length, res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.size()));}
\DoxyCodeLine{2036     ctoken(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2037     ctoken(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2038     \textcolor{keywordflow}{if} (!content(offset, length)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{2039     ctoken(\textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2040   \}}
\DoxyCodeLine{2041 }
\DoxyCodeLine{2042   ctoken(\textcolor{stringliteral}{"{}-\/-\/"{}});}
\DoxyCodeLine{2043   stoken(boundary);}
\DoxyCodeLine{2044   ctoken(\textcolor{stringliteral}{"{}-\/-\/\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2045 }
\DoxyCodeLine{2046   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2047 \}}
\DoxyCodeLine{2048 }
\DoxyCodeLine{2049 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a78adaecc616958150794b2949dc5b072}{make\_multipart\_ranges\_data}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2050                                               \textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{2051                                               \textcolor{keyword}{const} std::string \&content\_type) \{}
\DoxyCodeLine{2052   std::string \mbox{\hyperlink{darknet_8h_a493583f6fc164cf849745e01e4c04ab5}{data}};}
\DoxyCodeLine{2053 }
\DoxyCodeLine{2054   \mbox{\hyperlink{namespacehttplib_1_1detail_a89ddf0a3f7bf1b5a3a7f5547f20db6f5}{process\_multipart\_ranges\_data}}(}
\DoxyCodeLine{2055       req, res, boundary, content\_type,}
\DoxyCodeLine{2056       [\&](\textcolor{keyword}{const} std::string \&token) \{ \mbox{\hyperlink{structdata}{data}} += token; \},}
\DoxyCodeLine{2057       [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *token) \{ \mbox{\hyperlink{structdata}{data}} += token; \},}
\DoxyCodeLine{2058       [\&](\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length) \{}
\DoxyCodeLine{2059         \mbox{\hyperlink{structdata}{data}} += res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.substr(offset, length);}
\DoxyCodeLine{2060         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2061       \});}
\DoxyCodeLine{2062 }
\DoxyCodeLine{2063   \textcolor{keywordflow}{return} \mbox{\hyperlink{darknet_8h_a493583f6fc164cf849745e01e4c04ab5}{data}};}
\DoxyCodeLine{2064 \}}
\DoxyCodeLine{2065 }
\DoxyCodeLine{2066 \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t}}
\DoxyCodeLine{2067 \mbox{\hyperlink{namespacehttplib_1_1detail_adaa15da1e9aaa661e44dc5ef9688180e}{get\_multipart\_ranges\_data\_length}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2068                                  \textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{2069                                  \textcolor{keyword}{const} std::string \&content\_type) \{}
\DoxyCodeLine{2070   \textcolor{keywordtype}{size\_t} data\_length = 0;}
\DoxyCodeLine{2071 }
\DoxyCodeLine{2072   \mbox{\hyperlink{namespacehttplib_1_1detail_a89ddf0a3f7bf1b5a3a7f5547f20db6f5}{process\_multipart\_ranges\_data}}(}
\DoxyCodeLine{2073       req, res, boundary, content\_type,}
\DoxyCodeLine{2074       [\&](\textcolor{keyword}{const} std::string \&token) \{ data\_length += token.size(); \},}
\DoxyCodeLine{2075       [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *token) \{ data\_length += strlen(token); \},}
\DoxyCodeLine{2076       [\&](\textcolor{keywordtype}{size\_t} \textcolor{comment}{/*offset*/}, \textcolor{keywordtype}{size\_t} length) \{}
\DoxyCodeLine{2077         data\_length += length;}
\DoxyCodeLine{2078         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2079       \});}
\DoxyCodeLine{2080 }
\DoxyCodeLine{2081   \textcolor{keywordflow}{return} data\_length;}
\DoxyCodeLine{2082 \}}
\DoxyCodeLine{2083 }
\DoxyCodeLine{2084 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_aa8cade6bbadee54e6f02f0f649b619a1}{write\_multipart\_ranges\_data}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{2085                                         \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2086                                         \textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{2087                                         \textcolor{keyword}{const} std::string \&content\_type) \{}
\DoxyCodeLine{2088   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a89ddf0a3f7bf1b5a3a7f5547f20db6f5}{process\_multipart\_ranges\_data}}(}
\DoxyCodeLine{2089       req, res, boundary, content\_type,}
\DoxyCodeLine{2090       [\&](\textcolor{keyword}{const} std::string \&token) \{ strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(token); \},}
\DoxyCodeLine{2091       [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *token) \{ strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(token); \},}
\DoxyCodeLine{2092       [\&](\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length) \{}
\DoxyCodeLine{2093         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a0031e9b8c67bb9f8abe29a4a7399b507}{detail::write\_content}}(strm, res.\mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}}, offset,}
\DoxyCodeLine{2094                                      length) >= 0;}
\DoxyCodeLine{2095       \});}
\DoxyCodeLine{2096 \}}
\DoxyCodeLine{2097 }
\DoxyCodeLine{2098 \textcolor{keyword}{inline} std::pair<size\_t, size\_t>}
\DoxyCodeLine{2099 \mbox{\hyperlink{namespacehttplib_1_1detail_afb79e1ea397a5aa249efe2a43d20790d}{get\_range\_offset\_and\_length}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2100                             \textcolor{keywordtype}{size\_t} index) \{}
\DoxyCodeLine{2101   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}[index];}
\DoxyCodeLine{2102 }
\DoxyCodeLine{2103   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second == -\/1) \{ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second = res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}} -\/ 1; \}}
\DoxyCodeLine{2104 }
\DoxyCodeLine{2105   \textcolor{keywordflow}{return} std::make\_pair(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first, \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second -\/ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first + 1);}
\DoxyCodeLine{2106 \}}
\DoxyCodeLine{2107 }
\DoxyCodeLine{2108 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{2109 \textcolor{keyword}{class }WSInit \{}
\DoxyCodeLine{2110 \textcolor{keyword}{public}:}
\DoxyCodeLine{2111   WSInit() \{}
\DoxyCodeLine{2112     WSADATA wsaData;}
\DoxyCodeLine{2113     WSAStartup(0x0002, \&wsaData);}
\DoxyCodeLine{2114   \}}
\DoxyCodeLine{2115 }
\DoxyCodeLine{2116   \string~WSInit() \{ WSACleanup(); \}}
\DoxyCodeLine{2117 \};}
\DoxyCodeLine{2118 }
\DoxyCodeLine{2119 \textcolor{keyword}{static} WSInit wsinit\_;}
\DoxyCodeLine{2120 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2121 }
\DoxyCodeLine{2122 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{2123 }
\DoxyCodeLine{2124 \textcolor{comment}{// Header utilities}}
\DoxyCodeLine{2125 \textcolor{keyword}{inline} std::pair<std::string, std::string> \mbox{\hyperlink{namespacehttplib_a01bfe9dba7c203f1bb22ec29e2f3ede8}{make\_range\_header}}(\mbox{\hyperlink{namespacehttplib_a3395bd4008ea82b092537f3084dddf5e}{Ranges}} ranges) \{}
\DoxyCodeLine{2126   std::string field = \textcolor{stringliteral}{"{}bytes="{}};}
\DoxyCodeLine{2127   \textcolor{keyword}{auto} i = 0;}
\DoxyCodeLine{2128   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} : ranges) \{}
\DoxyCodeLine{2129     \textcolor{keywordflow}{if} (i != 0) \{ field += \textcolor{stringliteral}{"{}, "{}}; \}}
\DoxyCodeLine{2130     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first != -\/1) \{ field += std::to\_string(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first); \}}
\DoxyCodeLine{2131     field += \textcolor{charliteral}{'-\/'};}
\DoxyCodeLine{2132     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second != -\/1) \{ field += std::to\_string(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second); \}}
\DoxyCodeLine{2133     i++;}
\DoxyCodeLine{2134   \}}
\DoxyCodeLine{2135   \textcolor{keywordflow}{return} std::make\_pair(\textcolor{stringliteral}{"{}Range"{}}, field);}
\DoxyCodeLine{2136 \}}
\DoxyCodeLine{2137 }
\DoxyCodeLine{2138 \textcolor{keyword}{inline} std::pair<std::string, std::string>}
\DoxyCodeLine{2139 \mbox{\hyperlink{namespacehttplib_a625889bc274102909353f181d3d57291}{make\_basic\_authentication\_header}}(\textcolor{keyword}{const} std::string \&username,}
\DoxyCodeLine{2140                                  \textcolor{keyword}{const} std::string \&password) \{}
\DoxyCodeLine{2141   \textcolor{keyword}{auto} field = \textcolor{stringliteral}{"{}Basic "{}} + \mbox{\hyperlink{namespacehttplib_1_1detail_a455e8db9d2cc4c24565af6d9b884eeaf}{detail::base64\_encode}}(username + \textcolor{stringliteral}{"{}:"{}} + password);}
\DoxyCodeLine{2142   \textcolor{keywordflow}{return} std::make\_pair(\textcolor{stringliteral}{"{}Authorization"{}}, field);}
\DoxyCodeLine{2143 \}}
\DoxyCodeLine{2144 }
\DoxyCodeLine{2145 \textcolor{comment}{// Request implementation}}
\DoxyCodeLine{2146 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{Request::has\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2147   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a290756a21ec7646b70a02103cd61d061}{detail::has\_header}}(\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}, key);}
\DoxyCodeLine{2148 \}}
\DoxyCodeLine{2149 }
\DoxyCodeLine{2150 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{Request::get\_header\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2151   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_aef894f1e166e16c38e91b750b805b619}{detail::get\_header\_value}}(\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}, key, \textcolor{keywordtype}{id}, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{2152 \}}
\DoxyCodeLine{2153 }
\DoxyCodeLine{2154 \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_request_a544d8a60a0ed7675c5f98936833d2445}{Request::get\_header\_value\_count}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2155   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = \mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.equal\_range(key);}
\DoxyCodeLine{2156   \textcolor{keywordflow}{return} std::distance(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first, \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second);}
\DoxyCodeLine{2157 \}}
\DoxyCodeLine{2158 }
\DoxyCodeLine{2159 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_request_acc869733c900de3687d675aadd8ce30a}{Request::set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *val) \{}
\DoxyCodeLine{2160   \mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.emplace(key, val);}
\DoxyCodeLine{2161 \}}
\DoxyCodeLine{2162 }
\DoxyCodeLine{2163 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_request_acc869733c900de3687d675aadd8ce30a}{Request::set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} std::string \&val) \{}
\DoxyCodeLine{2164   \mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.emplace(key, val);}
\DoxyCodeLine{2165 \}}
\DoxyCodeLine{2166 }
\DoxyCodeLine{2167 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_request_a8669823b34b3fa6a53efd152721ac12b}{Request::has\_param}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2168   \textcolor{keywordflow}{return} \mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}}.find(key) != \mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}}.end();}
\DoxyCodeLine{2169 \}}
\DoxyCodeLine{2170 }
\DoxyCodeLine{2171 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{structhttplib_1_1_request_a7a416e7c0c094655c725b8497c0a983d}{Request::get\_param\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2172   \textcolor{keyword}{auto} it = \mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}}.find(key);}
\DoxyCodeLine{2173   std::advance(it, \textcolor{keywordtype}{id});}
\DoxyCodeLine{2174   \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}}.end()) \{ \textcolor{keywordflow}{return} it-\/>second; \}}
\DoxyCodeLine{2175   \textcolor{keywordflow}{return} std::string();}
\DoxyCodeLine{2176 \}}
\DoxyCodeLine{2177 }
\DoxyCodeLine{2178 \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_request_aa496f675aef8ac0f11ba97b62e1a2f61}{Request::get\_param\_value\_count}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2179   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = \mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}}.equal\_range(key);}
\DoxyCodeLine{2180   \textcolor{keywordflow}{return} std::distance(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first, \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second);}
\DoxyCodeLine{2181 \}}
\DoxyCodeLine{2182 }
\DoxyCodeLine{2183 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_request_aaff05957c8c0da90e9605c936e427397}{Request::has\_file}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2184   \textcolor{keywordflow}{return} \mbox{\hyperlink{structhttplib_1_1_request_a4f6801c7553d9c9a5b17e3e88fbd3c63}{files}}.find(key) != \mbox{\hyperlink{structhttplib_1_1_request_a4f6801c7553d9c9a5b17e3e88fbd3c63}{files}}.end();}
\DoxyCodeLine{2185 \}}
\DoxyCodeLine{2186 }
\DoxyCodeLine{2187 \textcolor{keyword}{inline} \mbox{\hyperlink{structhttplib_1_1_multipart_file}{MultipartFile}} \mbox{\hyperlink{structhttplib_1_1_request_a9d75fb4a6c3456bcdf46d96d9274121b}{Request::get\_file\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2188   \textcolor{keyword}{auto} it = \mbox{\hyperlink{structhttplib_1_1_request_a4f6801c7553d9c9a5b17e3e88fbd3c63}{files}}.find(key);}
\DoxyCodeLine{2189   \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{structhttplib_1_1_request_a4f6801c7553d9c9a5b17e3e88fbd3c63}{files}}.end()) \{ \textcolor{keywordflow}{return} it-\/>second; \}}
\DoxyCodeLine{2190   \textcolor{keywordflow}{return} \mbox{\hyperlink{structhttplib_1_1_multipart_file}{MultipartFile}}();}
\DoxyCodeLine{2191 \}}
\DoxyCodeLine{2192 }
\DoxyCodeLine{2193 \textcolor{comment}{// Response implementation}}
\DoxyCodeLine{2194 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structhttplib_1_1_response_ace3d4f95d11d0b72f25b14cb02a419ad}{Response::has\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2195   \textcolor{keywordflow}{return} \mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.find(key) != \mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.end();}
\DoxyCodeLine{2196 \}}
\DoxyCodeLine{2197 }
\DoxyCodeLine{2198 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{structhttplib_1_1_response_aa2e1798839c08472e324cd1d864b35e5}{Response::get\_header\_value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key,}
\DoxyCodeLine{2199                                               \textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2200   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_aef894f1e166e16c38e91b750b805b619}{detail::get\_header\_value}}(\mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}, key, \textcolor{keywordtype}{id}, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{2201 \}}
\DoxyCodeLine{2202 }
\DoxyCodeLine{2203 \textcolor{keyword}{inline} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structhttplib_1_1_response_aaee484be2b305d32652c90d2f148ec52}{Response::get\_header\_value\_count}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2204   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}} = \mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.equal\_range(key);}
\DoxyCodeLine{2205   \textcolor{keywordflow}{return} std::distance(\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.first, \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}.second);}
\DoxyCodeLine{2206 \}}
\DoxyCodeLine{2207 }
\DoxyCodeLine{2208 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{Response::set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *val) \{}
\DoxyCodeLine{2209   \mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.emplace(key, val);}
\DoxyCodeLine{2210 \}}
\DoxyCodeLine{2211 }
\DoxyCodeLine{2212 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{Response::set\_header}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *key, \textcolor{keyword}{const} std::string \&val) \{}
\DoxyCodeLine{2213   \mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.emplace(key, val);}
\DoxyCodeLine{2214 \}}
\DoxyCodeLine{2215 }
\DoxyCodeLine{2216 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a1e1f33821535918ee20e637342a60e2e}{Response::set\_redirect}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *url) \{}
\DoxyCodeLine{2217   \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Location"{}}, url);}
\DoxyCodeLine{2218   \mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 302;}
\DoxyCodeLine{2219 \}}
\DoxyCodeLine{2220 }
\DoxyCodeLine{2221 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a7d1fb9a55621d693251a0d0011e63974}{Response::set\_content}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \textcolor{keywordtype}{size\_t} n,}
\DoxyCodeLine{2222                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type) \{}
\DoxyCodeLine{2223   \mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.assign(s, n);}
\DoxyCodeLine{2224   \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Type"{}}, content\_type);}
\DoxyCodeLine{2225 \}}
\DoxyCodeLine{2226 }
\DoxyCodeLine{2227 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a7d1fb9a55621d693251a0d0011e63974}{Response::set\_content}}(\textcolor{keyword}{const} std::string \&s,}
\DoxyCodeLine{2228                                   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type) \{}
\DoxyCodeLine{2229   \mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}} = s;}
\DoxyCodeLine{2230   \mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Type"{}}, content\_type);}
\DoxyCodeLine{2231 \}}
\DoxyCodeLine{2232 }
\DoxyCodeLine{2233 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_a31d297b15934472c9bdd5046cf256106}{Response::set\_content\_provider}}(}
\DoxyCodeLine{2234     \textcolor{keywordtype}{size\_t} length,}
\DoxyCodeLine{2235     std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink)> provider,}
\DoxyCodeLine{2236     std::function<\textcolor{keywordtype}{void}()> resource\_releaser) \{}
\DoxyCodeLine{2237   assert(length > 0);}
\DoxyCodeLine{2238   \mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}} = length;}
\DoxyCodeLine{2239   \mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}} = [provider](\textcolor{keywordtype}{size\_t} offset, \textcolor{keywordtype}{size\_t} length, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink,}
\DoxyCodeLine{2240                                 \mbox{\hyperlink{namespacehttplib_a8d10683b0d01cae237d30c058a9c1d27}{Done}}) \{ provider(offset, length, sink); \};}
\DoxyCodeLine{2241   \mbox{\hyperlink{structhttplib_1_1_response_a511dbc9fb3253810d2d7a188bb4a85f0}{content\_provider\_resource\_releaser}} = resource\_releaser;}
\DoxyCodeLine{2242 \}}
\DoxyCodeLine{2243 }
\DoxyCodeLine{2244 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{structhttplib_1_1_response_ad1011d5f47d018858b86e3c129c45bf0}{Response::set\_chunked\_content\_provider}}(}
\DoxyCodeLine{2245     std::function<\textcolor{keywordtype}{void}(\textcolor{keywordtype}{size\_t} offset, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink, \mbox{\hyperlink{namespacehttplib_a8d10683b0d01cae237d30c058a9c1d27}{Done}} done)> provider,}
\DoxyCodeLine{2246     std::function<\textcolor{keywordtype}{void}()> resource\_releaser) \{}
\DoxyCodeLine{2247   \mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}} = 0;}
\DoxyCodeLine{2248   \mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}} = [provider](\textcolor{keywordtype}{size\_t} offset, \mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}}, \mbox{\hyperlink{namespacehttplib_a6bfddf16d54a7ce2a574a9d4d3b60b39}{DataSink}} sink,}
\DoxyCodeLine{2249                                 \mbox{\hyperlink{namespacehttplib_a8d10683b0d01cae237d30c058a9c1d27}{Done}} done) \{ provider(offset, sink, done); \};}
\DoxyCodeLine{2250   \mbox{\hyperlink{structhttplib_1_1_response_a511dbc9fb3253810d2d7a188bb4a85f0}{content\_provider\_resource\_releaser}} = resource\_releaser;}
\DoxyCodeLine{2251 \}}
\DoxyCodeLine{2252 }
\DoxyCodeLine{2253 \textcolor{comment}{// Rstream implementation}}
\DoxyCodeLine{2254 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{2255 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_stream_ad12b648773d8deeb1665bc61eb1ad3f5}{Stream::write\_format}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt, \textcolor{keyword}{const} Args \&... \mbox{\hyperlink{classargs}{args}}) \{}
\DoxyCodeLine{2256   std::array<char, 2048> buf;}
\DoxyCodeLine{2257 }
\DoxyCodeLine{2258 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) \&\& \_MSC\_VER < 1900}}
\DoxyCodeLine{2259   \textcolor{keyword}{auto} n = \_snprintf\_s(buf, bufsiz, buf.size() -\/ 1, fmt, \mbox{\hyperlink{classargs}{args}}...);}
\DoxyCodeLine{2260 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2261   \textcolor{keyword}{auto} n = snprintf(buf.data(), buf.size() -\/ 1, fmt, \mbox{\hyperlink{classargs}{args}}...);}
\DoxyCodeLine{2262 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2263   \textcolor{keywordflow}{if} (n <= 0) \{ \textcolor{keywordflow}{return} n; \}}
\DoxyCodeLine{2264 }
\DoxyCodeLine{2265   \textcolor{keywordflow}{if} (n >= \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(buf.size()) -\/ 1) \{}
\DoxyCodeLine{2266     std::vector<char> glowable\_buf(buf.size());}
\DoxyCodeLine{2267 }
\DoxyCodeLine{2268     \textcolor{keywordflow}{while} (n >= \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(glowable\_buf.size() -\/ 1)) \{}
\DoxyCodeLine{2269       glowable\_buf.resize(glowable\_buf.size() * 2);}
\DoxyCodeLine{2270 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) \&\& \_MSC\_VER < 1900}}
\DoxyCodeLine{2271       n = \_snprintf\_s(\&glowable\_buf[0], glowable\_buf.size(),}
\DoxyCodeLine{2272                       glowable\_buf.size() -\/ 1, fmt, \mbox{\hyperlink{classargs}{args}}...);}
\DoxyCodeLine{2273 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2274       n = snprintf(\&glowable\_buf[0], glowable\_buf.size() -\/ 1, fmt, \mbox{\hyperlink{classargs}{args}}...);}
\DoxyCodeLine{2275 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2276     \}}
\DoxyCodeLine{2277     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\&glowable\_buf[0], n);}
\DoxyCodeLine{2278   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2279     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(buf.data(), n);}
\DoxyCodeLine{2280   \}}
\DoxyCodeLine{2281 \}}
\DoxyCodeLine{2282 }
\DoxyCodeLine{2283 \textcolor{comment}{// Socket stream implementation}}
\DoxyCodeLine{2284 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_socket_stream_abc41cc5d3bc7fcb9fe31a129195355c9}{SocketStream::SocketStream}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, time\_t read\_timeout\_sec,}
\DoxyCodeLine{2285                                   time\_t read\_timeout\_usec)}
\DoxyCodeLine{2286     : sock\_(sock), read\_timeout\_sec\_(read\_timeout\_sec),}
\DoxyCodeLine{2287       read\_timeout\_usec\_(read\_timeout\_usec) \{\}}
\DoxyCodeLine{2288 }
\DoxyCodeLine{2289 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_socket_stream_a2bf28476583cda236d73c8f148fe16be}{SocketStream::\string~SocketStream}}() \{\}}
\DoxyCodeLine{2290 }
\DoxyCodeLine{2291 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_acd5df6147103f376c2c0a4f04d460adc}{SocketStream::read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{2292   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a2617665f32c4f83fc345d454379aba0e}{detail::select\_read}}(\mbox{\hyperlink{classhttplib_1_1_socket_stream_a1725b483e700a7d9105f53bd0bc1ec04}{sock\_}}, \mbox{\hyperlink{classhttplib_1_1_socket_stream_a690ede7f1eca6db6b687958a6039b9e6}{read\_timeout\_sec\_}}, \mbox{\hyperlink{classhttplib_1_1_socket_stream_a12a396eaccf4645e6c9b0d20bb1f335a}{read\_timeout\_usec\_}}) > 0) \{}
\DoxyCodeLine{2293     \textcolor{keywordflow}{return} recv(\mbox{\hyperlink{classhttplib_1_1_socket_stream_a1725b483e700a7d9105f53bd0bc1ec04}{sock\_}}, ptr, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(size), 0);}
\DoxyCodeLine{2294   \}}
\DoxyCodeLine{2295   \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2296 \}}
\DoxyCodeLine{2297 }
\DoxyCodeLine{2298 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{SocketStream::write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{2299   \textcolor{keywordflow}{return} send(\mbox{\hyperlink{classhttplib_1_1_socket_stream_a1725b483e700a7d9105f53bd0bc1ec04}{sock\_}}, ptr, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(size), 0);}
\DoxyCodeLine{2300 \}}
\DoxyCodeLine{2301 }
\DoxyCodeLine{2302 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{SocketStream::write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr) \{}
\DoxyCodeLine{2303   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{write}}(ptr, strlen(ptr));}
\DoxyCodeLine{2304 \}}
\DoxyCodeLine{2305 }
\DoxyCodeLine{2306 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{SocketStream::write}}(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{2307   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_socket_stream_ae6502827e3f0c78439474b6ae44092f0}{write}}(s.data(), s.size());}
\DoxyCodeLine{2308 \}}
\DoxyCodeLine{2309 }
\DoxyCodeLine{2310 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{classhttplib_1_1_socket_stream_a45ac1ffac84990aa43066c60cee20c11}{SocketStream::get\_remote\_addr}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2311   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a65d52389dccd1eafb6d33cb0f0380e70}{detail::get\_remote\_addr}}(\mbox{\hyperlink{classhttplib_1_1_socket_stream_a1725b483e700a7d9105f53bd0bc1ec04}{sock\_}});}
\DoxyCodeLine{2312 \}}
\DoxyCodeLine{2313 }
\DoxyCodeLine{2314 \textcolor{comment}{// Buffer stream implementation}}
\DoxyCodeLine{2315 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ae2c884f38112b5d73b01a5525762033c}{BufferStream::read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{2316 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) \&\& \_MSC\_VER < 1900}}
\DoxyCodeLine{2317   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classbuffer}{buffer}}.\_Copy\_s(ptr, size, size));}
\DoxyCodeLine{2318 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2319   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classbuffer}{buffer}}.copy(ptr, size));}
\DoxyCodeLine{2320 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2321 \}}
\DoxyCodeLine{2322 }
\DoxyCodeLine{2323 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{BufferStream::write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{2324   \mbox{\hyperlink{classbuffer}{buffer}}.append(ptr, size);}
\DoxyCodeLine{2325   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(size);}
\DoxyCodeLine{2326 \}}
\DoxyCodeLine{2327 }
\DoxyCodeLine{2328 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{BufferStream::write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr) \{}
\DoxyCodeLine{2329   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{write}}(ptr, strlen(ptr));}
\DoxyCodeLine{2330 \}}
\DoxyCodeLine{2331 }
\DoxyCodeLine{2332 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{BufferStream::write}}(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{2333   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_ac73cc36db930b87c8ab7bb66ee305517}{write}}(s.data(), s.size());}
\DoxyCodeLine{2334 \}}
\DoxyCodeLine{2335 }
\DoxyCodeLine{2336 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{classhttplib_1_1_buffer_stream_a3078ef9834c501a1ae01692f84417281}{BufferStream::get\_remote\_addr}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}}; \}}
\DoxyCodeLine{2337 }
\DoxyCodeLine{2338 \textcolor{keyword}{inline} \textcolor{keyword}{const} std::string \&\mbox{\hyperlink{classhttplib_1_1_buffer_stream_a43c2530669c4a8dfc1f530678fa55c71}{BufferStream::get\_buffer}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_buffer_stream_a75a3be625ffc81e85ae9bedb31532748}{buffer}}; \}}
\DoxyCodeLine{2339 }
\DoxyCodeLine{2340 \textcolor{comment}{// HTTP server implementation}}
\DoxyCodeLine{2341 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server_a55b2afc239586d61c9208039efd970ae}{Server::Server}}()}
\DoxyCodeLine{2342     : keep\_alive\_max\_count\_(\mbox{\hyperlink{httplib_8h_a56599ecd6d67e12d9c71138ea69fc179}{CPPHTTPLIB\_KEEPALIVE\_MAX\_COUNT}}),}
\DoxyCodeLine{2343       read\_timeout\_sec\_(\mbox{\hyperlink{httplib_8h_a8035d2917b3f56dd72e2814fead9996f}{CPPHTTPLIB\_READ\_TIMEOUT\_SECOND}}),}
\DoxyCodeLine{2344       read\_timeout\_usec\_(\mbox{\hyperlink{httplib_8h_a96e2c87531cb0878689d9bb1048923b2}{CPPHTTPLIB\_READ\_TIMEOUT\_USECOND}}),}
\DoxyCodeLine{2345       payload\_max\_length\_(\mbox{\hyperlink{httplib_8h_a20a3df3819479bbd53093ce5e6ef86d6}{CPPHTTPLIB\_PAYLOAD\_MAX\_LENGTH}}), is\_running\_(false),}
\DoxyCodeLine{2346       svr\_sock\_(\mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{}
\DoxyCodeLine{2347 \textcolor{preprocessor}{\#ifndef \_WIN32}}
\DoxyCodeLine{2348   signal(SIGPIPE, SIG\_IGN);}
\DoxyCodeLine{2349 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2350   \mbox{\hyperlink{classhttplib_1_1_server_ab02ba5727ab7e9c757f329d557e8d60f}{new\_task\_queue}} = [] \{}
\DoxyCodeLine{2351 \textcolor{preprocessor}{\#if CPPHTTPLIB\_THREAD\_POOL\_COUNT > 0}}
\DoxyCodeLine{2352     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{classhttplib_1_1_thread_pool}{ThreadPool}}(\mbox{\hyperlink{httplib_8h_a9acf66afe9b1400253ed6ebf445928bd}{CPPHTTPLIB\_THREAD\_POOL\_COUNT}});}
\DoxyCodeLine{2353 \textcolor{preprocessor}{\#elif CPPHTTPLIB\_THREAD\_POOL\_COUNT == 0}}
\DoxyCodeLine{2354     \textcolor{keywordflow}{return} \textcolor{keyword}{new} Threads();}
\DoxyCodeLine{2355 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2356     \textcolor{keywordflow}{return} \textcolor{keyword}{new} NoThread();}
\DoxyCodeLine{2357 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2358   \};}
\DoxyCodeLine{2359 \}}
\DoxyCodeLine{2360 }
\DoxyCodeLine{2361 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server_af115868f3665c97326770b7fa87c6cce}{Server::\string~Server}}() \{\}}
\DoxyCodeLine{2362 }
\DoxyCodeLine{2363 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_ac989dfa5f91ca6a6a6fe05afbd5b1455}{Server::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2364   \mbox{\hyperlink{classhttplib_1_1_server_a6d7b8d7ec13ecb5332c257bf432bb896}{get\_handlers\_}}.push\_back(std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2365   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2366 \}}
\DoxyCodeLine{2367 }
\DoxyCodeLine{2368 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a87525a7cd8845124ccd30b5d6d30dd97}{Server::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2369   \mbox{\hyperlink{classhttplib_1_1_server_a251316c55dd62d86bd58392eaba35afe}{post\_handlers\_}}.push\_back(std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2370   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2371 \}}
\DoxyCodeLine{2372 }
\DoxyCodeLine{2373 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a87525a7cd8845124ccd30b5d6d30dd97}{Server::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern,}
\DoxyCodeLine{2374                             \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} handler) \{}
\DoxyCodeLine{2375   \mbox{\hyperlink{classhttplib_1_1_server_a99519a888806765372e6865b58ab63bc}{post\_handlers\_for\_content\_reader}}.push\_back(}
\DoxyCodeLine{2376       std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2377   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2378 \}}
\DoxyCodeLine{2379 }
\DoxyCodeLine{2380 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a10832b98c63618b00dd7acf842ba6bd8}{Server::Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2381   \mbox{\hyperlink{classhttplib_1_1_server_af1535ba048469823646a37d8462577c9}{put\_handlers\_}}.push\_back(std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2382   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2383 \}}
\DoxyCodeLine{2384 }
\DoxyCodeLine{2385 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a10832b98c63618b00dd7acf842ba6bd8}{Server::Put}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern,}
\DoxyCodeLine{2386                            \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} handler) \{}
\DoxyCodeLine{2387   \mbox{\hyperlink{classhttplib_1_1_server_a98d6ee3f9176e344abb623e974d6324e}{put\_handlers\_for\_content\_reader}}.push\_back(}
\DoxyCodeLine{2388       std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2389   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2390 \}}
\DoxyCodeLine{2391 }
\DoxyCodeLine{2392 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a5dad24c71c5bf8ddee209473f0d3fdc1}{Server::Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2393   \mbox{\hyperlink{classhttplib_1_1_server_ac8f540c50353fa35b4e8d2b668f33f59}{patch\_handlers\_}}.push\_back(std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2394   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2395 \}}
\DoxyCodeLine{2396 }
\DoxyCodeLine{2397 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a5dad24c71c5bf8ddee209473f0d3fdc1}{Server::Patch}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern,}
\DoxyCodeLine{2398                              \mbox{\hyperlink{classhttplib_1_1_server_a0d1cdeb197928a3afd27ac80a50e8747}{HandlerWithContentReader}} handler) \{}
\DoxyCodeLine{2399   \mbox{\hyperlink{classhttplib_1_1_server_a8ce360299e9af54984875e2d0261c2a3}{patch\_handlers\_for\_content\_reader}}.push\_back(}
\DoxyCodeLine{2400       std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2401   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2402 \}}
\DoxyCodeLine{2403 }
\DoxyCodeLine{2404 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_a57f9e5b3cffa12d0a252d7b85b07bef4}{Server::Delete}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2405   \mbox{\hyperlink{classhttplib_1_1_server_a1a2a7ccfd32db528b82588f2e3fac19c}{delete\_handlers\_}}.push\_back(std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2406   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2407 \}}
\DoxyCodeLine{2408 }
\DoxyCodeLine{2409 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_server}{Server}} \&\mbox{\hyperlink{classhttplib_1_1_server_ad6c25614bab97b5165df8471bbe2fbd1}{Server::Options}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern, \mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2410   \mbox{\hyperlink{classhttplib_1_1_server_af3181bdeb88440f6abb5a595ceb41b04}{options\_handlers\_}}.push\_back(std::make\_pair(std::regex(pattern), handler));}
\DoxyCodeLine{2411   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{2412 \}}
\DoxyCodeLine{2413 }
\DoxyCodeLine{2414 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_aa6104f886fc65a482989e75bb351a263}{Server::set\_base\_dir}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *dir, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *mount\_point) \{}
\DoxyCodeLine{2415   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_af1f56433b3a10b13b2f914de33bd6e31}{detail::is\_dir}}(dir)) \{}
\DoxyCodeLine{2416     std::string mnt = mount\_point ? mount\_point : \textcolor{stringliteral}{"{}/"{}};}
\DoxyCodeLine{2417     \textcolor{keywordflow}{if} (!mnt.empty() \&\& mnt[0] == \textcolor{charliteral}{'/'}) \{}
\DoxyCodeLine{2418       \mbox{\hyperlink{classhttplib_1_1_server_a2013854418d5c2b399e2cb62708ed26d}{base\_dirs\_}}.emplace\_back(mnt, dir);}
\DoxyCodeLine{2419       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2420     \}}
\DoxyCodeLine{2421   \}}
\DoxyCodeLine{2422   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2423 \}}
\DoxyCodeLine{2424 }
\DoxyCodeLine{2425 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a848f6416da18238927d15fa25dfb04b9}{Server::set\_file\_request\_handler}}(\mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2426   \mbox{\hyperlink{classhttplib_1_1_server_a5c5501d42f8a1aeae5ab2a1f2a730832}{file\_request\_handler\_}} = std::move(handler);}
\DoxyCodeLine{2427 \}}
\DoxyCodeLine{2428 }
\DoxyCodeLine{2429 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a106f6bf270ced6303050682526c244c4}{Server::set\_error\_handler}}(\mbox{\hyperlink{classhttplib_1_1_server_a7dd90fb4275b663feff97966b3581b9e}{Handler}} handler) \{}
\DoxyCodeLine{2430   \mbox{\hyperlink{classhttplib_1_1_server_a62e37c4ab37ff3ad6b91eba7e2c58c1b}{error\_handler\_}} = std::move(handler);}
\DoxyCodeLine{2431 \}}
\DoxyCodeLine{2432 }
\DoxyCodeLine{2433 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a09ef287b52629a6c5ecbf164080432a3}{Server::set\_logger}}(\mbox{\hyperlink{class_logger}{Logger}} logger) \{ \mbox{\hyperlink{classhttplib_1_1_server_a5213a394fa9849f4710a5e26081d129f}{logger\_}} = std::move(logger); \}}
\DoxyCodeLine{2434 }
\DoxyCodeLine{2435 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a795cfc8d73b086bce17ae7bbe72a9f05}{Server::set\_keep\_alive\_max\_count}}(\textcolor{keywordtype}{size\_t} count) \{}
\DoxyCodeLine{2436   \mbox{\hyperlink{classhttplib_1_1_server_a2a39446892282230d483cd137c56e4f7}{keep\_alive\_max\_count\_}} = count;}
\DoxyCodeLine{2437 \}}
\DoxyCodeLine{2438 }
\DoxyCodeLine{2439 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_ab21ff6dccfdeb37e689d6613395c1d4b}{Server::set\_read\_timeout}}(time\_t \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}}, time\_t usec) \{}
\DoxyCodeLine{2440   \mbox{\hyperlink{classhttplib_1_1_server_ac9f203c13fe12f2ecb04386df44f6081}{read\_timeout\_sec\_}} = \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}};}
\DoxyCodeLine{2441   \mbox{\hyperlink{classhttplib_1_1_server_a03a97129a6573eab65a00e5e190e2f7a}{read\_timeout\_usec\_}} = usec;}
\DoxyCodeLine{2442 \}}
\DoxyCodeLine{2443 }
\DoxyCodeLine{2444 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a30cc59ba440101f4b50c36bdc192868c}{Server::set\_payload\_max\_length}}(\textcolor{keywordtype}{size\_t} length) \{}
\DoxyCodeLine{2445   \mbox{\hyperlink{classhttplib_1_1_server_aef94224ccf466318570d0309faa6c721}{payload\_max\_length\_}} = length;}
\DoxyCodeLine{2446 \}}
\DoxyCodeLine{2447 }
\DoxyCodeLine{2448 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_acf36d16b4004a4a7deba69e695b1b48f}{Server::bind\_to\_port}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{int} socket\_flags) \{}
\DoxyCodeLine{2449   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a7ec358fcdbd3cf0e809c84c154da04fd}{bind\_internal}}(host, port, socket\_flags) < 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2450   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2451 \}}
\DoxyCodeLine{2452 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_server_a0aa8209ee4fe36ffb42302836214d159}{Server::bind\_to\_any\_port}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} socket\_flags) \{}
\DoxyCodeLine{2453   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a7ec358fcdbd3cf0e809c84c154da04fd}{bind\_internal}}(host, 0, socket\_flags);}
\DoxyCodeLine{2454 \}}
\DoxyCodeLine{2455 }
\DoxyCodeLine{2456 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a3e50f66dfe531fe18590aa421ef2595f}{Server::listen\_after\_bind}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a294f20bcfc35d82236ab92b76c16d862}{listen\_internal}}(); \}}
\DoxyCodeLine{2457 }
\DoxyCodeLine{2458 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a8249e88ea3730e87ec8ed1f9a717220f}{Server::listen}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{int} socket\_flags) \{}
\DoxyCodeLine{2459   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_acf36d16b4004a4a7deba69e695b1b48f}{bind\_to\_port}}(host, port, socket\_flags) \&\& \mbox{\hyperlink{classhttplib_1_1_server_a294f20bcfc35d82236ab92b76c16d862}{listen\_internal}}();}
\DoxyCodeLine{2460 \}}
\DoxyCodeLine{2461 }
\DoxyCodeLine{2462 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a93a632ffae8eea0380daaac719cba06c}{Server::is\_running}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a294c8e913e0146e2701e9c17b4552f0f}{is\_running\_}}; \}}
\DoxyCodeLine{2463 }
\DoxyCodeLine{2464 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classhttplib_1_1_server_a0f2a6a638ad99012886c87c9786a43b3}{Server::stop}}() \{}
\DoxyCodeLine{2465   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a294c8e913e0146e2701e9c17b4552f0f}{is\_running\_}}) \{}
\DoxyCodeLine{2466     assert(\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}} != \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}});}
\DoxyCodeLine{2467     std::atomic<socket\_t> sock(\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}}.exchange(\mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}));}
\DoxyCodeLine{2468     \mbox{\hyperlink{namespacehttplib_1_1detail_a6fe756f70ad6d331f8269d1504ecc296}{detail::shutdown\_socket}}(sock);}
\DoxyCodeLine{2469     \mbox{\hyperlink{namespacehttplib_1_1detail_ab97ddef67a99aee8ed2aec5e20d90286}{detail::close\_socket}}(sock);}
\DoxyCodeLine{2470   \}}
\DoxyCodeLine{2471 \}}
\DoxyCodeLine{2472 }
\DoxyCodeLine{2473 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_ae8ef1891cd19a609fe583b3b63b025ed}{Server::parse\_request\_line}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req) \{}
\DoxyCodeLine{2474   \textcolor{keyword}{static} std::regex \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}}(}
\DoxyCodeLine{2475       \textcolor{stringliteral}{"{}(GET|HEAD|POST|PUT|DELETE|CONNECT|OPTIONS|TRACE|PATCH|PRI) "{}}}
\DoxyCodeLine{2476       \textcolor{stringliteral}{"{}(([\string^?]+)(?:\(\backslash\)\(\backslash\)?(.*?))?) (HTTP/1\(\backslash\)\(\backslash\).[01])\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{2477 }
\DoxyCodeLine{2478   std::cmatch m;}
\DoxyCodeLine{2479   \textcolor{keywordflow}{if} (std::regex\_match(s, m, \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}})) \{}
\DoxyCodeLine{2480     req.\mbox{\hyperlink{structhttplib_1_1_request_aa3edfd554b749bf2cb03a57a12c24602}{version}} = std::string(m[5]);}
\DoxyCodeLine{2481     req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = std::string(m[1]);}
\DoxyCodeLine{2482     req.\mbox{\hyperlink{structhttplib_1_1_request_a81749298e170ed7559a9dee927ec078f}{target}} = std::string(m[2]);}
\DoxyCodeLine{2483     req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{namespacehttplib_1_1detail_a157e3058faf96822a999e25e49d2f0c8}{detail::decode\_url}}(m[3]);}
\DoxyCodeLine{2484 }
\DoxyCodeLine{2485     \textcolor{comment}{// Parse query text}}
\DoxyCodeLine{2486     \textcolor{keyword}{auto} \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = std::distance(m[4].\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}, m[4].second);}
\DoxyCodeLine{2487     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} > 0) \{ \mbox{\hyperlink{namespacehttplib_1_1detail_acd471412f59b3f94884fcb9e7986a480}{detail::parse\_query\_text}}(m[4], req.\mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}}); \}}
\DoxyCodeLine{2488 }
\DoxyCodeLine{2489     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2490   \}}
\DoxyCodeLine{2491 }
\DoxyCodeLine{2492   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2493 \}}
\DoxyCodeLine{2494 }
\DoxyCodeLine{2495 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{Server::write\_response}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{2496                                    \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res) \{}
\DoxyCodeLine{2497   assert(res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} != -\/1);}
\DoxyCodeLine{2498 }
\DoxyCodeLine{2499   \textcolor{keywordflow}{if} (400 <= res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} \&\& \mbox{\hyperlink{classhttplib_1_1_server_a62e37c4ab37ff3ad6b91eba7e2c58c1b}{error\_handler\_}}) \{ \mbox{\hyperlink{classhttplib_1_1_server_a62e37c4ab37ff3ad6b91eba7e2c58c1b}{error\_handler\_}}(req, res); \}}
\DoxyCodeLine{2500 }
\DoxyCodeLine{2501   \textcolor{comment}{// Response line}}
\DoxyCodeLine{2502   \textcolor{keywordflow}{if} (!strm.\mbox{\hyperlink{classhttplib_1_1_stream_ad12b648773d8deeb1665bc61eb1ad3f5}{write\_format}}(\textcolor{stringliteral}{"{}HTTP/1.1 \%d \%s\(\backslash\)r\(\backslash\)n"{}}, res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}},}
\DoxyCodeLine{2503                          \mbox{\hyperlink{namespacehttplib_1_1detail_a53ecc5e40689fc4b7c2f5ed456260128}{detail::status\_message}}(res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}}))) \{}
\DoxyCodeLine{2504     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2505   \}}
\DoxyCodeLine{2506 }
\DoxyCodeLine{2507   \textcolor{comment}{// Headers}}
\DoxyCodeLine{2508   \textcolor{keywordflow}{if} (last\_connection || req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Connection"{}}) == \textcolor{stringliteral}{"{}close"{}}) \{}
\DoxyCodeLine{2509     res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Connection"{}}, \textcolor{stringliteral}{"{}close"{}});}
\DoxyCodeLine{2510   \}}
\DoxyCodeLine{2511 }
\DoxyCodeLine{2512   \textcolor{keywordflow}{if} (!last\_connection \&\& req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Connection"{}}) == \textcolor{stringliteral}{"{}Keep-\/Alive"{}}) \{}
\DoxyCodeLine{2513     res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Connection"{}}, \textcolor{stringliteral}{"{}Keep-\/Alive"{}});}
\DoxyCodeLine{2514   \}}
\DoxyCodeLine{2515 }
\DoxyCodeLine{2516   \textcolor{keywordflow}{if} (!res.\mbox{\hyperlink{structhttplib_1_1_response_ace3d4f95d11d0b72f25b14cb02a419ad}{has\_header}}(\textcolor{stringliteral}{"{}Content-\/Type"{}})) \{}
\DoxyCodeLine{2517     res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Type"{}}, \textcolor{stringliteral}{"{}text/plain"{}});}
\DoxyCodeLine{2518   \}}
\DoxyCodeLine{2519 }
\DoxyCodeLine{2520   \textcolor{keywordflow}{if} (!res.\mbox{\hyperlink{structhttplib_1_1_response_ace3d4f95d11d0b72f25b14cb02a419ad}{has\_header}}(\textcolor{stringliteral}{"{}Accept-\/Ranges"{}})) \{}
\DoxyCodeLine{2521     res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Accept-\/Ranges"{}}, \textcolor{stringliteral}{"{}bytes"{}});}
\DoxyCodeLine{2522   \}}
\DoxyCodeLine{2523 }
\DoxyCodeLine{2524   std::string content\_type;}
\DoxyCodeLine{2525   std::string boundary;}
\DoxyCodeLine{2526 }
\DoxyCodeLine{2527   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.size() > 1) \{}
\DoxyCodeLine{2528     boundary = \mbox{\hyperlink{namespacehttplib_1_1detail_ae144d55905f9808c3abae6e20bd9367a}{detail::make\_multipart\_data\_boundary}}();}
\DoxyCodeLine{2529 }
\DoxyCodeLine{2530     \textcolor{keyword}{auto} it = res.\mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.find(\textcolor{stringliteral}{"{}Content-\/Type"{}});}
\DoxyCodeLine{2531     \textcolor{keywordflow}{if} (it != res.\mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.end()) \{}
\DoxyCodeLine{2532       content\_type = it-\/>second;}
\DoxyCodeLine{2533       res.\mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.erase(it);}
\DoxyCodeLine{2534     \}}
\DoxyCodeLine{2535 }
\DoxyCodeLine{2536     res.\mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Type"{}},}
\DoxyCodeLine{2537                         \textcolor{stringliteral}{"{}multipart/byteranges; boundary="{}} + boundary);}
\DoxyCodeLine{2538   \}}
\DoxyCodeLine{2539 }
\DoxyCodeLine{2540   \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.empty()) \{}
\DoxyCodeLine{2541     \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}} > 0) \{}
\DoxyCodeLine{2542       \textcolor{keywordtype}{size\_t} length = 0;}
\DoxyCodeLine{2543       \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.empty()) \{}
\DoxyCodeLine{2544         length = res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}};}
\DoxyCodeLine{2545       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.size() == 1) \{}
\DoxyCodeLine{2546         \textcolor{keyword}{auto} offsets =}
\DoxyCodeLine{2547             \mbox{\hyperlink{namespacehttplib_1_1detail_a2d4a39719cfb2efb172a2c89e154c220}{detail::get\_range\_offset\_and\_length}}(req, res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}}, 0);}
\DoxyCodeLine{2548         \textcolor{keyword}{auto} offset = offsets.first;}
\DoxyCodeLine{2549         length = offsets.second;}
\DoxyCodeLine{2550         \textcolor{keyword}{auto} content\_range = \mbox{\hyperlink{namespacehttplib_1_1detail_abe8b95159ae97fefd882a9990ff9291d}{detail::make\_content\_range\_header\_field}}(}
\DoxyCodeLine{2551             offset, length, res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}});}
\DoxyCodeLine{2552         res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Range"{}}, content\_range);}
\DoxyCodeLine{2553       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2554         length = \mbox{\hyperlink{namespacehttplib_1_1detail_adaa15da1e9aaa661e44dc5ef9688180e}{detail::get\_multipart\_ranges\_data\_length}}(req, res, boundary,}
\DoxyCodeLine{2555                                                           content\_type);}
\DoxyCodeLine{2556       \}}
\DoxyCodeLine{2557       res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Length"{}}, std::to\_string(length));}
\DoxyCodeLine{2558     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2559       \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}}) \{}
\DoxyCodeLine{2560         res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Transfer-\/Encoding"{}}, \textcolor{stringliteral}{"{}chunked"{}});}
\DoxyCodeLine{2561       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2562         res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Length"{}}, \textcolor{stringliteral}{"{}0"{}});}
\DoxyCodeLine{2563       \}}
\DoxyCodeLine{2564     \}}
\DoxyCodeLine{2565   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2566     \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.empty()) \{}
\DoxyCodeLine{2567       ;}
\DoxyCodeLine{2568     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.size() == 1) \{}
\DoxyCodeLine{2569       \textcolor{keyword}{auto} offsets =}
\DoxyCodeLine{2570           \mbox{\hyperlink{namespacehttplib_1_1detail_a2d4a39719cfb2efb172a2c89e154c220}{detail::get\_range\_offset\_and\_length}}(req, res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.size(), 0);}
\DoxyCodeLine{2571       \textcolor{keyword}{auto} offset = offsets.first;}
\DoxyCodeLine{2572       \textcolor{keyword}{auto} length = offsets.second;}
\DoxyCodeLine{2573       \textcolor{keyword}{auto} content\_range = \mbox{\hyperlink{namespacehttplib_1_1detail_abe8b95159ae97fefd882a9990ff9291d}{detail::make\_content\_range\_header\_field}}(}
\DoxyCodeLine{2574           offset, length, res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.size());}
\DoxyCodeLine{2575       res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Range"{}}, content\_range);}
\DoxyCodeLine{2576       res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}} = res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.substr(offset, length);}
\DoxyCodeLine{2577     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2578       res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}} =}
\DoxyCodeLine{2579           \mbox{\hyperlink{namespacehttplib_1_1detail_a78adaecc616958150794b2949dc5b072}{detail::make\_multipart\_ranges\_data}}(req, res, boundary, content\_type);}
\DoxyCodeLine{2580     \}}
\DoxyCodeLine{2581 }
\DoxyCodeLine{2582 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_ZLIB\_SUPPORT}}
\DoxyCodeLine{2583     \textcolor{comment}{// TODO: 'Accpet-\/Encoding' has gzip, not gzip;q=0}}
\DoxyCodeLine{2584     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&encodings = req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Accept-\/Encoding"{}});}
\DoxyCodeLine{2585     \textcolor{keywordflow}{if} (encodings.find(\textcolor{stringliteral}{"{}gzip"{}}) != std::string::npos \&\&}
\DoxyCodeLine{2586         detail::can\_compress(res.\mbox{\hyperlink{structhttplib_1_1_response_aa2e1798839c08472e324cd1d864b35e5}{get\_header\_value}}(\textcolor{stringliteral}{"{}Content-\/Type"{}}))) \{}
\DoxyCodeLine{2587       \textcolor{keywordflow}{if} (detail::compress(res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}})) \{}
\DoxyCodeLine{2588         res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Encoding"{}}, \textcolor{stringliteral}{"{}gzip"{}});}
\DoxyCodeLine{2589       \}}
\DoxyCodeLine{2590     \}}
\DoxyCodeLine{2591 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2592 }
\DoxyCodeLine{2593     \textcolor{keyword}{auto} length = std::to\_string(res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.size());}
\DoxyCodeLine{2594     res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Length"{}}, length);}
\DoxyCodeLine{2595   \}}
\DoxyCodeLine{2596 }
\DoxyCodeLine{2597   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_a0158e219d1fb64b9227d72e345b483ae}{detail::write\_headers}}(strm, res, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}())) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{2598 }
\DoxyCodeLine{2599   \textcolor{comment}{// Body}}
\DoxyCodeLine{2600   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} != \textcolor{stringliteral}{"{}HEAD"{}}) \{}
\DoxyCodeLine{2601     \textcolor{keywordflow}{if} (!res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.empty()) \{}
\DoxyCodeLine{2602       \textcolor{keywordflow}{if} (!strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}})) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{2603     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}}) \{}
\DoxyCodeLine{2604       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classhttplib_1_1_server_aef004bcdc946af56186dd226442691d4}{write\_content\_with\_provider}}(strm, req, res, boundary,}
\DoxyCodeLine{2605                                        content\_type)) \{}
\DoxyCodeLine{2606         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2607       \}}
\DoxyCodeLine{2608     \}}
\DoxyCodeLine{2609   \}}
\DoxyCodeLine{2610 }
\DoxyCodeLine{2611   \textcolor{comment}{// Log}}
\DoxyCodeLine{2612   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a5213a394fa9849f4710a5e26081d129f}{logger\_}}) \{ \mbox{\hyperlink{classhttplib_1_1_server_a5213a394fa9849f4710a5e26081d129f}{logger\_}}(req, res); \}}
\DoxyCodeLine{2613 }
\DoxyCodeLine{2614   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2615 \}}
\DoxyCodeLine{2616 }
\DoxyCodeLine{2617 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool}}
\DoxyCodeLine{2618 \mbox{\hyperlink{classhttplib_1_1_server_aef004bcdc946af56186dd226442691d4}{Server::write\_content\_with\_provider}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{2619                                     \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res, \textcolor{keyword}{const} std::string \&boundary,}
\DoxyCodeLine{2620                                     \textcolor{keyword}{const} std::string \&content\_type) \{}
\DoxyCodeLine{2621   \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}}) \{}
\DoxyCodeLine{2622     \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.empty()) \{}
\DoxyCodeLine{2623       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a0031e9b8c67bb9f8abe29a4a7399b507}{detail::write\_content}}(strm, res.\mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}}, 0,}
\DoxyCodeLine{2624                                 res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}}) < 0) \{}
\DoxyCodeLine{2625         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2626       \}}
\DoxyCodeLine{2627     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.size() == 1) \{}
\DoxyCodeLine{2628       \textcolor{keyword}{auto} offsets =}
\DoxyCodeLine{2629           \mbox{\hyperlink{namespacehttplib_1_1detail_a2d4a39719cfb2efb172a2c89e154c220}{detail::get\_range\_offset\_and\_length}}(req, res.\mbox{\hyperlink{structhttplib_1_1_response_a9cd9e9f4f2143510c4c9d7268246d7a1}{content\_length}}, 0);}
\DoxyCodeLine{2630       \textcolor{keyword}{auto} offset = offsets.first;}
\DoxyCodeLine{2631       \textcolor{keyword}{auto} length = offsets.second;}
\DoxyCodeLine{2632       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a0031e9b8c67bb9f8abe29a4a7399b507}{detail::write\_content}}(strm, res.\mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}}, offset, length) <}
\DoxyCodeLine{2633           0) \{}
\DoxyCodeLine{2634         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2635       \}}
\DoxyCodeLine{2636     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2637       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_aa8cade6bbadee54e6f02f0f649b619a1}{detail::write\_multipart\_ranges\_data}}(strm, req, res, boundary,}
\DoxyCodeLine{2638                                                content\_type)) \{}
\DoxyCodeLine{2639         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2640       \}}
\DoxyCodeLine{2641     \}}
\DoxyCodeLine{2642   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2643     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a016473f0a39c329961540fdbf6ba09de}{detail::write\_content\_chunked}}(strm, res.\mbox{\hyperlink{structhttplib_1_1_response_a2b7e4c1d5174fa4dc2293348f6b320a9}{content\_provider}}) < 0) \{}
\DoxyCodeLine{2644       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2645     \}}
\DoxyCodeLine{2646   \}}
\DoxyCodeLine{2647   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2648 \}}
\DoxyCodeLine{2649 }
\DoxyCodeLine{2650 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_af84cf3f78736baa76cee4ae00ac80267}{Server::read\_content}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{2651                                  \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res) \{}
\DoxyCodeLine{2652   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_aeb0e1d279402ffaff3af8000573d4f84}{detail::read\_content}}(strm, req, \mbox{\hyperlink{classhttplib_1_1_server_aef94224ccf466318570d0309faa6c721}{payload\_max\_length\_}}, res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}},}
\DoxyCodeLine{2653                             \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}}(), [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{2654                               \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.size() + n > req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.max\_size()) \{}
\DoxyCodeLine{2655                                 return false;}
\DoxyCodeLine{2656                               \}}
\DoxyCodeLine{2657                               req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.append(buf, n);}
\DoxyCodeLine{2658                               \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2659                             \})) \{}
\DoxyCodeLine{2660     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(strm, last\_connection, req, res);}
\DoxyCodeLine{2661   \}}
\DoxyCodeLine{2662 }
\DoxyCodeLine{2663   \textcolor{keyword}{const} \textcolor{keyword}{auto} \&content\_type = req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Content-\/Type"{}});}
\DoxyCodeLine{2664 }
\DoxyCodeLine{2665   \textcolor{keywordflow}{if} (!content\_type.find(\textcolor{stringliteral}{"{}application/x-\/www-\/form-\/urlencoded"{}})) \{}
\DoxyCodeLine{2666     \mbox{\hyperlink{namespacehttplib_1_1detail_acd471412f59b3f94884fcb9e7986a480}{detail::parse\_query\_text}}(req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}, req.\mbox{\hyperlink{structhttplib_1_1_request_a757f45c8985e2d1d879ee7bdf54d8626}{params}});}
\DoxyCodeLine{2667   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!content\_type.find(\textcolor{stringliteral}{"{}multipart/form-\/data"{}})) \{}
\DoxyCodeLine{2668     std::string boundary;}
\DoxyCodeLine{2669     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_ab575e708f5bc8388244b79a7bb020547}{detail::parse\_multipart\_boundary}}(content\_type, boundary) ||}
\DoxyCodeLine{2670         !\mbox{\hyperlink{namespacehttplib_1_1detail_a681e947baed0e9a30c035c9ad1d314c1}{detail::parse\_multipart\_formdata}}(boundary, req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}, req.\mbox{\hyperlink{structhttplib_1_1_request_a4f6801c7553d9c9a5b17e3e88fbd3c63}{files}})) \{}
\DoxyCodeLine{2671       res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 400;}
\DoxyCodeLine{2672       \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(strm, last\_connection, req, res);}
\DoxyCodeLine{2673     \}}
\DoxyCodeLine{2674   \}}
\DoxyCodeLine{2675 }
\DoxyCodeLine{2676   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2677 \}}
\DoxyCodeLine{2678 }
\DoxyCodeLine{2679 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool}}
\DoxyCodeLine{2680 \mbox{\hyperlink{classhttplib_1_1_server_a5fecf67bb36db0fb1bc0a2c6ea5751f8}{Server::read\_content\_with\_content\_receiver}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{2681                                            \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2682                                            \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} receiver) \{}
\DoxyCodeLine{2683   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_aeb0e1d279402ffaff3af8000573d4f84}{detail::read\_content}}(}
\DoxyCodeLine{2684           strm, req, \mbox{\hyperlink{classhttplib_1_1_server_aef94224ccf466318570d0309faa6c721}{payload\_max\_length\_}}, res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}}, \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}}(),}
\DoxyCodeLine{2685           [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{ \textcolor{keywordflow}{return} receiver(buf, n); \})) \{}
\DoxyCodeLine{2686     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(strm, last\_connection, req, res);}
\DoxyCodeLine{2687   \}}
\DoxyCodeLine{2688 }
\DoxyCodeLine{2689   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2690 \}}
\DoxyCodeLine{2691 }
\DoxyCodeLine{2692 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a8e377e7f9fdeebeccfee502459d7c5cf}{Server::handle\_file\_request}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res) \{}
\DoxyCodeLine{2693   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& kv: \mbox{\hyperlink{classhttplib_1_1_server_a2013854418d5c2b399e2cb62708ed26d}{base\_dirs\_}}) \{}
\DoxyCodeLine{2694     \textcolor{keyword}{const} \textcolor{keyword}{auto}\& mount\_point = kv.first;}
\DoxyCodeLine{2695     \textcolor{keyword}{const} \textcolor{keyword}{auto}\& base\_dir = kv.second;}
\DoxyCodeLine{2696 }
\DoxyCodeLine{2697     \textcolor{comment}{// Prefix match}}
\DoxyCodeLine{2698     \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}}.find(mount\_point)) \{}
\DoxyCodeLine{2699       std::string sub\_path = \textcolor{stringliteral}{"{}/"{}} + req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}}.substr(mount\_point.size());}
\DoxyCodeLine{2700       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a955ed1d5e52f6e2513d06d969ceeb668}{detail::is\_valid\_path}}(sub\_path)) \{}
\DoxyCodeLine{2701         \textcolor{keyword}{auto} \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}} = base\_dir + sub\_path;}
\DoxyCodeLine{2702         \textcolor{keywordflow}{if} (\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.back() == \textcolor{charliteral}{'/'}) \{ \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}} += \textcolor{stringliteral}{"{}index.html"{}}; \}}
\DoxyCodeLine{2703 }
\DoxyCodeLine{2704         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacehttplib_1_1detail_a5d432e56b6e9cdb1d3a47477d3b3684e}{detail::is\_file}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}})) \{}
\DoxyCodeLine{2705           \mbox{\hyperlink{namespacehttplib_1_1detail_a606532e60127124a0258fa9d37db21c0}{detail::read\_file}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}});}
\DoxyCodeLine{2706           \textcolor{keyword}{auto} type = \mbox{\hyperlink{namespacehttplib_1_1detail_a10f77d4a44936a4c13f4486e8dcf4a5e}{detail::find\_content\_type}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}});}
\DoxyCodeLine{2707           \textcolor{keywordflow}{if} (type) \{ res.\mbox{\hyperlink{structhttplib_1_1_response_af0491ee48d3ab5a3e4ee9efe41b4f3cd}{set\_header}}(\textcolor{stringliteral}{"{}Content-\/Type"{}}, type); \}}
\DoxyCodeLine{2708           res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 200;}
\DoxyCodeLine{2709           \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a5c5501d42f8a1aeae5ab2a1f2a730832}{file\_request\_handler\_}}) \{ \mbox{\hyperlink{classhttplib_1_1_server_a5c5501d42f8a1aeae5ab2a1f2a730832}{file\_request\_handler\_}}(req, res); \}}
\DoxyCodeLine{2710           \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2711         \}}
\DoxyCodeLine{2712       \}}
\DoxyCodeLine{2713     \}}
\DoxyCodeLine{2714   \}}
\DoxyCodeLine{2715   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2716 \}}
\DoxyCodeLine{2717 }
\DoxyCodeLine{2718 \textcolor{keyword}{inline} \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} \mbox{\hyperlink{classhttplib_1_1_server_a7a6d6e4306b6ca146f1552f8301db3d8}{Server::create\_server\_socket}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port,}
\DoxyCodeLine{2719                                              \textcolor{keywordtype}{int} socket\_flags)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2720   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a9d57e6df77bc294208c2026ee4cbfc0b}{detail::create\_socket}}(}
\DoxyCodeLine{2721       host, port,}
\DoxyCodeLine{2722       [](\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keyword}{struct} addrinfo \&ai) -\/> \textcolor{keywordtype}{bool} \{}
\DoxyCodeLine{2723         \textcolor{keywordflow}{if} (::bind(sock, ai.ai\_addr, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ai.ai\_addrlen))) \{}
\DoxyCodeLine{2724           return false;}
\DoxyCodeLine{2725         \}}
\DoxyCodeLine{2726         if (\mbox{\hyperlink{classhttplib_1_1_server_a8249e88ea3730e87ec8ed1f9a717220f}{::listen}}(sock, 5)) \{ \textcolor{comment}{// Listen through 5 channels}}
\DoxyCodeLine{2727           \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2728         \}}
\DoxyCodeLine{2729         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2730       \},}
\DoxyCodeLine{2731       socket\_flags);}
\DoxyCodeLine{2732 \}}
\DoxyCodeLine{2733 }
\DoxyCodeLine{2734 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{classhttplib_1_1_server_a7ec358fcdbd3cf0e809c84c154da04fd}{Server::bind\_internal}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, \textcolor{keywordtype}{int} socket\_flags) \{}
\DoxyCodeLine{2735   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classhttplib_1_1_server_a4f02314a47adbae984a7483e8e820c05}{is\_valid}}()) \{ \textcolor{keywordflow}{return} -\/1; \}}
\DoxyCodeLine{2736 }
\DoxyCodeLine{2737   \mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}} = \mbox{\hyperlink{classhttplib_1_1_server_a7a6d6e4306b6ca146f1552f8301db3d8}{create\_server\_socket}}(host, port, socket\_flags);}
\DoxyCodeLine{2738   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}} == \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{ \textcolor{keywordflow}{return} -\/1; \}}
\DoxyCodeLine{2739 }
\DoxyCodeLine{2740   \textcolor{keywordflow}{if} (port == 0) \{}
\DoxyCodeLine{2741     \textcolor{keyword}{struct }sockaddr\_storage address;}
\DoxyCodeLine{2742     socklen\_t \mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}} = \textcolor{keyword}{sizeof}(address);}
\DoxyCodeLine{2743     \textcolor{keywordflow}{if} (getsockname(\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}}, \textcolor{keyword}{reinterpret\_cast<}struct sockaddr *\textcolor{keyword}{>}(\&address),}
\DoxyCodeLine{2744                     \&\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}) == -\/1) \{}
\DoxyCodeLine{2745       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2746     \}}
\DoxyCodeLine{2747     \textcolor{keywordflow}{if} (address.ss\_family == AF\_INET) \{}
\DoxyCodeLine{2748       \textcolor{keywordflow}{return} ntohs(\textcolor{keyword}{reinterpret\_cast<}struct sockaddr\_in *\textcolor{keyword}{>}(\&address)-\/>sin\_port);}
\DoxyCodeLine{2749     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (address.ss\_family == AF\_INET6) \{}
\DoxyCodeLine{2750       \textcolor{keywordflow}{return} ntohs(\textcolor{keyword}{reinterpret\_cast<}struct sockaddr\_in6 *\textcolor{keyword}{>}(\&address)-\/>sin6\_port);}
\DoxyCodeLine{2751     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2752       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{2753     \}}
\DoxyCodeLine{2754   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2755     \textcolor{keywordflow}{return} port;}
\DoxyCodeLine{2756   \}}
\DoxyCodeLine{2757 \}}
\DoxyCodeLine{2758 }
\DoxyCodeLine{2759 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a294f20bcfc35d82236ab92b76c16d862}{Server::listen\_internal}}() \{}
\DoxyCodeLine{2760   \textcolor{keyword}{auto} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{2761   \mbox{\hyperlink{classhttplib_1_1_server_a294c8e913e0146e2701e9c17b4552f0f}{is\_running\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{2762 }
\DoxyCodeLine{2763   \{}
\DoxyCodeLine{2764     std::unique\_ptr<TaskQueue> task\_queue(\mbox{\hyperlink{classhttplib_1_1_server_ab02ba5727ab7e9c757f329d557e8d60f}{new\_task\_queue}}());}
\DoxyCodeLine{2765 }
\DoxyCodeLine{2766     \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{2767       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}} == \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{}
\DoxyCodeLine{2768         \textcolor{comment}{// The server socket was closed by 'stop' method.}}
\DoxyCodeLine{2769         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2770       \}}
\DoxyCodeLine{2771 }
\DoxyCodeLine{2772       \textcolor{keyword}{auto} val = \mbox{\hyperlink{namespacehttplib_1_1detail_a2617665f32c4f83fc345d454379aba0e}{detail::select\_read}}(\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}}, 0, 100000);}
\DoxyCodeLine{2773 }
\DoxyCodeLine{2774       \textcolor{keywordflow}{if} (val == 0) \{ \textcolor{comment}{// Timeout}}
\DoxyCodeLine{2775         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2776       \}}
\DoxyCodeLine{2777 }
\DoxyCodeLine{2778       \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock = accept(\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}}, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{2779 }
\DoxyCodeLine{2780       \textcolor{keywordflow}{if} (sock == \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{}
\DoxyCodeLine{2781         \textcolor{keywordflow}{if} (errno == EMFILE) \{}
\DoxyCodeLine{2782           \textcolor{comment}{// The per-\/process limit of open file descriptors has been reached.}}
\DoxyCodeLine{2783           \textcolor{comment}{// Try to accept new connections after a short sleep.}}
\DoxyCodeLine{2784           std::this\_thread::sleep\_for(std::chrono::milliseconds(1));}
\DoxyCodeLine{2785           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2786         \}}
\DoxyCodeLine{2787         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}} != \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{}
\DoxyCodeLine{2788           \mbox{\hyperlink{namespacehttplib_1_1detail_ab97ddef67a99aee8ed2aec5e20d90286}{detail::close\_socket}}(\mbox{\hyperlink{classhttplib_1_1_server_a8bc06c5e7e93632a22db8fd35f68b4a1}{svr\_sock\_}});}
\DoxyCodeLine{2789           ret = \textcolor{keyword}{false};}
\DoxyCodeLine{2790         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2791           ; \textcolor{comment}{// The server socket was closed by user.}}
\DoxyCodeLine{2792         \}}
\DoxyCodeLine{2793         \textcolor{keywordflow}{break};}
\DoxyCodeLine{2794       \}}
\DoxyCodeLine{2795 }
\DoxyCodeLine{2796       task\_queue-\/>enqueue([=]() \{ \mbox{\hyperlink{classhttplib_1_1_server_a28221db99b5a35e45515553fdb9458a0}{process\_and\_close\_socket}}(sock); \});}
\DoxyCodeLine{2797     \}}
\DoxyCodeLine{2798 }
\DoxyCodeLine{2799     task\_queue-\/>shutdown();}
\DoxyCodeLine{2800   \}}
\DoxyCodeLine{2801 }
\DoxyCodeLine{2802   \mbox{\hyperlink{classhttplib_1_1_server_a294c8e913e0146e2701e9c17b4552f0f}{is\_running\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{2803   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{2804 \}}
\DoxyCodeLine{2805 }
\DoxyCodeLine{2806 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_ad0cc46c8851bf6afff2c0b1107270f97}{Server::routing}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res, \mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection) \{}
\DoxyCodeLine{2807   \textcolor{comment}{// File handler}}
\DoxyCodeLine{2808   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}GET"{}} \&\& \mbox{\hyperlink{classhttplib_1_1_server_a8e377e7f9fdeebeccfee502459d7c5cf}{handle\_file\_request}}(req, res)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{2809 }
\DoxyCodeLine{2810   \textcolor{comment}{// Content reader handler}}
\DoxyCodeLine{2811   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}POST"{}} || req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PUT"{}} || req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PATCH"{}}) \{}
\DoxyCodeLine{2812     \mbox{\hyperlink{namespacehttplib_ae9e4a4a8eed966ddf8df83b1a07620ba}{ContentReader}} content\_reader = [\&](\mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} receiver) \{}
\DoxyCodeLine{2813       \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a5fecf67bb36db0fb1bc0a2c6ea5751f8}{read\_content\_with\_content\_receiver}}(strm, last\_connection, req, res, receiver);}
\DoxyCodeLine{2814     \};}
\DoxyCodeLine{2815 }
\DoxyCodeLine{2816     \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}POST"{}}) \{}
\DoxyCodeLine{2817       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_af042f714d96214126f3c1f3f2fd43ceb}{dispatch\_request\_for\_content\_reader}}(req, res, content\_reader,}
\DoxyCodeLine{2818                                               \mbox{\hyperlink{classhttplib_1_1_server_a99519a888806765372e6865b58ab63bc}{post\_handlers\_for\_content\_reader}})) \{}
\DoxyCodeLine{2819         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2820       \}}
\DoxyCodeLine{2821     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PUT"{}}) \{}
\DoxyCodeLine{2822       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_af042f714d96214126f3c1f3f2fd43ceb}{dispatch\_request\_for\_content\_reader}}(req, res, content\_reader,}
\DoxyCodeLine{2823                                               \mbox{\hyperlink{classhttplib_1_1_server_a98d6ee3f9176e344abb623e974d6324e}{put\_handlers\_for\_content\_reader}})) \{}
\DoxyCodeLine{2824         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2825       \}}
\DoxyCodeLine{2826     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PATCH"{}}) \{}
\DoxyCodeLine{2827       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_af042f714d96214126f3c1f3f2fd43ceb}{dispatch\_request\_for\_content\_reader}}(}
\DoxyCodeLine{2828               req, res, content\_reader, \mbox{\hyperlink{classhttplib_1_1_server_a8ce360299e9af54984875e2d0261c2a3}{patch\_handlers\_for\_content\_reader}})) \{}
\DoxyCodeLine{2829         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2830       \}}
\DoxyCodeLine{2831     \}}
\DoxyCodeLine{2832   \}}
\DoxyCodeLine{2833 }
\DoxyCodeLine{2834   \textcolor{comment}{// Read content into `req.body`}}
\DoxyCodeLine{2835   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}POST"{}} || req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PUT"{}} || req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PATCH"{}} || req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PRI"{}}) \{}
\DoxyCodeLine{2836     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classhttplib_1_1_server_af84cf3f78736baa76cee4ae00ac80267}{read\_content}}(strm, last\_connection, req, res)) \{}
\DoxyCodeLine{2837       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2838     \}}
\DoxyCodeLine{2839   \}}
\DoxyCodeLine{2840 }
\DoxyCodeLine{2841   \textcolor{comment}{// Regular handler}}
\DoxyCodeLine{2842   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}GET"{}} || req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}HEAD"{}}) \{}
\DoxyCodeLine{2843     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(req, res, \mbox{\hyperlink{classhttplib_1_1_server_a6d7b8d7ec13ecb5332c257bf432bb896}{get\_handlers\_}});}
\DoxyCodeLine{2844   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}POST"{}}) \{}
\DoxyCodeLine{2845     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(req, res, \mbox{\hyperlink{classhttplib_1_1_server_a251316c55dd62d86bd58392eaba35afe}{post\_handlers\_}});}
\DoxyCodeLine{2846   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PUT"{}}) \{}
\DoxyCodeLine{2847     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(req, res, \mbox{\hyperlink{classhttplib_1_1_server_af1535ba048469823646a37d8462577c9}{put\_handlers\_}});}
\DoxyCodeLine{2848   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}DELETE"{}}) \{}
\DoxyCodeLine{2849     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(req, res, \mbox{\hyperlink{classhttplib_1_1_server_a1a2a7ccfd32db528b82588f2e3fac19c}{delete\_handlers\_}});}
\DoxyCodeLine{2850   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}OPTIONS"{}}) \{}
\DoxyCodeLine{2851     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(req, res, \mbox{\hyperlink{classhttplib_1_1_server_af3181bdeb88440f6abb5a595ceb41b04}{options\_handlers\_}});}
\DoxyCodeLine{2852   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} == \textcolor{stringliteral}{"{}PATCH"{}}) \{}
\DoxyCodeLine{2853     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{dispatch\_request}}(req, res, \mbox{\hyperlink{classhttplib_1_1_server_ac8f540c50353fa35b4e8d2b668f33f59}{patch\_handlers\_}});}
\DoxyCodeLine{2854   \}}
\DoxyCodeLine{2855 }
\DoxyCodeLine{2856   res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 400;}
\DoxyCodeLine{2857   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2858 \}}
\DoxyCodeLine{2859 }
\DoxyCodeLine{2860 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a069602c80da6ca32432fadf351bfa7f6}{Server::dispatch\_request}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2861                                      \mbox{\hyperlink{classhttplib_1_1_server_a54305a2c588cd9119f3bd0450cdd84c7}{Handlers}} \&handlers) \{}
\DoxyCodeLine{2862   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} : handlers) \{}
\DoxyCodeLine{2863     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&pattern = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.first;}
\DoxyCodeLine{2864     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&handler = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.second;}
\DoxyCodeLine{2865 }
\DoxyCodeLine{2866     \textcolor{keywordflow}{if} (std::regex\_match(req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}}, req.\mbox{\hyperlink{structhttplib_1_1_request_a9c55b6ab1bcd7c25a40a9c23ee2af1db}{matches}}, pattern)) \{}
\DoxyCodeLine{2867       handler(req, res);}
\DoxyCodeLine{2868       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2869     \}}
\DoxyCodeLine{2870   \}}
\DoxyCodeLine{2871   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2872 \}}
\DoxyCodeLine{2873 }
\DoxyCodeLine{2874 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool}}
\DoxyCodeLine{2875 \mbox{\hyperlink{classhttplib_1_1_server_af042f714d96214126f3c1f3f2fd43ceb}{Server::dispatch\_request\_for\_content\_reader}}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res,}
\DoxyCodeLine{2876                                             \mbox{\hyperlink{namespacehttplib_ae9e4a4a8eed966ddf8df83b1a07620ba}{ContentReader}} content\_reader,}
\DoxyCodeLine{2877                                             \mbox{\hyperlink{classhttplib_1_1_server_a67bc57316915da94f7725dc7f025aa1b}{HandersForContentReader}} \&handlers) \{}
\DoxyCodeLine{2878   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} : handlers) \{}
\DoxyCodeLine{2879     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&pattern = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.first;}
\DoxyCodeLine{2880     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&handler = \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.second;}
\DoxyCodeLine{2881 }
\DoxyCodeLine{2882     \textcolor{keywordflow}{if} (std::regex\_match(req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}}, req.\mbox{\hyperlink{structhttplib_1_1_request_a9c55b6ab1bcd7c25a40a9c23ee2af1db}{matches}}, pattern)) \{}
\DoxyCodeLine{2883       handler(req, res, content\_reader);}
\DoxyCodeLine{2884       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2885     \}}
\DoxyCodeLine{2886   \}}
\DoxyCodeLine{2887   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2888 \}}
\DoxyCodeLine{2889 }
\DoxyCodeLine{2890 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool}}
\DoxyCodeLine{2891 \mbox{\hyperlink{classhttplib_1_1_server_a3209c7771f400b056792dae6c32957e5}{Server::process\_request}}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{2892                         \textcolor{keywordtype}{bool} \&connection\_close,}
\DoxyCodeLine{2893                         \textcolor{keyword}{const} std::function<\textcolor{keywordtype}{void}(\mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&)>\& setup\_request) \{}
\DoxyCodeLine{2894   std::array<char, 2048> buf\{\};}
\DoxyCodeLine{2895 }
\DoxyCodeLine{2896   \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader}{detail::stream\_line\_reader}} line\_reader(strm, buf.data(), buf.size());}
\DoxyCodeLine{2897 }
\DoxyCodeLine{2898   \textcolor{comment}{// Connection has been closed on client}}
\DoxyCodeLine{2899   \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{2900 }
\DoxyCodeLine{2901   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{2902   \mbox{\hyperlink{structhttplib_1_1_response}{Response}} res;}
\DoxyCodeLine{2903 }
\DoxyCodeLine{2904   res.\mbox{\hyperlink{structhttplib_1_1_response_a56b71785ec6f10347a30eee0dc23d96c}{version}} = \textcolor{stringliteral}{"{}HTTP/1.1"{}};}
\DoxyCodeLine{2905 }
\DoxyCodeLine{2906   \textcolor{comment}{// Check if the request URI doesn't exceed the limit}}
\DoxyCodeLine{2907   \textcolor{keywordflow}{if} (line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_abf2e2d85e7411c8af6e84109029b4d6e}{size}}() > \mbox{\hyperlink{httplib_8h_ac260f5899a74e107b13c6c170d0ccc5a}{CPPHTTPLIB\_REQUEST\_URI\_MAX\_LENGTH}}) \{}
\DoxyCodeLine{2908     \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} dummy;}
\DoxyCodeLine{2909     \mbox{\hyperlink{namespacehttplib_1_1detail_aeb8db950848e27227eb130f609b293cf}{detail::read\_headers}}(strm, dummy);}
\DoxyCodeLine{2910     res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 414;}
\DoxyCodeLine{2911     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(strm, last\_connection, req, res);}
\DoxyCodeLine{2912   \}}
\DoxyCodeLine{2913 }
\DoxyCodeLine{2914   \textcolor{comment}{// Request line and headers}}
\DoxyCodeLine{2915   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classhttplib_1_1_server_ae8ef1891cd19a609fe583b3b63b025ed}{parse\_request\_line}}(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), req) ||}
\DoxyCodeLine{2916       !\mbox{\hyperlink{namespacehttplib_1_1detail_aeb8db950848e27227eb130f609b293cf}{detail::read\_headers}}(strm, req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}})) \{}
\DoxyCodeLine{2917     res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 400;}
\DoxyCodeLine{2918     \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(strm, last\_connection, req, res);}
\DoxyCodeLine{2919   \}}
\DoxyCodeLine{2920 }
\DoxyCodeLine{2921   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Connection"{}}) == \textcolor{stringliteral}{"{}close"{}}) \{}
\DoxyCodeLine{2922     connection\_close = \textcolor{keyword}{true};}
\DoxyCodeLine{2923   \}}
\DoxyCodeLine{2924 }
\DoxyCodeLine{2925   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_aa3edfd554b749bf2cb03a57a12c24602}{version}} == \textcolor{stringliteral}{"{}HTTP/1.0"{}} \&\&}
\DoxyCodeLine{2926       req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Connection"{}}) != \textcolor{stringliteral}{"{}Keep-\/Alive"{}}) \{}
\DoxyCodeLine{2927     connection\_close = \textcolor{keyword}{true};}
\DoxyCodeLine{2928   \}}
\DoxyCodeLine{2929 }
\DoxyCodeLine{2930   req.\mbox{\hyperlink{structhttplib_1_1_request_acc869733c900de3687d675aadd8ce30a}{set\_header}}(\textcolor{stringliteral}{"{}REMOTE\_ADDR"{}}, strm.\mbox{\hyperlink{classhttplib_1_1_stream_ad88d98a2df737eecc1c268c71e584743}{get\_remote\_addr}}());}
\DoxyCodeLine{2931 }
\DoxyCodeLine{2932   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{stringliteral}{"{}Range"{}})) \{}
\DoxyCodeLine{2933     \textcolor{keyword}{const} \textcolor{keyword}{auto} \&range\_header\_value = req.\mbox{\hyperlink{structhttplib_1_1_request_a4b4186433e1375a7be5eedb1a3c12d77}{get\_header\_value}}(\textcolor{stringliteral}{"{}Range"{}});}
\DoxyCodeLine{2934     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_ad4101f2d385e30a6c88e24b6a9058113}{detail::parse\_range\_header}}(range\_header\_value, req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}})) \{}
\DoxyCodeLine{2935       \textcolor{comment}{// TODO: error}}
\DoxyCodeLine{2936     \}}
\DoxyCodeLine{2937   \}}
\DoxyCodeLine{2938 }
\DoxyCodeLine{2939   \textcolor{keywordflow}{if} (setup\_request) \{ setup\_request(req); \}}
\DoxyCodeLine{2940 }
\DoxyCodeLine{2941   \textcolor{comment}{// Rounting}}
\DoxyCodeLine{2942   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhttplib_1_1_server_ad0cc46c8851bf6afff2c0b1107270f97}{routing}}(req, res, strm, last\_connection)) \{}
\DoxyCodeLine{2943     \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} == -\/1) \{ res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = req.\mbox{\hyperlink{structhttplib_1_1_request_abe8594e9fe1652a3b3846823c9fc065c}{ranges}}.empty() ? 200 : 206; \}}
\DoxyCodeLine{2944   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2945     \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} == -\/1) \{ res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = 404; \}}
\DoxyCodeLine{2946   \}}
\DoxyCodeLine{2947 }
\DoxyCodeLine{2948   \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_abccccd62f1e7fa44228693858d48fd8b}{write\_response}}(strm, last\_connection, req, res);}
\DoxyCodeLine{2949 \}}
\DoxyCodeLine{2950 }
\DoxyCodeLine{2951 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a4f02314a47adbae984a7483e8e820c05}{Server::is\_valid}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{2952 }
\DoxyCodeLine{2953 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_server_a28221db99b5a35e45515553fdb9458a0}{Server::process\_and\_close\_socket}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock) \{}
\DoxyCodeLine{2954   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{detail::process\_and\_close\_socket}}(}
\DoxyCodeLine{2955       \textcolor{keyword}{false}, sock, \mbox{\hyperlink{classhttplib_1_1_server_a2a39446892282230d483cd137c56e4f7}{keep\_alive\_max\_count\_}}, \mbox{\hyperlink{classhttplib_1_1_server_ac9f203c13fe12f2ecb04386df44f6081}{read\_timeout\_sec\_}}, \mbox{\hyperlink{classhttplib_1_1_server_a03a97129a6573eab65a00e5e190e2f7a}{read\_timeout\_usec\_}},}
\DoxyCodeLine{2956       [\textcolor{keyword}{this}](\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection, \textcolor{keywordtype}{bool} \&connection\_close) \{}
\DoxyCodeLine{2957         \textcolor{keywordflow}{return} \mbox{\hyperlink{classhttplib_1_1_server_a3209c7771f400b056792dae6c32957e5}{process\_request}}(strm, last\_connection, connection\_close,}
\DoxyCodeLine{2958                                \textcolor{keyword}{nullptr});}
\DoxyCodeLine{2959       \});}
\DoxyCodeLine{2960 \}}
\DoxyCodeLine{2961 }
\DoxyCodeLine{2962 \textcolor{comment}{// HTTP client implementation}}
\DoxyCodeLine{2963 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_client_a9e100807d75f38023625d3f724c416cb}{Client::Client}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, time\_t timeout\_sec)}
\DoxyCodeLine{2964     : host\_(host), port\_(port), timeout\_sec\_(timeout\_sec),}
\DoxyCodeLine{2965       host\_and\_port\_(host\_ + \textcolor{stringliteral}{"{}:"{}} + \mbox{\hyperlink{namespacestd}{std}}::to\_string(port\_)),}
\DoxyCodeLine{2966       keep\_alive\_max\_count\_(\mbox{\hyperlink{httplib_8h_a56599ecd6d67e12d9c71138ea69fc179}{CPPHTTPLIB\_KEEPALIVE\_MAX\_COUNT}}),}
\DoxyCodeLine{2967       read\_timeout\_sec\_(\mbox{\hyperlink{httplib_8h_a8035d2917b3f56dd72e2814fead9996f}{CPPHTTPLIB\_READ\_TIMEOUT\_SECOND}}),}
\DoxyCodeLine{2968       read\_timeout\_usec\_(\mbox{\hyperlink{httplib_8h_a96e2c87531cb0878689d9bb1048923b2}{CPPHTTPLIB\_READ\_TIMEOUT\_USECOND}}),}
\DoxyCodeLine{2969       follow\_location\_(false) \{\}}
\DoxyCodeLine{2970 }
\DoxyCodeLine{2971 \textcolor{keyword}{inline} \mbox{\hyperlink{classhttplib_1_1_client_a0efae6b84c68ded689ef31e0dd856f6a}{Client::\string~Client}}() \{\}}
\DoxyCodeLine{2972 }
\DoxyCodeLine{2973 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classhttplib_1_1_client_a98220aab6695ad08bba0b93842665946}{Client::is\_valid}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{2974 }
\DoxyCodeLine{2975 \textcolor{keyword}{inline} \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} \mbox{\hyperlink{classhttplib_1_1_client_a1f40f1f1ad24057e6e233ece1320c4be}{Client::create\_client\_socket}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2976   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a9d57e6df77bc294208c2026ee4cbfc0b}{detail::create\_socket}}(}
\DoxyCodeLine{2977       \mbox{\hyperlink{classhttplib_1_1_client_a0c8a16687eb787016cd14d3b5adf9e41}{host\_}}.c\_str(), \mbox{\hyperlink{classhttplib_1_1_client_ab69a2a5876cef8dca76fe3a2f87ea659}{port\_}}, [=](\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keyword}{struct} addrinfo \&ai) -\/> \textcolor{keywordtype}{bool} \{}
\DoxyCodeLine{2978         detail::set\_nonblocking(sock, true);}
\DoxyCodeLine{2979 }
\DoxyCodeLine{2980         auto ret = connect(sock, ai.ai\_addr, static\_cast<int>(ai.ai\_addrlen));}
\DoxyCodeLine{2981         if (ret < 0) \{}
\DoxyCodeLine{2982           if (detail::is\_connection\_error() ||}
\DoxyCodeLine{2983               !detail::wait\_until\_socket\_is\_ready(sock, timeout\_sec\_, 0)) \{}
\DoxyCodeLine{2984             detail::close\_socket(sock);}
\DoxyCodeLine{2985             return false;}
\DoxyCodeLine{2986           \}}
\DoxyCodeLine{2987         \}}
\DoxyCodeLine{2988 }
\DoxyCodeLine{2989         \mbox{\hyperlink{namespacehttplib_1_1detail_a697035fa14dcfff9fb4705d6cffea733}{detail::set\_nonblocking}}(sock, \textcolor{keyword}{false});}
\DoxyCodeLine{2990         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{2991       \});}
\DoxyCodeLine{2992 \}}
\DoxyCodeLine{2993 }
\DoxyCodeLine{2994 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} Client::read\_response\_line(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res) \{}
\DoxyCodeLine{2995   std::array<char, 2048> buf;}
\DoxyCodeLine{2996 }
\DoxyCodeLine{2997   \mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader}{detail::stream\_line\_reader}} line\_reader(strm, buf.data(), buf.size());}
\DoxyCodeLine{2998 }
\DoxyCodeLine{2999   \textcolor{keywordflow}{if} (!line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_a39b395742e14cc015a448f6ea4143d44}{getline}}()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3000 }
\DoxyCodeLine{3001   \textcolor{keyword}{const} \textcolor{keyword}{static} std::regex \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}}(\textcolor{stringliteral}{"{}(HTTP/1\(\backslash\)\(\backslash\).[01]) (\(\backslash\)\(\backslash\)d+?) .*\(\backslash\)r\(\backslash\)n"{}});}
\DoxyCodeLine{3002 }
\DoxyCodeLine{3003   std::cmatch m;}
\DoxyCodeLine{3004   \textcolor{keywordflow}{if} (std::regex\_match(line\_reader.\mbox{\hyperlink{classhttplib_1_1detail_1_1stream__line__reader_ac1ea873b6559ff411cb777d2bbdba4cc}{ptr}}(), m, \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}})) \{}
\DoxyCodeLine{3005     res.\mbox{\hyperlink{structhttplib_1_1_response_a56b71785ec6f10347a30eee0dc23d96c}{version}} = std::string(m[1]);}
\DoxyCodeLine{3006     res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} = std::stoi(std::string(m[2]));}
\DoxyCodeLine{3007   \}}
\DoxyCodeLine{3008 }
\DoxyCodeLine{3009   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3010 \}}
\DoxyCodeLine{3011 }
\DoxyCodeLine{3012 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} Client::send(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res) \{}
\DoxyCodeLine{3013   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}}.empty()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3014 }
\DoxyCodeLine{3015   \textcolor{keyword}{auto} sock = create\_client\_socket();}
\DoxyCodeLine{3016   \textcolor{keywordflow}{if} (sock == \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3017 }
\DoxyCodeLine{3018   \textcolor{keyword}{auto} ret = \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{process\_and\_close\_socket}}(}
\DoxyCodeLine{3019       sock, 1, [\&](\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection, \textcolor{keywordtype}{bool} \&connection\_close) \{}
\DoxyCodeLine{3020         \textcolor{keywordflow}{return} process\_request(strm, req, res, last\_connection,}
\DoxyCodeLine{3021                                connection\_close);}
\DoxyCodeLine{3022       \});}
\DoxyCodeLine{3023 }
\DoxyCodeLine{3024   \textcolor{keywordflow}{if} (ret \&\& follow\_location\_ \&\& (300 < res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} \&\& res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} < 400)) \{}
\DoxyCodeLine{3025     ret = \mbox{\hyperlink{namespacehttplib_1_1detail_a584fac4627f3c5112565b440090c0103}{redirect}}(req, res);}
\DoxyCodeLine{3026   \}}
\DoxyCodeLine{3027 }
\DoxyCodeLine{3028   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{3029 \}}
\DoxyCodeLine{3030 }
\DoxyCodeLine{3031 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} Client::send(\textcolor{keyword}{const} std::vector<Request> \&requests,}
\DoxyCodeLine{3032                          std::vector<Response> \&responses) \{}
\DoxyCodeLine{3033   \textcolor{keywordtype}{size\_t} i = 0;}
\DoxyCodeLine{3034   \textcolor{keywordflow}{while} (i < requests.size()) \{}
\DoxyCodeLine{3035     \textcolor{keyword}{auto} sock = create\_client\_socket();}
\DoxyCodeLine{3036     \textcolor{keywordflow}{if} (sock == \mbox{\hyperlink{httplib_8h_a26769957ec1a2beaf223f33b66ee64ab}{INVALID\_SOCKET}}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3037 }
\DoxyCodeLine{3038     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{process\_and\_close\_socket}}(}
\DoxyCodeLine{3039             sock, requests.size() -\/ i,}
\DoxyCodeLine{3040             [\&](\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{3041                 \textcolor{keywordtype}{bool} \&connection\_close) -\/> \textcolor{keywordtype}{bool} \{}
\DoxyCodeLine{3042               auto \&req = requests[i];}
\DoxyCodeLine{3043               auto res = Response();}
\DoxyCodeLine{3044               i++;}
\DoxyCodeLine{3045 }
\DoxyCodeLine{3046               if (req.path.empty()) \{ return false; \}}
\DoxyCodeLine{3047               \textcolor{keyword}{auto} ret = process\_request(strm, req, res, last\_connection,}
\DoxyCodeLine{3048                                          connection\_close);}
\DoxyCodeLine{3049 }
\DoxyCodeLine{3050               \textcolor{keywordflow}{if} (ret \&\& follow\_location\_ \&\&}
\DoxyCodeLine{3051                   (300 < res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} \&\& res.\mbox{\hyperlink{structhttplib_1_1_response_a8b717024fa31c5146e9e7a46761a0653}{status}} < 400)) \{}
\DoxyCodeLine{3052                 ret = redirect(req, res);}
\DoxyCodeLine{3053               \}}
\DoxyCodeLine{3054 }
\DoxyCodeLine{3055               if (ret) \{ responses.emplace\_back(std::move(res)); \}}
\DoxyCodeLine{3056 }
\DoxyCodeLine{3057               \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{3058             \})) \{}
\DoxyCodeLine{3059       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3060     \}}
\DoxyCodeLine{3061   \}}
\DoxyCodeLine{3062 }
\DoxyCodeLine{3063   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3064 \}}
\DoxyCodeLine{3065 }
\DoxyCodeLine{3066 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_a584fac4627f3c5112565b440090c0103}{Client::redirect}}(\textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req, \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res) \{}
\DoxyCodeLine{3067   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_a08d5c74f27f0e36ed7c7a480815588d7}{redirect\_count}} == 0) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3068 }
\DoxyCodeLine{3069   \textcolor{keyword}{auto} location = res.\mbox{\hyperlink{structhttplib_1_1_response_aa2e1798839c08472e324cd1d864b35e5}{get\_header\_value}}(\textcolor{stringliteral}{"{}location"{}});}
\DoxyCodeLine{3070   \textcolor{keywordflow}{if} (location.empty()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3071 }
\DoxyCodeLine{3072   std::regex \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}}(}
\DoxyCodeLine{3073       R\textcolor{stringliteral}{"{}(\string^(?:([\string^:/?\#]+):)?(?://([\string^/?\#]*))?([\string^?\#]*(?:\(\backslash\)?[\string^\#]*)?)(?:\#.*)?)"{});}}
\DoxyCodeLine{3074 \textcolor{stringliteral}{}}
\DoxyCodeLine{3075 \textcolor{stringliteral}{  }\textcolor{keyword}{auto} scheme = is\_ssl() ? \textcolor{stringliteral}{"{}https"{}} : \textcolor{stringliteral}{"{}http"{}};}
\DoxyCodeLine{3076 }
\DoxyCodeLine{3077   std::smatch m;}
\DoxyCodeLine{3078   \textcolor{keywordflow}{if} (regex\_match(location, m, \mbox{\hyperlink{namespacenvinfer1_affff5bb340299fdfe10dcff3ff9dffca}{re}})) \{}
\DoxyCodeLine{3079     \textcolor{keyword}{auto} next\_scheme = m[1].str();}
\DoxyCodeLine{3080     \textcolor{keyword}{auto} next\_host = m[2].str();}
\DoxyCodeLine{3081     \textcolor{keyword}{auto} next\_path = m[3].str();}
\DoxyCodeLine{3082     \textcolor{keywordflow}{if} (next\_host.empty()) \{ next\_host = host\_; \}}
\DoxyCodeLine{3083     \textcolor{keywordflow}{if} (next\_path.empty()) \{ next\_path = \textcolor{stringliteral}{"{}/"{}}; \}}
\DoxyCodeLine{3084 }
\DoxyCodeLine{3085     \textcolor{keywordflow}{if} (next\_scheme == scheme \&\& next\_host == host\_) \{}
\DoxyCodeLine{3086       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a584fac4627f3c5112565b440090c0103}{detail::redirect}}(*\textcolor{keyword}{this}, req, res, next\_path);}
\DoxyCodeLine{3087     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3088       \textcolor{keywordflow}{if} (next\_scheme == \textcolor{stringliteral}{"{}https"{}}) \{}
\DoxyCodeLine{3089 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_OPENSSL\_SUPPORT}}
\DoxyCodeLine{3090         SSLClient cli(next\_host.c\_str());}
\DoxyCodeLine{3091         cli.follow\_location(\textcolor{keyword}{true});}
\DoxyCodeLine{3092         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a584fac4627f3c5112565b440090c0103}{detail::redirect}}(cli, req, res, next\_path);}
\DoxyCodeLine{3093 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{3094         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3095 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3096       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3097         \mbox{\hyperlink{classhttplib_1_1_client}{Client}} cli(next\_host.c\_str());}
\DoxyCodeLine{3098         cli.\mbox{\hyperlink{classhttplib_1_1_client_ae0c39b7a21abdfc7c89e1f81afb470de}{follow\_location}}(\textcolor{keyword}{true});}
\DoxyCodeLine{3099         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a584fac4627f3c5112565b440090c0103}{detail::redirect}}(cli, req, res, next\_path);}
\DoxyCodeLine{3100       \}}
\DoxyCodeLine{3101     \}}
\DoxyCodeLine{3102   \}}
\DoxyCodeLine{3103   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3104 \}}
\DoxyCodeLine{3105 }
\DoxyCodeLine{3106 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Client::write\_request(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{3107                                   \textcolor{keywordtype}{bool} last\_connection) \{}
\DoxyCodeLine{3108   \mbox{\hyperlink{classhttplib_1_1_buffer_stream}{BufferStream}} bstrm;}
\DoxyCodeLine{3109 }
\DoxyCodeLine{3110   \textcolor{comment}{// Request line}}
\DoxyCodeLine{3111   \textcolor{keyword}{auto} \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}} = \mbox{\hyperlink{namespacehttplib_1_1detail_af303bae3a748ade0f39ac8098fa50733}{detail::encode\_url}}(req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}});}
\DoxyCodeLine{3112 }
\DoxyCodeLine{3113   bstrm.\mbox{\hyperlink{classhttplib_1_1_stream_ad12b648773d8deeb1665bc61eb1ad3f5}{write\_format}}(\textcolor{stringliteral}{"{}\%s \%s HTTP/1.1\(\backslash\)r\(\backslash\)n"{}}, req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}}.c\_str(), \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}.c\_str());}
\DoxyCodeLine{3114 }
\DoxyCodeLine{3115   \textcolor{comment}{// Additonal headers}}
\DoxyCodeLine{3116   \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3117   \textcolor{keywordflow}{if} (last\_connection) \{ \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Connection"{}}, \textcolor{stringliteral}{"{}close"{}}); \}}
\DoxyCodeLine{3118 }
\DoxyCodeLine{3119   \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{stringliteral}{"{}Host"{}})) \{}
\DoxyCodeLine{3120     \textcolor{keywordflow}{if} (is\_ssl()) \{}
\DoxyCodeLine{3121       \textcolor{keywordflow}{if} (port\_ == 443) \{}
\DoxyCodeLine{3122         \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Host"{}}, host\_);}
\DoxyCodeLine{3123       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3124         \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Host"{}}, host\_and\_port\_);}
\DoxyCodeLine{3125       \}}
\DoxyCodeLine{3126     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3127       \textcolor{keywordflow}{if} (port\_ == 80) \{}
\DoxyCodeLine{3128         \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Host"{}}, host\_);}
\DoxyCodeLine{3129       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3130         \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Host"{}}, host\_and\_port\_);}
\DoxyCodeLine{3131       \}}
\DoxyCodeLine{3132     \}}
\DoxyCodeLine{3133   \}}
\DoxyCodeLine{3134 }
\DoxyCodeLine{3135   \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{stringliteral}{"{}Accept"{}})) \{ \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Accept"{}}, \textcolor{stringliteral}{"{}*/*"{}}); \}}
\DoxyCodeLine{3136 }
\DoxyCodeLine{3137   \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{stringliteral}{"{}User-\/Agent"{}})) \{}
\DoxyCodeLine{3138     \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}User-\/Agent"{}}, \textcolor{stringliteral}{"{}cpp-\/httplib/0.2"{}});}
\DoxyCodeLine{3139   \}}
\DoxyCodeLine{3140 }
\DoxyCodeLine{3141   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.empty()) \{}
\DoxyCodeLine{3142     \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_a12f991a24e0f5fd9deb1b36da71a5dcf}{content\_provider}}) \{}
\DoxyCodeLine{3143       \textcolor{keyword}{auto} length = std::to\_string(req.\mbox{\hyperlink{structhttplib_1_1_request_a0c5a7a202d1385069e58ede6c349e370}{content\_length}});}
\DoxyCodeLine{3144       \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Length"{}}, length);}
\DoxyCodeLine{3145     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3146       \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Length"{}}, \textcolor{stringliteral}{"{}0"{}});}
\DoxyCodeLine{3147     \}}
\DoxyCodeLine{3148   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3149     \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{stringliteral}{"{}Content-\/Type"{}})) \{}
\DoxyCodeLine{3150       \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Type"{}}, \textcolor{stringliteral}{"{}text/plain"{}});}
\DoxyCodeLine{3151     \}}
\DoxyCodeLine{3152 }
\DoxyCodeLine{3153     \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ab1d2a38febf2c2a2c408779c39fb60ad}{has\_header}}(\textcolor{stringliteral}{"{}Content-\/Length"{}})) \{}
\DoxyCodeLine{3154       \textcolor{keyword}{auto} length = std::to\_string(req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.size());}
\DoxyCodeLine{3155       \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Length"{}}, length);}
\DoxyCodeLine{3156     \}}
\DoxyCodeLine{3157   \}}
\DoxyCodeLine{3158 }
\DoxyCodeLine{3159   \mbox{\hyperlink{namespacehttplib_1_1detail_a0158e219d1fb64b9227d72e345b483ae}{detail::write\_headers}}(bstrm, req, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}});}
\DoxyCodeLine{3160 }
\DoxyCodeLine{3161   \textcolor{comment}{// Flush buffer}}
\DoxyCodeLine{3162   \textcolor{keyword}{auto} \&\mbox{\hyperlink{structdata}{data}} = bstrm.\mbox{\hyperlink{classhttplib_1_1_buffer_stream_a43c2530669c4a8dfc1f530678fa55c71}{get\_buffer}}();}
\DoxyCodeLine{3163   strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\mbox{\hyperlink{structdata}{data}}.data(), \mbox{\hyperlink{structdata}{data}}.size());}
\DoxyCodeLine{3164 }
\DoxyCodeLine{3165   \textcolor{comment}{// Body}}
\DoxyCodeLine{3166   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.empty()) \{}
\DoxyCodeLine{3167     \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_a12f991a24e0f5fd9deb1b36da71a5dcf}{content\_provider}}) \{}
\DoxyCodeLine{3168       \textcolor{keywordtype}{size\_t} offset = 0;}
\DoxyCodeLine{3169       \textcolor{keywordtype}{size\_t} end\_offset = req.\mbox{\hyperlink{structhttplib_1_1_request_a0c5a7a202d1385069e58ede6c349e370}{content\_length}};}
\DoxyCodeLine{3170       \textcolor{keywordflow}{while} (offset < end\_offset) \{}
\DoxyCodeLine{3171         req.\mbox{\hyperlink{structhttplib_1_1_request_a12f991a24e0f5fd9deb1b36da71a5dcf}{content\_provider}}(offset, end\_offset -\/ offset,}
\DoxyCodeLine{3172                              [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, \textcolor{keywordtype}{size\_t} l) \{}
\DoxyCodeLine{3173                                \textcolor{keyword}{auto} written\_length = strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, l);}
\DoxyCodeLine{3174                                offset += written\_length;}
\DoxyCodeLine{3175                              \});}
\DoxyCodeLine{3176       \}}
\DoxyCodeLine{3177     \}}
\DoxyCodeLine{3178   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3179     strm.\mbox{\hyperlink{classhttplib_1_1_stream_a8917643e3662e25bc17f94baac90569d}{write}}(req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}});}
\DoxyCodeLine{3180   \}}
\DoxyCodeLine{3181 \}}
\DoxyCodeLine{3182 }
\DoxyCodeLine{3183 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::send\_with\_content\_provider(}
\DoxyCodeLine{3184     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *method, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3185     \textcolor{keyword}{const} std::string \&body, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3186     \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type, \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3187 \textcolor{preprocessor}{\#ifndef CPPHTTPLIB\_ZLIB\_SUPPORT}}
\DoxyCodeLine{3188   (void)compress;}
\DoxyCodeLine{3189 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3190 }
\DoxyCodeLine{3191   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{3192   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = method;}
\DoxyCodeLine{3193   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3194   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{3195 }
\DoxyCodeLine{3196   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Type"{}}, content\_type);}
\DoxyCodeLine{3197 }
\DoxyCodeLine{3198 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_ZLIB\_SUPPORT}}
\DoxyCodeLine{3199   \textcolor{keywordflow}{if} (compress) \{}
\DoxyCodeLine{3200     \textcolor{keywordflow}{if} (content\_provider) \{}
\DoxyCodeLine{3201       \textcolor{keywordtype}{size\_t} offset = 0;}
\DoxyCodeLine{3202       \textcolor{keywordflow}{while} (offset < content\_length) \{}
\DoxyCodeLine{3203         content\_provider(offset, content\_length -\/ offset,}
\DoxyCodeLine{3204                          [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keywordtype}{size\_t} data\_len) \{}
\DoxyCodeLine{3205                            req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}}.append(\mbox{\hyperlink{structdata}{data}}, data\_len);}
\DoxyCodeLine{3206                            offset += data\_len;}
\DoxyCodeLine{3207                          \});}
\DoxyCodeLine{3208       \}}
\DoxyCodeLine{3209     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3210       req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}} = body;}
\DoxyCodeLine{3211     \}}
\DoxyCodeLine{3212 }
\DoxyCodeLine{3213     \textcolor{keywordflow}{if} (!detail::compress(req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}})) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr}; \}}
\DoxyCodeLine{3214     req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Encoding"{}}, \textcolor{stringliteral}{"{}gzip"{}});}
\DoxyCodeLine{3215   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{3216 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3217   \{}
\DoxyCodeLine{3218     \textcolor{keywordflow}{if} (content\_provider) \{}
\DoxyCodeLine{3219       req.\mbox{\hyperlink{structhttplib_1_1_request_a0c5a7a202d1385069e58ede6c349e370}{content\_length}} = content\_length;}
\DoxyCodeLine{3220       req.\mbox{\hyperlink{structhttplib_1_1_request_a12f991a24e0f5fd9deb1b36da71a5dcf}{content\_provider}} = content\_provider;}
\DoxyCodeLine{3221     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3222       req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}} = body;}
\DoxyCodeLine{3223     \}}
\DoxyCodeLine{3224   \}}
\DoxyCodeLine{3225 }
\DoxyCodeLine{3226   \textcolor{keyword}{auto} res = std::make\_shared<Response>();}
\DoxyCodeLine{3227 }
\DoxyCodeLine{3228   \textcolor{keywordflow}{return} send(req, *res) ? res : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3229 \}}
\DoxyCodeLine{3230 }
\DoxyCodeLine{3231 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} Client::process\_request(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keyword}{const} \mbox{\hyperlink{structhttplib_1_1_request}{Request}} \&req,}
\DoxyCodeLine{3232                                     \mbox{\hyperlink{structhttplib_1_1_response}{Response}} \&res, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{3233                                     \textcolor{keywordtype}{bool} \&connection\_close) \{}
\DoxyCodeLine{3234   \textcolor{comment}{// Send request}}
\DoxyCodeLine{3235   write\_request(strm, req, last\_connection);}
\DoxyCodeLine{3236 }
\DoxyCodeLine{3237   \textcolor{comment}{// Receive response and headers}}
\DoxyCodeLine{3238   \textcolor{keywordflow}{if} (!read\_response\_line(strm, res) ||}
\DoxyCodeLine{3239       !\mbox{\hyperlink{namespacehttplib_1_1detail_aeb8db950848e27227eb130f609b293cf}{detail::read\_headers}}(strm, res.\mbox{\hyperlink{structhttplib_1_1_response_a5a2fe2a8acebca3f9c4e9e852fadbd5e}{headers}})) \{}
\DoxyCodeLine{3240     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3241   \}}
\DoxyCodeLine{3242 }
\DoxyCodeLine{3243   \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_aa2e1798839c08472e324cd1d864b35e5}{get\_header\_value}}(\textcolor{stringliteral}{"{}Connection"{}}) == \textcolor{stringliteral}{"{}close"{}} ||}
\DoxyCodeLine{3244       res.\mbox{\hyperlink{structhttplib_1_1_response_a56b71785ec6f10347a30eee0dc23d96c}{version}} == \textcolor{stringliteral}{"{}HTTP/1.0"{}}) \{}
\DoxyCodeLine{3245     connection\_close = \textcolor{keyword}{true};}
\DoxyCodeLine{3246   \}}
\DoxyCodeLine{3247 }
\DoxyCodeLine{3248   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_ae8ffd012988e754aaef33a1766a59824}{response\_handler}}) \{}
\DoxyCodeLine{3249     \textcolor{keywordflow}{if} (!req.\mbox{\hyperlink{structhttplib_1_1_request_ae8ffd012988e754aaef33a1766a59824}{response\_handler}}(res)) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3250   \}}
\DoxyCodeLine{3251 }
\DoxyCodeLine{3252   \textcolor{comment}{// Body}}
\DoxyCodeLine{3253   \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} != \textcolor{stringliteral}{"{}HEAD"{}}) \{}
\DoxyCodeLine{3254     \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} out = [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{3255       \textcolor{keywordflow}{if} (res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.size() + n > res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.max\_size()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3256       res.\mbox{\hyperlink{structhttplib_1_1_response_ac77eb5c7e8758ac0c39ebb4507b7015c}{body}}.append(buf, n);}
\DoxyCodeLine{3257       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3258     \};}
\DoxyCodeLine{3259 }
\DoxyCodeLine{3260     \textcolor{keywordflow}{if} (req.\mbox{\hyperlink{structhttplib_1_1_request_a757bdff922ffbd02cf4deef23121c622}{content\_receiver}}) \{}
\DoxyCodeLine{3261       out = [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *buf, \textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{3262         \textcolor{keywordflow}{return} req.\mbox{\hyperlink{structhttplib_1_1_request_a757bdff922ffbd02cf4deef23121c622}{content\_receiver}}(buf, n);}
\DoxyCodeLine{3263       \};}
\DoxyCodeLine{3264     \}}
\DoxyCodeLine{3265 }
\DoxyCodeLine{3266     \textcolor{keywordtype}{int} dummy\_status;}
\DoxyCodeLine{3267     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacehttplib_1_1detail_aeb0e1d279402ffaff3af8000573d4f84}{detail::read\_content}}(strm, res, \mbox{\hyperlink{ldes_2fhog_8cpp_affe776513b24d84b39af8ab0930fef7f}{std::numeric\_limits<size\_t>::max}}(),}
\DoxyCodeLine{3268                               dummy\_status, req.\mbox{\hyperlink{structhttplib_1_1_request_a68b563d55a73c85ae4624b43f840ea0e}{progress}}, out)) \{}
\DoxyCodeLine{3269       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3270     \}}
\DoxyCodeLine{3271   \}}
\DoxyCodeLine{3272 }
\DoxyCodeLine{3273   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3274 \}}
\DoxyCodeLine{3275 }
\DoxyCodeLine{3276 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{Client::process\_and\_close\_socket}}(}
\DoxyCodeLine{3277     \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keywordtype}{size\_t} request\_count,}
\DoxyCodeLine{3278     std::function<\textcolor{keywordtype}{bool}(\mbox{\hyperlink{classhttplib_1_1_stream}{Stream}} \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{3279                        \textcolor{keywordtype}{bool} \&connection\_close)>}
\DoxyCodeLine{3280         callback) \{}
\DoxyCodeLine{3281   request\_count = \mbox{\hyperlink{ldes_2fhog_8cpp_ac6afabdc09a49a433ee19d8a9486056d}{std::min}}(request\_count, keep\_alive\_max\_count\_);}
\DoxyCodeLine{3282   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{detail::process\_and\_close\_socket}}(\textcolor{keyword}{true}, sock, request\_count,}
\DoxyCodeLine{3283                                           read\_timeout\_sec\_, read\_timeout\_usec\_,}
\DoxyCodeLine{3284                                           callback);}
\DoxyCodeLine{3285 \}}
\DoxyCodeLine{3286 }
\DoxyCodeLine{3287 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} Client::is\_ssl()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3288 }
\DoxyCodeLine{3289 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{3290   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} dummy;}
\DoxyCodeLine{3291   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), dummy);}
\DoxyCodeLine{3292 \}}
\DoxyCodeLine{3293 }
\DoxyCodeLine{3294 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3295                                              \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress) \{}
\DoxyCodeLine{3296   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), std::move(progress));}
\DoxyCodeLine{3297 \}}
\DoxyCodeLine{3298 }
\DoxyCodeLine{3299 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3300                                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{3301   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} dummy;}
\DoxyCodeLine{3302   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, dummy);}
\DoxyCodeLine{3303 \}}
\DoxyCodeLine{3304 }
\DoxyCodeLine{3305 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3306 \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress) \{}
\DoxyCodeLine{3307   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{3308   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}GET"{}};}
\DoxyCodeLine{3309   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{3310   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3311   req.\mbox{\hyperlink{structhttplib_1_1_request_a68b563d55a73c85ae4624b43f840ea0e}{progress}} = std::move(progress);}
\DoxyCodeLine{3312 }
\DoxyCodeLine{3313   \textcolor{keyword}{auto} res = std::make\_shared<Response>();}
\DoxyCodeLine{3314   \textcolor{keywordflow}{return} send(req, *res) ? res : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3315 \}}
\DoxyCodeLine{3316 }
\DoxyCodeLine{3317 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3318                                              \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver) \{}
\DoxyCodeLine{3319   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} dummy;}
\DoxyCodeLine{3320   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), \textcolor{keyword}{nullptr}, std::move(content\_receiver), dummy);}
\DoxyCodeLine{3321 \}}
\DoxyCodeLine{3322 }
\DoxyCodeLine{3323 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3324                                              \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver,}
\DoxyCodeLine{3325                                              \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress) \{}
\DoxyCodeLine{3326   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), \textcolor{keyword}{nullptr}, std::move(content\_receiver), progress);}
\DoxyCodeLine{3327 \}}
\DoxyCodeLine{3328 }
\DoxyCodeLine{3329 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3330                                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3331                                              \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver) \{}
\DoxyCodeLine{3332   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} dummy;}
\DoxyCodeLine{3333   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{nullptr}, std::move(content\_receiver), dummy);}
\DoxyCodeLine{3334 \}}
\DoxyCodeLine{3335 }
\DoxyCodeLine{3336 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3337                                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3338                                              \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver,}
\DoxyCodeLine{3339                                              \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress) \{}
\DoxyCodeLine{3340   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{nullptr}, std::move(content\_receiver), progress);}
\DoxyCodeLine{3341 \}}
\DoxyCodeLine{3342 }
\DoxyCodeLine{3343 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3344                                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3345                                              \mbox{\hyperlink{namespacehttplib_ad81ce13409edba1589c0b076b2dfab74}{ResponseHandler}} response\_handler,}
\DoxyCodeLine{3346                                              \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver) \{}
\DoxyCodeLine{3347   \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} dummy;}
\DoxyCodeLine{3348   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Get}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, std::move(response\_handler), content\_receiver, dummy);}
\DoxyCodeLine{3349 \}}
\DoxyCodeLine{3350 }
\DoxyCodeLine{3351 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_ad6b646cfa9902c1b961a0bb2c41358a8}{Client::Get}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3352                                              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3353                                              \mbox{\hyperlink{namespacehttplib_ad81ce13409edba1589c0b076b2dfab74}{ResponseHandler}} response\_handler,}
\DoxyCodeLine{3354                                              \mbox{\hyperlink{namespacehttplib_ad7425937de0bafb891b0b7cae87dc368}{ContentReceiver}} content\_receiver,}
\DoxyCodeLine{3355                                              \mbox{\hyperlink{namespacehttplib_ac816c86c4eb6af0ee03fb35059631b3c}{Progress}} progress) \{}
\DoxyCodeLine{3356   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{3357   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}GET"{}};}
\DoxyCodeLine{3358   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{3359   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3360   req.\mbox{\hyperlink{structhttplib_1_1_request_ae8ffd012988e754aaef33a1766a59824}{response\_handler}} = std::move(response\_handler);}
\DoxyCodeLine{3361   req.\mbox{\hyperlink{structhttplib_1_1_request_a757bdff922ffbd02cf4deef23121c622}{content\_receiver}} = std::move(content\_receiver);}
\DoxyCodeLine{3362   req.\mbox{\hyperlink{structhttplib_1_1_request_a68b563d55a73c85ae4624b43f840ea0e}{progress}} = std::move(progress);}
\DoxyCodeLine{3363 }
\DoxyCodeLine{3364   \textcolor{keyword}{auto} res = std::make\_shared<Response>();}
\DoxyCodeLine{3365   \textcolor{keywordflow}{return} send(req, *res) ? res : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3366 \}}
\DoxyCodeLine{3367 }
\DoxyCodeLine{3368 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Head(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{3369   \textcolor{keywordflow}{return} Head(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}());}
\DoxyCodeLine{3370 \}}
\DoxyCodeLine{3371 }
\DoxyCodeLine{3372 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Head(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3373                                               \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{3374   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{3375   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}HEAD"{}};}
\DoxyCodeLine{3376   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3377   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{3378 }
\DoxyCodeLine{3379   \textcolor{keyword}{auto} res = std::make\_shared<Response>();}
\DoxyCodeLine{3380 }
\DoxyCodeLine{3381   \textcolor{keywordflow}{return} send(req, *res) ? res : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3382 \}}
\DoxyCodeLine{3383 }
\DoxyCodeLine{3384 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3385                                               \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3386                                               \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3387                                               \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3388   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Post}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), body, content\_type, compress);}
\DoxyCodeLine{3389 \}}
\DoxyCodeLine{3390 }
\DoxyCodeLine{3391 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3392 \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3393              \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type, \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3394   \textcolor{keywordflow}{return} send\_with\_content\_provider(\textcolor{stringliteral}{"{}POST"{}}, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, body, 0, \textcolor{keyword}{nullptr},}
\DoxyCodeLine{3395                                     content\_type, compress);}
\DoxyCodeLine{3396 \}}
\DoxyCodeLine{3397 }
\DoxyCodeLine{3398 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3399 \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} \&params, \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3400   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Post}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), params, compress);}
\DoxyCodeLine{3401 \}}
\DoxyCodeLine{3402 }
\DoxyCodeLine{3403 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3404                                               \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3405                                               \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{3406                                               \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3407                                               \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3408   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Post}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), content\_length, content\_provider, content\_type,}
\DoxyCodeLine{3409               compress);}
\DoxyCodeLine{3410 \}}
\DoxyCodeLine{3411 }
\DoxyCodeLine{3412 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3413 \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3414              \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3415              \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3416   \textcolor{keywordflow}{return} send\_with\_content\_provider(\textcolor{stringliteral}{"{}POST"{}}, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, std::string(),}
\DoxyCodeLine{3417                                     content\_length, content\_provider,}
\DoxyCodeLine{3418                                     content\_type, compress);}
\DoxyCodeLine{3419 \}}
\DoxyCodeLine{3420 }
\DoxyCodeLine{3421 \textcolor{keyword}{inline} std::shared\_ptr<Response> \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3422                                               \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3423                                               \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a51ce06867e711ba5095eff9d606e802e}{Params}} \&params,}
\DoxyCodeLine{3424                                               \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3425   std::string query;}
\DoxyCodeLine{3426   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = params.begin(); it != params.end(); ++it) \{}
\DoxyCodeLine{3427     \textcolor{keywordflow}{if} (it != params.begin()) \{ query += \textcolor{stringliteral}{"{}\&"{}}; \}}
\DoxyCodeLine{3428     query += it-\/>first;}
\DoxyCodeLine{3429     query += \textcolor{stringliteral}{"{}="{}};}
\DoxyCodeLine{3430     query += \mbox{\hyperlink{namespacehttplib_1_1detail_af303bae3a748ade0f39ac8098fa50733}{detail::encode\_url}}(it-\/>second);}
\DoxyCodeLine{3431   \}}
\DoxyCodeLine{3432 }
\DoxyCodeLine{3433   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Post}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, query, \textcolor{stringliteral}{"{}application/x-\/www-\/form-\/urlencoded"{}},}
\DoxyCodeLine{3434               compress);}
\DoxyCodeLine{3435 \}}
\DoxyCodeLine{3436 }
\DoxyCodeLine{3437 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3438 \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_aa11ee6a4c1dff67ab2a75631d9c43705}{MultipartFormDataItems}} \&items,}
\DoxyCodeLine{3439              \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3440   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Post}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), items, compress);}
\DoxyCodeLine{3441 \}}
\DoxyCodeLine{3442 }
\DoxyCodeLine{3443 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3444 \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Client::Post}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3445              \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_aa11ee6a4c1dff67ab2a75631d9c43705}{MultipartFormDataItems}} \&items, \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3446   \textcolor{keyword}{auto} boundary = \mbox{\hyperlink{namespacehttplib_1_1detail_ae144d55905f9808c3abae6e20bd9367a}{detail::make\_multipart\_data\_boundary}}();}
\DoxyCodeLine{3447 }
\DoxyCodeLine{3448   std::string body;}
\DoxyCodeLine{3449 }
\DoxyCodeLine{3450   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&item : items) \{}
\DoxyCodeLine{3451     body += \textcolor{stringliteral}{"{}-\/-\/"{}} + boundary + \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{3452     body += \textcolor{stringliteral}{"{}Content-\/Disposition: form-\/data; name=\(\backslash\)"{}"{}} + item.name + \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{3453     \textcolor{keywordflow}{if} (!item.filename.empty()) \{}
\DoxyCodeLine{3454       body += \textcolor{stringliteral}{"{}; filename=\(\backslash\)"{}"{}} + item.filename + \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{3455     \}}
\DoxyCodeLine{3456     body += \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{3457     \textcolor{keywordflow}{if} (!item.content\_type.empty()) \{}
\DoxyCodeLine{3458       body += \textcolor{stringliteral}{"{}Content-\/Type: "{}} + item.content\_type + \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{3459     \}}
\DoxyCodeLine{3460     body += \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{3461     body += item.content + \textcolor{stringliteral}{"{}\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{3462   \}}
\DoxyCodeLine{3463 }
\DoxyCodeLine{3464   body += \textcolor{stringliteral}{"{}-\/-\/"{}} + boundary + \textcolor{stringliteral}{"{}-\/-\/\(\backslash\)r\(\backslash\)n"{}};}
\DoxyCodeLine{3465 }
\DoxyCodeLine{3466   std::string content\_type = \textcolor{stringliteral}{"{}multipart/form-\/data; boundary="{}} + boundary;}
\DoxyCodeLine{3467   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_a9cdc93412987024980664d868d5d3fbb}{Post}}(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, body, content\_type.c\_str(), compress);}
\DoxyCodeLine{3468 \}}
\DoxyCodeLine{3469 }
\DoxyCodeLine{3470 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Put(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3471                                              \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3472                                              \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3473                                              \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3474   \textcolor{keywordflow}{return} Put(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), body, content\_type, compress);}
\DoxyCodeLine{3475 \}}
\DoxyCodeLine{3476 }
\DoxyCodeLine{3477 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3478 Client::Put(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3479             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type, \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3480   \textcolor{keywordflow}{return} send\_with\_content\_provider(\textcolor{stringliteral}{"{}PUT"{}}, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, body, 0, \textcolor{keyword}{nullptr},}
\DoxyCodeLine{3481                                     content\_type, compress);}
\DoxyCodeLine{3482 \}}
\DoxyCodeLine{3483 }
\DoxyCodeLine{3484 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Put(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3485                                              \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3486                                              \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{3487                                              \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3488                                              \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3489   \textcolor{keywordflow}{return} Put(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), content\_length, content\_provider, content\_type,}
\DoxyCodeLine{3490              compress);}
\DoxyCodeLine{3491 \}}
\DoxyCodeLine{3492 }
\DoxyCodeLine{3493 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3494 Client::Put(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3495             \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3496             \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3497   \textcolor{keywordflow}{return} send\_with\_content\_provider(\textcolor{stringliteral}{"{}PUT"{}}, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, std::string(),}
\DoxyCodeLine{3498                                     content\_length, content\_provider,}
\DoxyCodeLine{3499                                     content\_type, compress);}
\DoxyCodeLine{3500 \}}
\DoxyCodeLine{3501 }
\DoxyCodeLine{3502 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Patch(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3503                                                \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3504                                                \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3505                                                \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3506   \textcolor{keywordflow}{return} Patch(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), body, content\_type, compress);}
\DoxyCodeLine{3507 \}}
\DoxyCodeLine{3508 }
\DoxyCodeLine{3509 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3510 Client::Patch(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3511               \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type, \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3512   \textcolor{keywordflow}{return} send\_with\_content\_provider(\textcolor{stringliteral}{"{}PATCH"{}}, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, body, 0, \textcolor{keyword}{nullptr},}
\DoxyCodeLine{3513                                     content\_type, compress);}
\DoxyCodeLine{3514 \}}
\DoxyCodeLine{3515 }
\DoxyCodeLine{3516 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Patch(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3517                                                \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3518                                                \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider,}
\DoxyCodeLine{3519                                                \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3520                                                \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3521   \textcolor{keywordflow}{return} Patch(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), content\_length, content\_provider, content\_type,}
\DoxyCodeLine{3522                compress);}
\DoxyCodeLine{3523 \}}
\DoxyCodeLine{3524 }
\DoxyCodeLine{3525 \textcolor{keyword}{inline} std::shared\_ptr<Response>}
\DoxyCodeLine{3526 Client::Patch(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, \textcolor{keywordtype}{size\_t} content\_length,}
\DoxyCodeLine{3527               \mbox{\hyperlink{namespacehttplib_ac2a1d5953b754d95d8095d4d3d406871}{ContentProvider}} content\_provider, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type,}
\DoxyCodeLine{3528               \textcolor{keywordtype}{bool} compress) \{}
\DoxyCodeLine{3529   \textcolor{keywordflow}{return} send\_with\_content\_provider(\textcolor{stringliteral}{"{}PATCH"{}}, \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, std::string(),}
\DoxyCodeLine{3530                                     content\_length, content\_provider,}
\DoxyCodeLine{3531                                     content\_type, compress);}
\DoxyCodeLine{3532 \}}
\DoxyCodeLine{3533 }
\DoxyCodeLine{3534 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Delete(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{3535   \textcolor{keywordflow}{return} Delete(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), std::string(), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{3536 \}}
\DoxyCodeLine{3537 }
\DoxyCodeLine{3538 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Delete(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3539                                                 \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3540                                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type) \{}
\DoxyCodeLine{3541   \textcolor{keywordflow}{return} Delete(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}(), body, content\_type);}
\DoxyCodeLine{3542 \}}
\DoxyCodeLine{3543 }
\DoxyCodeLine{3544 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Delete(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3545                                                 \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{3546   \textcolor{keywordflow}{return} Delete(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}, std::string(), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{3547 \}}
\DoxyCodeLine{3548 }
\DoxyCodeLine{3549 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Delete(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3550                                                 \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}},}
\DoxyCodeLine{3551                                                 \textcolor{keyword}{const} std::string \&body,}
\DoxyCodeLine{3552                                                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *content\_type) \{}
\DoxyCodeLine{3553   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{3554   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}DELETE"{}};}
\DoxyCodeLine{3555   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3556   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{3557 }
\DoxyCodeLine{3558   \textcolor{keywordflow}{if} (content\_type) \{ req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}}.emplace(\textcolor{stringliteral}{"{}Content-\/Type"{}}, content\_type); \}}
\DoxyCodeLine{3559   req.\mbox{\hyperlink{structhttplib_1_1_request_ad4502def5e057794ad17f014cf671656}{body}} = body;}
\DoxyCodeLine{3560 }
\DoxyCodeLine{3561   \textcolor{keyword}{auto} res = std::make\_shared<Response>();}
\DoxyCodeLine{3562 }
\DoxyCodeLine{3563   \textcolor{keywordflow}{return} send(req, *res) ? res : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3564 \}}
\DoxyCodeLine{3565 }
\DoxyCodeLine{3566 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Options(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}) \{}
\DoxyCodeLine{3567   \textcolor{keywordflow}{return} Options(\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}}, \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}}());}
\DoxyCodeLine{3568 \}}
\DoxyCodeLine{3569 }
\DoxyCodeLine{3570 \textcolor{keyword}{inline} std::shared\_ptr<Response> Client::Options(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}},}
\DoxyCodeLine{3571                                                  \textcolor{keyword}{const} \mbox{\hyperlink{namespacehttplib_a6fb30cf4bb44485bee38481e46ab8dc5}{Headers}} \&\mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}}) \{}
\DoxyCodeLine{3572   \mbox{\hyperlink{structhttplib_1_1_request}{Request}} req;}
\DoxyCodeLine{3573   req.\mbox{\hyperlink{structhttplib_1_1_request_af69b50892d54b1a66c9b47e53226badc}{method}} = \textcolor{stringliteral}{"{}OPTIONS"{}};}
\DoxyCodeLine{3574   req.\mbox{\hyperlink{structhttplib_1_1_request_ac26dc36ecdf16660d152385d39c7be9a}{path}} = \mbox{\hyperlink{gml2nestedsql_8cpp_a10cdd7e2573589f34f8a03983f8cd8f8}{path}};}
\DoxyCodeLine{3575   req.\mbox{\hyperlink{structhttplib_1_1_request_aff4a258b9b297834c0ad45afd40a75b4}{headers}} = \mbox{\hyperlink{namespacesetup_a9cbbe596ac3a0fab93b32f0022f75113}{headers}};}
\DoxyCodeLine{3576 }
\DoxyCodeLine{3577   \textcolor{keyword}{auto} res = std::make\_shared<Response>();}
\DoxyCodeLine{3578 }
\DoxyCodeLine{3579   \textcolor{keywordflow}{return} send(req, *res) ? res : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3580 \}}
\DoxyCodeLine{3581 }
\DoxyCodeLine{3582 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Client::set\_keep\_alive\_max\_count(\textcolor{keywordtype}{size\_t} count) \{}
\DoxyCodeLine{3583   keep\_alive\_max\_count\_ = count;}
\DoxyCodeLine{3584 \}}
\DoxyCodeLine{3585 }
\DoxyCodeLine{3586 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Client::set\_read\_timeout(time\_t \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}}, time\_t usec) \{}
\DoxyCodeLine{3587   read\_timeout\_sec\_ = \mbox{\hyperlink{utils_8c_a375f4de29b8973c3e1b63bf49a5eb00e}{sec}};}
\DoxyCodeLine{3588   read\_timeout\_usec\_ = usec;}
\DoxyCodeLine{3589 \}}
\DoxyCodeLine{3590 }
\DoxyCodeLine{3591 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Client::follow\_location(\textcolor{keywordtype}{bool} on) \{ follow\_location\_ = on; \}}
\DoxyCodeLine{3592 }
\DoxyCodeLine{3593 \textcolor{comment}{/*}}
\DoxyCodeLine{3594 \textcolor{comment}{ * SSL Implementation}}
\DoxyCodeLine{3595 \textcolor{comment}{ */}}
\DoxyCodeLine{3596 \textcolor{preprocessor}{\#ifdef CPPHTTPLIB\_OPENSSL\_SUPPORT}}
\DoxyCodeLine{3597 \textcolor{keyword}{namespace }detail \{}
\DoxyCodeLine{3598 }
\DoxyCodeLine{3599 \textcolor{keyword}{template} <\textcolor{keyword}{typename} U, \textcolor{keyword}{typename} V, \textcolor{keyword}{typename} T>}
\DoxyCodeLine{3600 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} process\_and\_close\_socket\_ssl(}
\DoxyCodeLine{3601     \textcolor{keywordtype}{bool} is\_client\_request, \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keywordtype}{size\_t} keep\_alive\_max\_count,}
\DoxyCodeLine{3602     time\_t read\_timeout\_sec, time\_t read\_timeout\_usec, SSL\_CTX *ctx,}
\DoxyCodeLine{3603     \mbox{\hyperlink{data_8c_a4acff8232e4aec9cd5c6dc200ac55ef3}{std::mutex}} \&ctx\_mutex, U SSL\_connect\_or\_accept, V \mbox{\hyperlink{namespacesetup}{setup}}, T callback) \{}
\DoxyCodeLine{3604   assert(keep\_alive\_max\_count > 0);}
\DoxyCodeLine{3605 }
\DoxyCodeLine{3606   SSL *ssl = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3607   \{}
\DoxyCodeLine{3608     std::lock\_guard<std::mutex> guard(ctx\_mutex);}
\DoxyCodeLine{3609     ssl = SSL\_new(ctx);}
\DoxyCodeLine{3610   \}}
\DoxyCodeLine{3611 }
\DoxyCodeLine{3612   \textcolor{keywordflow}{if} (!ssl) \{}
\DoxyCodeLine{3613     \mbox{\hyperlink{http__stream_8cpp_a39a3603e5e2769521b3b8a6105bcb63e}{close\_socket}}(sock);}
\DoxyCodeLine{3614     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3615   \}}
\DoxyCodeLine{3616 }
\DoxyCodeLine{3617   \textcolor{keyword}{auto} bio = BIO\_new\_socket(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(sock), BIO\_NOCLOSE);}
\DoxyCodeLine{3618   SSL\_set\_bio(ssl, bio, bio);}
\DoxyCodeLine{3619 }
\DoxyCodeLine{3620   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacesetup}{setup}}(ssl)) \{}
\DoxyCodeLine{3621     SSL\_shutdown(ssl);}
\DoxyCodeLine{3622     \{}
\DoxyCodeLine{3623       std::lock\_guard<std::mutex> guard(ctx\_mutex);}
\DoxyCodeLine{3624       SSL\_free(ssl);}
\DoxyCodeLine{3625     \}}
\DoxyCodeLine{3626 }
\DoxyCodeLine{3627     \mbox{\hyperlink{http__stream_8cpp_a39a3603e5e2769521b3b8a6105bcb63e}{close\_socket}}(sock);}
\DoxyCodeLine{3628     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3629   \}}
\DoxyCodeLine{3630 }
\DoxyCodeLine{3631   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};}
\DoxyCodeLine{3632 }
\DoxyCodeLine{3633   \textcolor{keywordflow}{if} (SSL\_connect\_or\_accept(ssl) == 1) \{}
\DoxyCodeLine{3634     \textcolor{keywordflow}{if} (keep\_alive\_max\_count > 1) \{}
\DoxyCodeLine{3635       \textcolor{keyword}{auto} count = keep\_alive\_max\_count;}
\DoxyCodeLine{3636       \textcolor{keywordflow}{while} (count > 0 \&\&}
\DoxyCodeLine{3637              (is\_client\_request ||}
\DoxyCodeLine{3638               \mbox{\hyperlink{namespacehttplib_1_1detail_a2617665f32c4f83fc345d454379aba0e}{detail::select\_read}}(sock, \mbox{\hyperlink{httplib_8h_a9290820a34ffe59a772df48b954fc4ac}{CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_SECOND}},}
\DoxyCodeLine{3639                                   \mbox{\hyperlink{httplib_8h_a072f5426d033b6e9128a2f60e7952c8a}{CPPHTTPLIB\_KEEPALIVE\_TIMEOUT\_USECOND}}) > 0)) \{}
\DoxyCodeLine{3640         SSLSocketStream strm(sock, ssl, read\_timeout\_sec, read\_timeout\_usec);}
\DoxyCodeLine{3641         \textcolor{keyword}{auto} last\_connection = count == 1;}
\DoxyCodeLine{3642         \textcolor{keyword}{auto} connection\_close = \textcolor{keyword}{false};}
\DoxyCodeLine{3643 }
\DoxyCodeLine{3644         ret = callback(ssl, strm, last\_connection, connection\_close);}
\DoxyCodeLine{3645         \textcolor{keywordflow}{if} (!ret || connection\_close) \{ \textcolor{keywordflow}{break}; \}}
\DoxyCodeLine{3646 }
\DoxyCodeLine{3647         count-\/-\/;}
\DoxyCodeLine{3648       \}}
\DoxyCodeLine{3649     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3650       SSLSocketStream strm(sock, ssl, read\_timeout\_sec, read\_timeout\_usec);}
\DoxyCodeLine{3651       \textcolor{keyword}{auto} dummy\_connection\_close = \textcolor{keyword}{false};}
\DoxyCodeLine{3652       ret = callback(ssl, strm, \textcolor{keyword}{true}, dummy\_connection\_close);}
\DoxyCodeLine{3653     \}}
\DoxyCodeLine{3654   \}}
\DoxyCodeLine{3655 }
\DoxyCodeLine{3656   SSL\_shutdown(ssl);}
\DoxyCodeLine{3657   \{}
\DoxyCodeLine{3658     std::lock\_guard<std::mutex> guard(ctx\_mutex);}
\DoxyCodeLine{3659     SSL\_free(ssl);}
\DoxyCodeLine{3660   \}}
\DoxyCodeLine{3661 }
\DoxyCodeLine{3662   \mbox{\hyperlink{http__stream_8cpp_a39a3603e5e2769521b3b8a6105bcb63e}{close\_socket}}(sock);}
\DoxyCodeLine{3663 }
\DoxyCodeLine{3664   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{3665 \}}
\DoxyCodeLine{3666 }
\DoxyCodeLine{3667 \textcolor{preprocessor}{\#if OPENSSL\_VERSION\_NUMBER < 0x10100000L}}
\DoxyCodeLine{3668 \textcolor{keyword}{static} std::shared\_ptr<std::vector<std::mutex>> openSSL\_locks\_;}
\DoxyCodeLine{3669 }
\DoxyCodeLine{3670 \textcolor{keyword}{class }SSLThreadLocks \{}
\DoxyCodeLine{3671 \textcolor{keyword}{public}:}
\DoxyCodeLine{3672   SSLThreadLocks() \{}
\DoxyCodeLine{3673     openSSL\_locks\_ =}
\DoxyCodeLine{3674         std::make\_shared<std::vector<std::mutex>>(CRYPTO\_num\_locks());}
\DoxyCodeLine{3675     CRYPTO\_set\_locking\_callback(locking\_callback);}
\DoxyCodeLine{3676   \}}
\DoxyCodeLine{3677 }
\DoxyCodeLine{3678   \string~SSLThreadLocks() \{ CRYPTO\_set\_locking\_callback(\textcolor{keyword}{nullptr}); \}}
\DoxyCodeLine{3679 }
\DoxyCodeLine{3680 \textcolor{keyword}{private}:}
\DoxyCodeLine{3681   \textcolor{keyword}{static} \textcolor{keywordtype}{void} locking\_callback(\textcolor{keywordtype}{int} mode, \textcolor{keywordtype}{int} type, \textcolor{keyword}{const} \textcolor{keywordtype}{char} * \textcolor{comment}{/*file*/},}
\DoxyCodeLine{3682                                \textcolor{keywordtype}{int} \textcolor{comment}{/*line*/}) \{}
\DoxyCodeLine{3683     \textcolor{keyword}{auto} \&locks = *openSSL\_locks\_;}
\DoxyCodeLine{3684     \textcolor{keywordflow}{if} (mode \& CRYPTO\_LOCK) \{}
\DoxyCodeLine{3685       locks[type].lock();}
\DoxyCodeLine{3686     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3687       locks[type].unlock();}
\DoxyCodeLine{3688     \}}
\DoxyCodeLine{3689   \}}
\DoxyCodeLine{3690 \};}
\DoxyCodeLine{3691 }
\DoxyCodeLine{3692 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3693 }
\DoxyCodeLine{3694 \textcolor{keyword}{class }SSLInit \{}
\DoxyCodeLine{3695 \textcolor{keyword}{public}:}
\DoxyCodeLine{3696   SSLInit() \{}
\DoxyCodeLine{3697 \textcolor{preprocessor}{\#if OPENSSL\_VERSION\_NUMBER < 0x1010001fL}}
\DoxyCodeLine{3698     SSL\_load\_error\_strings();}
\DoxyCodeLine{3699     SSL\_library\_init();}
\DoxyCodeLine{3700 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{3701     OPENSSL\_init\_ssl(}
\DoxyCodeLine{3702         OPENSSL\_INIT\_LOAD\_SSL\_STRINGS | OPENSSL\_INIT\_LOAD\_CRYPTO\_STRINGS, NULL);}
\DoxyCodeLine{3703 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3704   \}}
\DoxyCodeLine{3705 }
\DoxyCodeLine{3706   \string~SSLInit() \{}
\DoxyCodeLine{3707 \textcolor{preprocessor}{\#if OPENSSL\_VERSION\_NUMBER < 0x1010001fL}}
\DoxyCodeLine{3708     ERR\_free\_strings();}
\DoxyCodeLine{3709 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3710   \}}
\DoxyCodeLine{3711 }
\DoxyCodeLine{3712 \textcolor{keyword}{private}:}
\DoxyCodeLine{3713 \textcolor{preprocessor}{\#if OPENSSL\_VERSION\_NUMBER < 0x10100000L}}
\DoxyCodeLine{3714   SSLThreadLocks thread\_init\_;}
\DoxyCodeLine{3715 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3716 \};}
\DoxyCodeLine{3717 }
\DoxyCodeLine{3718 \textcolor{keyword}{static} SSLInit sslinit\_;}
\DoxyCodeLine{3719 }
\DoxyCodeLine{3720 \} \textcolor{comment}{// namespace detail}}
\DoxyCodeLine{3721 }
\DoxyCodeLine{3722 \textcolor{comment}{// SSL socket stream implementation}}
\DoxyCodeLine{3723 \textcolor{keyword}{inline} SSLSocketStream::SSLSocketStream(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, SSL *ssl,}
\DoxyCodeLine{3724                                         time\_t read\_timeout\_sec,}
\DoxyCodeLine{3725                                         time\_t read\_timeout\_usec)}
\DoxyCodeLine{3726     : sock\_(sock), ssl\_(ssl), read\_timeout\_sec\_(read\_timeout\_sec),}
\DoxyCodeLine{3727       read\_timeout\_usec\_(read\_timeout\_usec) \{\}}
\DoxyCodeLine{3728 }
\DoxyCodeLine{3729 \textcolor{keyword}{inline} SSLSocketStream::\string~SSLSocketStream() \{\}}
\DoxyCodeLine{3730 }
\DoxyCodeLine{3731 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_aba564f1375831c7ba550dadc966101b6}{SSLSocketStream::read}}(\textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{3732   \textcolor{keywordflow}{if} (SSL\_pending(ssl\_) > 0 ||}
\DoxyCodeLine{3733       \mbox{\hyperlink{namespacehttplib_1_1detail_a2617665f32c4f83fc345d454379aba0e}{detail::select\_read}}(sock\_, read\_timeout\_sec\_, read\_timeout\_usec\_) > 0) \{}
\DoxyCodeLine{3734     \textcolor{keywordflow}{return} SSL\_read(ssl\_, ptr, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(size));}
\DoxyCodeLine{3735   \}}
\DoxyCodeLine{3736   \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{3737 \}}
\DoxyCodeLine{3738 }
\DoxyCodeLine{3739 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{SSLSocketStream::write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr, \textcolor{keywordtype}{size\_t} size) \{}
\DoxyCodeLine{3740   \textcolor{keywordflow}{return} SSL\_write(ssl\_, ptr, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(size));}
\DoxyCodeLine{3741 \}}
\DoxyCodeLine{3742 }
\DoxyCodeLine{3743 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{SSLSocketStream::write}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ptr) \{}
\DoxyCodeLine{3744   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(ptr, strlen(ptr));}
\DoxyCodeLine{3745 \}}
\DoxyCodeLine{3746 }
\DoxyCodeLine{3747 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{SSLSocketStream::write}}(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{3748   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(s.data(), s.size());}
\DoxyCodeLine{3749 \}}
\DoxyCodeLine{3750 }
\DoxyCodeLine{3751 \textcolor{keyword}{inline} std::string \mbox{\hyperlink{namespacehttplib_1_1detail_a65d52389dccd1eafb6d33cb0f0380e70}{SSLSocketStream::get\_remote\_addr}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{3752   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacehttplib_1_1detail_a65d52389dccd1eafb6d33cb0f0380e70}{detail::get\_remote\_addr}}(sock\_);}
\DoxyCodeLine{3753 \}}
\DoxyCodeLine{3754 }
\DoxyCodeLine{3755 \textcolor{comment}{// SSL HTTP server implementation}}
\DoxyCodeLine{3756 \textcolor{keyword}{inline} SSLServer::SSLServer(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *cert\_path, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *private\_key\_path,}
\DoxyCodeLine{3757                             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_ca\_cert\_file\_path,}
\DoxyCodeLine{3758                             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_ca\_cert\_dir\_path) \{}
\DoxyCodeLine{3759   ctx\_ = SSL\_CTX\_new(SSLv23\_server\_method());}
\DoxyCodeLine{3760 }
\DoxyCodeLine{3761   \textcolor{keywordflow}{if} (ctx\_) \{}
\DoxyCodeLine{3762     SSL\_CTX\_set\_options(ctx\_,}
\DoxyCodeLine{3763                         SSL\_OP\_ALL | SSL\_OP\_NO\_SSLv2 | SSL\_OP\_NO\_SSLv3 |}
\DoxyCodeLine{3764                             SSL\_OP\_NO\_COMPRESSION |}
\DoxyCodeLine{3765                             SSL\_OP\_NO\_SESSION\_RESUMPTION\_ON\_RENEGOTIATION);}
\DoxyCodeLine{3766 }
\DoxyCodeLine{3767     \textcolor{comment}{// auto ecdh = EC\_KEY\_new\_by\_curve\_name(NID\_X9\_62\_prime256v1);}}
\DoxyCodeLine{3768     \textcolor{comment}{// SSL\_CTX\_set\_tmp\_ecdh(ctx\_, ecdh);}}
\DoxyCodeLine{3769     \textcolor{comment}{// EC\_KEY\_free(ecdh);}}
\DoxyCodeLine{3770 }
\DoxyCodeLine{3771     \textcolor{keywordflow}{if} (SSL\_CTX\_use\_certificate\_chain\_file(ctx\_, cert\_path) != 1 ||}
\DoxyCodeLine{3772         SSL\_CTX\_use\_PrivateKey\_file(ctx\_, private\_key\_path, SSL\_FILETYPE\_PEM) !=}
\DoxyCodeLine{3773             1) \{}
\DoxyCodeLine{3774       SSL\_CTX\_free(ctx\_);}
\DoxyCodeLine{3775       ctx\_ = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3776     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (client\_ca\_cert\_file\_path || client\_ca\_cert\_dir\_path) \{}
\DoxyCodeLine{3777       \textcolor{comment}{// if (client\_ca\_cert\_file\_path) \{}}
\DoxyCodeLine{3778       \textcolor{comment}{//   auto list = SSL\_load\_client\_CA\_file(client\_ca\_cert\_file\_path);}}
\DoxyCodeLine{3779       \textcolor{comment}{//   SSL\_CTX\_set\_client\_CA\_list(ctx\_, list);}}
\DoxyCodeLine{3780       \textcolor{comment}{// \}}}
\DoxyCodeLine{3781 }
\DoxyCodeLine{3782       SSL\_CTX\_load\_verify\_locations(ctx\_, client\_ca\_cert\_file\_path,}
\DoxyCodeLine{3783                                     client\_ca\_cert\_dir\_path);}
\DoxyCodeLine{3784 }
\DoxyCodeLine{3785       SSL\_CTX\_set\_verify(}
\DoxyCodeLine{3786           ctx\_,}
\DoxyCodeLine{3787           SSL\_VERIFY\_PEER |}
\DoxyCodeLine{3788               SSL\_VERIFY\_FAIL\_IF\_NO\_PEER\_CERT, \textcolor{comment}{// SSL\_VERIFY\_CLIENT\_ONCE,}}
\DoxyCodeLine{3789           \textcolor{keyword}{nullptr});}
\DoxyCodeLine{3790     \}}
\DoxyCodeLine{3791   \}}
\DoxyCodeLine{3792 \}}
\DoxyCodeLine{3793 }
\DoxyCodeLine{3794 \textcolor{keyword}{inline} SSLServer::\string~SSLServer() \{}
\DoxyCodeLine{3795   \textcolor{keywordflow}{if} (ctx\_) \{ SSL\_CTX\_free(ctx\_); \}}
\DoxyCodeLine{3796 \}}
\DoxyCodeLine{3797 }
\DoxyCodeLine{3798 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} SSLServer::is\_valid()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} ctx\_; \}}
\DoxyCodeLine{3799 }
\DoxyCodeLine{3800 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{SSLServer::process\_and\_close\_socket}}(\mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock) \{}
\DoxyCodeLine{3801   \textcolor{keywordflow}{return} detail::process\_and\_close\_socket\_ssl(}
\DoxyCodeLine{3802       \textcolor{keyword}{false}, sock, keep\_alive\_max\_count\_, read\_timeout\_sec\_, read\_timeout\_usec\_,}
\DoxyCodeLine{3803       ctx\_, ctx\_mutex\_, SSL\_accept, [](SSL * \textcolor{comment}{/*ssl*/}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \},}
\DoxyCodeLine{3804       [\textcolor{keyword}{this}](SSL *ssl, Stream \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{3805              \textcolor{keywordtype}{bool} \&connection\_close) \{}
\DoxyCodeLine{3806         \textcolor{keywordflow}{return} process\_request(strm, last\_connection, connection\_close,}
\DoxyCodeLine{3807                                [\&](Request \&req) \{ req.ssl = ssl; \});}
\DoxyCodeLine{3808       \});}
\DoxyCodeLine{3809 \}}
\DoxyCodeLine{3810 }
\DoxyCodeLine{3811 \textcolor{comment}{// SSL HTTP client implementation}}
\DoxyCodeLine{3812 \textcolor{keyword}{inline} SSLClient::SSLClient(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *host, \textcolor{keywordtype}{int} port, time\_t timeout\_sec,}
\DoxyCodeLine{3813                             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_cert\_path,}
\DoxyCodeLine{3814                             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *client\_key\_path)}
\DoxyCodeLine{3815     : Client(host, port, timeout\_sec) \{}
\DoxyCodeLine{3816   ctx\_ = SSL\_CTX\_new(SSLv23\_client\_method());}
\DoxyCodeLine{3817 }
\DoxyCodeLine{3818   \mbox{\hyperlink{namespacehttplib_1_1detail_a371bab3d3c19d72d416526aed1baf852}{detail::split}}(\&\mbox{\hyperlink{classhttplib_1_1_client_a0c8a16687eb787016cd14d3b5adf9e41}{host\_}}[0], \&\mbox{\hyperlink{classhttplib_1_1_client_a0c8a16687eb787016cd14d3b5adf9e41}{host\_}}[\mbox{\hyperlink{classhttplib_1_1_client_a0c8a16687eb787016cd14d3b5adf9e41}{host\_}}.size()], \textcolor{charliteral}{'.'},}
\DoxyCodeLine{3819                 [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *b, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *e) \{}
\DoxyCodeLine{3820                   host\_components\_.emplace\_back(std::string(b, e));}
\DoxyCodeLine{3821                 \});}
\DoxyCodeLine{3822   \textcolor{keywordflow}{if} (client\_cert\_path \&\& client\_key\_path) \{}
\DoxyCodeLine{3823     \textcolor{keywordflow}{if} (SSL\_CTX\_use\_certificate\_file(ctx\_, client\_cert\_path,}
\DoxyCodeLine{3824                                      SSL\_FILETYPE\_PEM) != 1 ||}
\DoxyCodeLine{3825         SSL\_CTX\_use\_PrivateKey\_file(ctx\_, client\_key\_path, SSL\_FILETYPE\_PEM) !=}
\DoxyCodeLine{3826             1) \{}
\DoxyCodeLine{3827       SSL\_CTX\_free(ctx\_);}
\DoxyCodeLine{3828       ctx\_ = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3829     \}}
\DoxyCodeLine{3830   \}}
\DoxyCodeLine{3831 \}}
\DoxyCodeLine{3832 }
\DoxyCodeLine{3833 \textcolor{keyword}{inline} SSLClient::\string~SSLClient() \{}
\DoxyCodeLine{3834   \textcolor{keywordflow}{if} (ctx\_) \{ SSL\_CTX\_free(ctx\_); \}}
\DoxyCodeLine{3835 \}}
\DoxyCodeLine{3836 }
\DoxyCodeLine{3837 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} SSLClient::is\_valid()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} ctx\_; \}}
\DoxyCodeLine{3838 }
\DoxyCodeLine{3839 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} SSLClient::set\_ca\_cert\_path(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *ca\_cert\_file\_path,}
\DoxyCodeLine{3840                                         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *ca\_cert\_dir\_path) \{}
\DoxyCodeLine{3841   \textcolor{keywordflow}{if} (ca\_cert\_file\_path) \{ ca\_cert\_file\_path\_ = ca\_cert\_file\_path; \}}
\DoxyCodeLine{3842   \textcolor{keywordflow}{if} (ca\_cert\_dir\_path) \{ ca\_cert\_dir\_path\_ = ca\_cert\_dir\_path; \}}
\DoxyCodeLine{3843 \}}
\DoxyCodeLine{3844 }
\DoxyCodeLine{3845 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} SSLClient::enable\_server\_certificate\_verification(\textcolor{keywordtype}{bool} enabled) \{}
\DoxyCodeLine{3846   server\_certificate\_verification\_ = enabled;}
\DoxyCodeLine{3847 \}}
\DoxyCodeLine{3848 }
\DoxyCodeLine{3849 \textcolor{keyword}{inline} \textcolor{keywordtype}{long} SSLClient::get\_openssl\_verify\_result()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{3850   \textcolor{keywordflow}{return} verify\_result\_;}
\DoxyCodeLine{3851 \}}
\DoxyCodeLine{3852 }
\DoxyCodeLine{3853 \textcolor{keyword}{inline} SSL\_CTX *SSLClient::ssl\_context() const noexcept \{ \textcolor{keywordflow}{return} ctx\_; \}}
\DoxyCodeLine{3854 }
\DoxyCodeLine{3855 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacehttplib_1_1detail_af390a1c59ecd2abd50eecc0db9ffa23c}{SSLClient::process\_and\_close\_socket}}(}
\DoxyCodeLine{3856     \mbox{\hyperlink{httplib_8h_a84d69664998f9fc285147c6d1382a6fb}{socket\_t}} sock, \textcolor{keywordtype}{size\_t} request\_count,}
\DoxyCodeLine{3857     std::function<\textcolor{keywordtype}{bool}(Stream \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{3858                        \textcolor{keywordtype}{bool} \&connection\_close)>}
\DoxyCodeLine{3859         callback) \{}
\DoxyCodeLine{3860 }
\DoxyCodeLine{3861   request\_count = \mbox{\hyperlink{ldes_2fhog_8cpp_ac6afabdc09a49a433ee19d8a9486056d}{std::min}}(request\_count, keep\_alive\_max\_count\_);}
\DoxyCodeLine{3862 }
\DoxyCodeLine{3863   \textcolor{keywordflow}{return} is\_valid() \&\&}
\DoxyCodeLine{3864          detail::process\_and\_close\_socket\_ssl(}
\DoxyCodeLine{3865              \textcolor{keyword}{true}, sock, request\_count, read\_timeout\_sec\_, read\_timeout\_usec\_,}
\DoxyCodeLine{3866              ctx\_, ctx\_mutex\_,}
\DoxyCodeLine{3867              [\&](SSL *ssl) \{}
\DoxyCodeLine{3868                \textcolor{keywordflow}{if} (ca\_cert\_file\_path\_.empty()) \{}
\DoxyCodeLine{3869                  SSL\_CTX\_set\_verify(ctx\_, SSL\_VERIFY\_NONE, nullptr);}
\DoxyCodeLine{3870                \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3871                  if (!SSL\_CTX\_load\_verify\_locations(}
\DoxyCodeLine{3872                          ctx\_, ca\_cert\_file\_path\_.c\_str(), nullptr)) \{}
\DoxyCodeLine{3873                    return false;}
\DoxyCodeLine{3874                  \}}
\DoxyCodeLine{3875                  SSL\_CTX\_set\_verify(ctx\_, SSL\_VERIFY\_PEER, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{3876                \}}
\DoxyCodeLine{3877 }
\DoxyCodeLine{3878                \textcolor{keywordflow}{if} (SSL\_connect(ssl) != 1) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3879 }
\DoxyCodeLine{3880                \textcolor{keywordflow}{if} (server\_certificate\_verification\_) \{}
\DoxyCodeLine{3881                  verify\_result\_ = SSL\_get\_verify\_result(ssl);}
\DoxyCodeLine{3882 }
\DoxyCodeLine{3883                  \textcolor{keywordflow}{if} (verify\_result\_ != X509\_V\_OK) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3884 }
\DoxyCodeLine{3885                  \textcolor{keyword}{auto} server\_cert = SSL\_get\_peer\_certificate(ssl);}
\DoxyCodeLine{3886 }
\DoxyCodeLine{3887                  \textcolor{keywordflow}{if} (server\_cert == \textcolor{keyword}{nullptr}) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{3888 }
\DoxyCodeLine{3889                  \textcolor{keywordflow}{if} (!verify\_host(server\_cert)) \{}
\DoxyCodeLine{3890                    X509\_free(server\_cert);}
\DoxyCodeLine{3891                    \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3892                  \}}
\DoxyCodeLine{3893                  X509\_free(server\_cert);}
\DoxyCodeLine{3894                \}}
\DoxyCodeLine{3895 }
\DoxyCodeLine{3896                \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3897              \},}
\DoxyCodeLine{3898              [\&](SSL *ssl) \{}
\DoxyCodeLine{3899                SSL\_set\_tlsext\_host\_name(ssl, host\_.c\_str());}
\DoxyCodeLine{3900                \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3901              \},}
\DoxyCodeLine{3902              [\&](SSL * \textcolor{comment}{/*ssl*/}, Stream \&strm, \textcolor{keywordtype}{bool} last\_connection,}
\DoxyCodeLine{3903                  \textcolor{keywordtype}{bool} \&connection\_close) \{}
\DoxyCodeLine{3904                \textcolor{keywordflow}{return} callback(strm, last\_connection, connection\_close);}
\DoxyCodeLine{3905              \});}
\DoxyCodeLine{3906 \}}
\DoxyCodeLine{3907 }
\DoxyCodeLine{3908 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} SSLClient::is\_ssl()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{3909 }
\DoxyCodeLine{3910 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} SSLClient::verify\_host(X509 *server\_cert)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{3911   \textcolor{comment}{/* Quote from RFC2818 section 3.1 "{}Server Identity"{}}}
\DoxyCodeLine{3912 \textcolor{comment}{}}
\DoxyCodeLine{3913 \textcolor{comment}{     If a subjectAltName extension of type dNSName is present, that MUST}}
\DoxyCodeLine{3914 \textcolor{comment}{     be used as the identity. Otherwise, the (most specific) Common Name}}
\DoxyCodeLine{3915 \textcolor{comment}{     field in the Subject field of the certificate MUST be used. Although}}
\DoxyCodeLine{3916 \textcolor{comment}{     the use of the Common Name is existing practice, it is deprecated and}}
\DoxyCodeLine{3917 \textcolor{comment}{     Certification Authorities are encouraged to use the dNSName instead.}}
\DoxyCodeLine{3918 \textcolor{comment}{}}
\DoxyCodeLine{3919 \textcolor{comment}{     Matching is performed using the matching rules specified by}}
\DoxyCodeLine{3920 \textcolor{comment}{     [RFC2459].  If more than one identity of a given type is present in}}
\DoxyCodeLine{3921 \textcolor{comment}{     the certificate (e.g., more than one dNSName name, a match in any one}}
\DoxyCodeLine{3922 \textcolor{comment}{     of the set is considered acceptable.) Names may contain the wildcard}}
\DoxyCodeLine{3923 \textcolor{comment}{     character * which is considered to match any single domain name}}
\DoxyCodeLine{3924 \textcolor{comment}{     component or component fragment. E.g., *.a.com matches foo.a.com but}}
\DoxyCodeLine{3925 \textcolor{comment}{     not bar.foo.a.com. f*.com matches foo.com but not bar.com.}}
\DoxyCodeLine{3926 \textcolor{comment}{}}
\DoxyCodeLine{3927 \textcolor{comment}{     In some cases, the URI is specified as an IP address rather than a}}
\DoxyCodeLine{3928 \textcolor{comment}{     hostname. In this case, the iPAddress subjectAltName must be present}}
\DoxyCodeLine{3929 \textcolor{comment}{     in the certificate and must exactly match the IP in the URI.}}
\DoxyCodeLine{3930 \textcolor{comment}{}}
\DoxyCodeLine{3931 \textcolor{comment}{  */}}
\DoxyCodeLine{3932   \textcolor{keywordflow}{return} verify\_host\_with\_subject\_alt\_name(server\_cert) ||}
\DoxyCodeLine{3933          verify\_host\_with\_common\_name(server\_cert);}
\DoxyCodeLine{3934 \}}
\DoxyCodeLine{3935 }
\DoxyCodeLine{3936 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool}}
\DoxyCodeLine{3937 SSLClient::verify\_host\_with\_subject\_alt\_name(X509 *server\_cert)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{3938   \textcolor{keyword}{auto} ret = \textcolor{keyword}{false};}
\DoxyCodeLine{3939 }
\DoxyCodeLine{3940   \textcolor{keyword}{auto} type = GEN\_DNS;}
\DoxyCodeLine{3941 }
\DoxyCodeLine{3942   \textcolor{keyword}{struct }in6\_addr addr6;}
\DoxyCodeLine{3943   \textcolor{keyword}{struct }in\_addr addr;}
\DoxyCodeLine{3944   \textcolor{keywordtype}{size\_t} addr\_len = 0;}
\DoxyCodeLine{3945 }
\DoxyCodeLine{3946 \textcolor{preprocessor}{\#ifndef \_\_MINGW32\_\_}}
\DoxyCodeLine{3947   \textcolor{keywordflow}{if} (inet\_pton(AF\_INET6, host\_.c\_str(), \&addr6)) \{}
\DoxyCodeLine{3948     type = GEN\_IPADD;}
\DoxyCodeLine{3949     addr\_len = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }in6\_addr);}
\DoxyCodeLine{3950   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inet\_pton(AF\_INET, host\_.c\_str(), \&addr)) \{}
\DoxyCodeLine{3951     type = GEN\_IPADD;}
\DoxyCodeLine{3952     addr\_len = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }in\_addr);}
\DoxyCodeLine{3953   \}}
\DoxyCodeLine{3954 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3955 }
\DoxyCodeLine{3956   \textcolor{keyword}{auto} alt\_names = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }struct stack\_st\_GENERAL\_NAME *\textcolor{keyword}{>}(}
\DoxyCodeLine{3957       X509\_get\_ext\_d2i(server\_cert, NID\_subject\_alt\_name, \textcolor{keyword}{nullptr}, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{3958 }
\DoxyCodeLine{3959   \textcolor{keywordflow}{if} (alt\_names) \{}
\DoxyCodeLine{3960     \textcolor{keyword}{auto} dsn\_matched = \textcolor{keyword}{false};}
\DoxyCodeLine{3961     \textcolor{keyword}{auto} ip\_mached = \textcolor{keyword}{false};}
\DoxyCodeLine{3962 }
\DoxyCodeLine{3963     \textcolor{keyword}{auto} count = sk\_GENERAL\_NAME\_num(alt\_names);}
\DoxyCodeLine{3964 }
\DoxyCodeLine{3965     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i = 0; i < count \&\& !dsn\_matched; i++) \{}
\DoxyCodeLine{3966       \textcolor{keyword}{auto} val = sk\_GENERAL\_NAME\_value(alt\_names, i);}
\DoxyCodeLine{3967       \textcolor{keywordflow}{if} (val-\/>type == type) \{}
\DoxyCodeLine{3968         \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)ASN1\_STRING\_get0\_data(val-\/>d.ia5);}
\DoxyCodeLine{3969         \textcolor{keyword}{auto} name\_len = (\mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}})ASN1\_STRING\_length(val-\/>d.ia5);}
\DoxyCodeLine{3970 }
\DoxyCodeLine{3971         \textcolor{keywordflow}{if} (strlen(\mbox{\hyperlink{structname}{name}}) == name\_len) \{}
\DoxyCodeLine{3972           \textcolor{keywordflow}{switch} (type) \{}
\DoxyCodeLine{3973           \textcolor{keywordflow}{case} GEN\_DNS: dsn\_matched = check\_host\_name(\mbox{\hyperlink{structname}{name}}, name\_len); \textcolor{keywordflow}{break};}
\DoxyCodeLine{3974 }
\DoxyCodeLine{3975           \textcolor{keywordflow}{case} GEN\_IPADD:}
\DoxyCodeLine{3976             \textcolor{keywordflow}{if} (!memcmp(\&addr6, \mbox{\hyperlink{structname}{name}}, addr\_len) ||}
\DoxyCodeLine{3977                 !memcmp(\&addr, \mbox{\hyperlink{structname}{name}}, addr\_len)) \{}
\DoxyCodeLine{3978               ip\_mached = \textcolor{keyword}{true};}
\DoxyCodeLine{3979             \}}
\DoxyCodeLine{3980             \textcolor{keywordflow}{break};}
\DoxyCodeLine{3981           \}}
\DoxyCodeLine{3982         \}}
\DoxyCodeLine{3983       \}}
\DoxyCodeLine{3984     \}}
\DoxyCodeLine{3985 }
\DoxyCodeLine{3986     \textcolor{keywordflow}{if} (dsn\_matched || ip\_mached) \{ ret = \textcolor{keyword}{true}; \}}
\DoxyCodeLine{3987   \}}
\DoxyCodeLine{3988 }
\DoxyCodeLine{3989   GENERAL\_NAMES\_free((STACK\_OF(GENERAL\_NAME) *)alt\_names);}
\DoxyCodeLine{3990 }
\DoxyCodeLine{3991   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{3992 \}}
\DoxyCodeLine{3993 }
\DoxyCodeLine{3994 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} SSLClient::verify\_host\_with\_common\_name(X509 *server\_cert)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{3995   \textcolor{keyword}{const} \textcolor{keyword}{auto} subject\_name = X509\_get\_subject\_name(server\_cert);}
\DoxyCodeLine{3996 }
\DoxyCodeLine{3997   \textcolor{keywordflow}{if} (subject\_name != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{3998     \textcolor{keywordtype}{char} \mbox{\hyperlink{structname}{name}}[BUFSIZ];}
\DoxyCodeLine{3999     \textcolor{keyword}{auto} name\_len = X509\_NAME\_get\_text\_by\_NID(subject\_name, NID\_commonName,}
\DoxyCodeLine{4000                                               \mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structname}{name}}));}
\DoxyCodeLine{4001 }
\DoxyCodeLine{4002     \textcolor{keywordflow}{if} (name\_len != -\/1) \{ \textcolor{keywordflow}{return} check\_host\_name(\mbox{\hyperlink{structname}{name}}, name\_len); \}}
\DoxyCodeLine{4003   \}}
\DoxyCodeLine{4004 }
\DoxyCodeLine{4005   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{4006 \}}
\DoxyCodeLine{4007 }
\DoxyCodeLine{4008 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} SSLClient::check\_host\_name(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *pattern,}
\DoxyCodeLine{4009                                        \textcolor{keywordtype}{size\_t} pattern\_len)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{4010   \textcolor{keywordflow}{if} (host\_.size() == pattern\_len \&\& host\_ == pattern) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}
\DoxyCodeLine{4011 }
\DoxyCodeLine{4012   \textcolor{comment}{// Wildcard match}}
\DoxyCodeLine{4013   \textcolor{comment}{// https://bugs.launchpad.net/ubuntu/+source/firefox-\/3.0/+bug/376484}}
\DoxyCodeLine{4014   std::vector<std::string> pattern\_components;}
\DoxyCodeLine{4015   \mbox{\hyperlink{namespacehttplib_1_1detail_a371bab3d3c19d72d416526aed1baf852}{detail::split}}(\&pattern[0], \&pattern[pattern\_len], \textcolor{charliteral}{'.'},}
\DoxyCodeLine{4016                 [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char} *b, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *e) \{}
\DoxyCodeLine{4017                   pattern\_components.emplace\_back(std::string(b, e));}
\DoxyCodeLine{4018                 \});}
\DoxyCodeLine{4019 }
\DoxyCodeLine{4020   \textcolor{keywordflow}{if} (host\_components\_.size() != pattern\_components.size()) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{4021 }
\DoxyCodeLine{4022   \textcolor{keyword}{auto} itr = pattern\_components.begin();}
\DoxyCodeLine{4023   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&h : host\_components\_) \{}
\DoxyCodeLine{4024     \textcolor{keyword}{auto} \&p = *itr;}
\DoxyCodeLine{4025     \textcolor{keywordflow}{if} (p != h \&\& p != \textcolor{stringliteral}{"{}*"{}}) \{}
\DoxyCodeLine{4026       \textcolor{keyword}{auto} partial\_match = (p.size() > 0 \&\& p[p.size() -\/ 1] == \textcolor{charliteral}{'*'} \&\&}
\DoxyCodeLine{4027                             !p.compare(0, p.size() -\/ 1, h));}
\DoxyCodeLine{4028       \textcolor{keywordflow}{if} (!partial\_match) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}
\DoxyCodeLine{4029     \}}
\DoxyCodeLine{4030     ++itr;}
\DoxyCodeLine{4031   \}}
\DoxyCodeLine{4032 }
\DoxyCodeLine{4033   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{4034 \}}
\DoxyCodeLine{4035 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{4036 }
\DoxyCodeLine{4037 \} \textcolor{comment}{// namespace httplib}}
\DoxyCodeLine{4038 }
\DoxyCodeLine{4039 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// CPPHTTPLIB\_HTTPLIB\_H}}

\end{DoxyCode}
