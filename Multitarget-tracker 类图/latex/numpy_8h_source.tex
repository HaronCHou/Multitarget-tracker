\hypertarget{numpy_8h_source}{}\doxysection{numpy.\+h}
\label{numpy_8h_source}\index{D:/zhr\_files/Multitarget-\/tracker-\/master/thirdparty/pybind11/include/pybind11/numpy.h@{D:/zhr\_files/Multitarget-\/tracker-\/master/thirdparty/pybind11/include/pybind11/numpy.h}}
\mbox{\hyperlink{numpy_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{    pybind11/numpy.h: Basic NumPy support, vectorize() wrapper}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{    Copyright (c) 2016 Wenzel Jakob <wenzel.jakob@epfl.ch>}}
\DoxyCodeLine{5 \textcolor{comment}{}}
\DoxyCodeLine{6 \textcolor{comment}{    All rights reserved. Use of this source code is governed by a}}
\DoxyCodeLine{7 \textcolor{comment}{    BSD-\/style license that can be found in the LICENSE file.}}
\DoxyCodeLine{8 \textcolor{comment}{*/}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{pybind11_8h}{pybind11.h}}"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{complex_8h}{complex.h}}"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <numeric>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <array>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <cstdint>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <cstdlib>}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include <typeindex>}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#if defined(\_MSC\_VER)}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#  pragma warning(push)}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#  pragma warning(disable: 4127) }\textcolor{comment}{// warning C4127: Conditional expression is constant}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{comment}{/* This will be true on all flat address space platforms and allows us to reduce the}}
\DoxyCodeLine{33 \textcolor{comment}{   whole npy\_intp / ssize\_t / Py\_intptr\_t business down to just ssize\_t for all size}}
\DoxyCodeLine{34 \textcolor{comment}{   and dimension types (e.g. shape, strides, indexing), instead of inflicting this}}
\DoxyCodeLine{35 \textcolor{comment}{   upon the library user. */}}
\DoxyCodeLine{36 \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) == \textcolor{keyword}{sizeof}(Py\_intptr\_t), \textcolor{stringliteral}{"{}ssize\_t != Py\_intptr\_t"{}});}
\DoxyCodeLine{37 }
\DoxyCodeLine{38 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(\mbox{\hyperlink{detail_2common_8h_a0d3c06cceaa89be29b71719a825444c6}{PYBIND11\_NAMESPACE}})}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{keyword}{class }\mbox{\hyperlink{classarray}{array}}; \textcolor{comment}{// Forward declaration}}
\DoxyCodeLine{41 }
\DoxyCodeLine{42 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{43 \textcolor{keyword}{template} <\textcolor{keyword}{typename} type, \textcolor{keyword}{typename} SFINAE = \textcolor{keywordtype}{void}> \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_py_array_descr___proxy}{PyArrayDescr\_Proxy}} \{}
\DoxyCodeLine{46     PyObject\_HEAD}
\DoxyCodeLine{47     PyObject *\mbox{\hyperlink{struct_py_array_descr___proxy_aa8fe65eb0a7bfd03529b30482650b14d}{typeobj}};}
\DoxyCodeLine{48     \textcolor{keywordtype}{char} \mbox{\hyperlink{struct_py_array_descr___proxy_a12763536bf0fd9623822ceb0c5a7ef90}{kind}};}
\DoxyCodeLine{49     \textcolor{keywordtype}{char} \mbox{\hyperlink{struct_py_array_descr___proxy_ac63d5c71249d3f1bbeb7d46d8827a431}{type}};}
\DoxyCodeLine{50     \textcolor{keywordtype}{char} \mbox{\hyperlink{struct_py_array_descr___proxy_a61509a48a2ab8f68306c5be3dce5cd96}{byteorder}};}
\DoxyCodeLine{51     \textcolor{keywordtype}{char} \mbox{\hyperlink{struct_py_array_descr___proxy_abc82aea571609f0e5c793aeac8293dd9}{flags}};}
\DoxyCodeLine{52     \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_py_array_descr___proxy_a5af00ff8ffab1568bc306598d57a09c9}{type\_num}};}
\DoxyCodeLine{53     \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_py_array_descr___proxy_af950ea270c0619c6fbe3ae3681a8f3fb}{elsize}};}
\DoxyCodeLine{54     \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_py_array_descr___proxy_a24f40a021070dcf283b52da41f3b8df5}{alignment}};}
\DoxyCodeLine{55     \textcolor{keywordtype}{char} *\mbox{\hyperlink{struct_py_array_descr___proxy_aea35d52346fc71b7ebf7878a8d4bcbbb}{subarray}};}
\DoxyCodeLine{56     PyObject *\mbox{\hyperlink{struct_py_array_descr___proxy_a6ed2bfc50a13cc581a35332713057f2d}{fields}};}
\DoxyCodeLine{57     PyObject *\mbox{\hyperlink{struct_py_array_descr___proxy_a3575d3dba3b5524e7ebf546ea0119213}{names}};}
\DoxyCodeLine{58 \};}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_py_array___proxy}{PyArray\_Proxy}} \{}
\DoxyCodeLine{61     PyObject\_HEAD}
\DoxyCodeLine{62     \textcolor{keywordtype}{char} *\mbox{\hyperlink{struct_py_array___proxy_ad09936736edcfb5eae60e35bdc56e21d}{data}};}
\DoxyCodeLine{63     \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_py_array___proxy_ae92334a4a5bfa2f9aed55a51857d74d3}{nd}};}
\DoxyCodeLine{64     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *\mbox{\hyperlink{struct_py_array___proxy_aaa6b3bbe3a72225a728f4d3af9ce828a}{dimensions}};}
\DoxyCodeLine{65     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *\mbox{\hyperlink{struct_py_array___proxy_a7519a8fe4dd43c5de7ee7d8d271e97c8}{strides}};}
\DoxyCodeLine{66     PyObject *\mbox{\hyperlink{struct_py_array___proxy_a4548e6ce724dda680cec7749e3ae6630}{base}};}
\DoxyCodeLine{67     PyObject *\mbox{\hyperlink{struct_py_array___proxy_a61adbd0c265ff6e68f5d38d977179f2a}{descr}};}
\DoxyCodeLine{68     \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_py_array___proxy_a3eb84eade4ac85d3964c89b9b8a8645b}{flags}};}
\DoxyCodeLine{69 \};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{keyword}{struct }\mbox{\hyperlink{struct_py_void_scalar_object___proxy}{PyVoidScalarObject\_Proxy}} \{}
\DoxyCodeLine{72     PyObject\_VAR\_HEAD}
\DoxyCodeLine{73     \textcolor{keywordtype}{char} *\mbox{\hyperlink{struct_py_void_scalar_object___proxy_a546b291985bc240b6cbe49bec86f8f63}{obval}};}
\DoxyCodeLine{74     \mbox{\hyperlink{struct_py_array_descr___proxy}{PyArrayDescr\_Proxy}} *\mbox{\hyperlink{struct_py_void_scalar_object___proxy_a6e3851062e08d8c71a2c6f5439a595f4}{descr}};}
\DoxyCodeLine{75     \textcolor{keywordtype}{int} \mbox{\hyperlink{struct_py_void_scalar_object___proxy_ab6e25ceec2dd6abd59c6f179951266d6}{flags}};}
\DoxyCodeLine{76     PyObject *\mbox{\hyperlink{struct_py_void_scalar_object___proxy_a5d0fc4a93b91802a12dc3b5e19a67c48}{base}};}
\DoxyCodeLine{77 \};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 \textcolor{keyword}{struct }\mbox{\hyperlink{structnumpy__type__info}{numpy\_type\_info}} \{}
\DoxyCodeLine{80     PyObject* \mbox{\hyperlink{structnumpy__type__info_ad46eb783dd69c5a6d8e8bfa187080621}{dtype\_ptr}};}
\DoxyCodeLine{81     std::string \mbox{\hyperlink{structnumpy__type__info_aeabd460f2da4bbe16f683b6f302781b1}{format\_str}};}
\DoxyCodeLine{82 \};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84 \textcolor{keyword}{struct }\mbox{\hyperlink{structnumpy__internals}{numpy\_internals}} \{}
\DoxyCodeLine{85     std::unordered\_map<std::type\_index, numpy\_type\_info> \mbox{\hyperlink{structnumpy__internals_aa842b07421e15ccd48ea036955fc84f4}{registered\_dtypes}};}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \mbox{\hyperlink{structnumpy__type__info}{numpy\_type\_info}} *\mbox{\hyperlink{structnumpy__internals_aa0760d738f411ef24f5807d7efe9df75}{get\_type\_info}}(\textcolor{keyword}{const} std::type\_info\& tinfo, \textcolor{keywordtype}{bool} throw\_if\_missing = \textcolor{keyword}{true}) \{}
\DoxyCodeLine{88         \textcolor{keyword}{auto} it = \mbox{\hyperlink{structnumpy__internals_aa842b07421e15ccd48ea036955fc84f4}{registered\_dtypes}}.find(std::type\_index(tinfo));}
\DoxyCodeLine{89         \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{structnumpy__internals_aa842b07421e15ccd48ea036955fc84f4}{registered\_dtypes}}.end())}
\DoxyCodeLine{90             \textcolor{keywordflow}{return} \&(it-\/>second);}
\DoxyCodeLine{91         \textcolor{keywordflow}{if} (throw\_if\_missing)}
\DoxyCodeLine{92             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(std::string(\textcolor{stringliteral}{"{}NumPy type info missing for "{}}) + tinfo.name());}
\DoxyCodeLine{93         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{94     \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T> \mbox{\hyperlink{structnumpy__type__info}{numpy\_type\_info}} *\mbox{\hyperlink{structnumpy__internals_a3070b8f67dd75767f1b253f3f89c9747}{get\_type\_info}}(\textcolor{keywordtype}{bool} throw\_if\_missing = \textcolor{keyword}{true}) \{}
\DoxyCodeLine{97         \textcolor{keywordflow}{return} \mbox{\hyperlink{structnumpy__internals_aa0760d738f411ef24f5807d7efe9df75}{get\_type\_info}}(\textcolor{keyword}{typeid}(\textcolor{keyword}{typename} std::remove\_cv<T>::type), throw\_if\_missing);}
\DoxyCodeLine{98     \}}
\DoxyCodeLine{99 \};}
\DoxyCodeLine{100 }
\DoxyCodeLine{101 \textcolor{keyword}{inline} \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} \mbox{\hyperlink{numpy_8h_ac533ffb15ed7e8bef7c1a136fd6ca0fb}{load\_numpy\_internals}}(\mbox{\hyperlink{structnumpy__internals}{numpy\_internals}}* \&ptr) \{}
\DoxyCodeLine{102     ptr = \&get\_or\_create\_shared\_data<numpy\_internals>(\textcolor{stringliteral}{"{}\_numpy\_internals"{}});}
\DoxyCodeLine{103 \}}
\DoxyCodeLine{104 }
\DoxyCodeLine{105 \textcolor{keyword}{inline} \mbox{\hyperlink{structnumpy__internals}{numpy\_internals}}\& \mbox{\hyperlink{numpy_8h_a6edede565331324ca78d34ca91a6d122}{get\_numpy\_internals}}() \{}
\DoxyCodeLine{106     \textcolor{keyword}{static} \mbox{\hyperlink{structnumpy__internals}{numpy\_internals}}* ptr = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{107     \textcolor{keywordflow}{if} (!ptr)}
\DoxyCodeLine{108         \mbox{\hyperlink{numpy_8h_ac533ffb15ed7e8bef7c1a136fd6ca0fb}{load\_numpy\_internals}}(ptr);}
\DoxyCodeLine{109     \textcolor{keywordflow}{return} *ptr;}
\DoxyCodeLine{110 \}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structsame__size}{same\_size}} \{}
\DoxyCodeLine{113     \textcolor{keyword}{template} <\textcolor{keyword}{typename} U> \textcolor{keyword}{using} \mbox{\hyperlink{structsame__size_a09f3dd8ec38e79664d47baf2c97b812e}{as}} = \mbox{\hyperlink{detail_2common_8h_a0d337b508cc2fb5a92d8e72db201e53b}{bool\_constant}}<\textcolor{keyword}{sizeof}(T) == \textcolor{keyword}{sizeof}(U)>;}
\DoxyCodeLine{114 \};}
\DoxyCodeLine{115 }
\DoxyCodeLine{116 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Concrete> \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} \mbox{\hyperlink{numpy_8h_ade6fd2280f97879c2a4fc1e777b87a4e}{platform\_lookup}}() \{ \textcolor{keywordflow}{return} -\/1; \}}
\DoxyCodeLine{117 }
\DoxyCodeLine{118 \textcolor{comment}{// Lookup a type according to its size, and return a value corresponding to the NumPy typenum.}}
\DoxyCodeLine{119 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Concrete, \textcolor{keyword}{typename} T, \textcolor{keyword}{typename}... Ts, \textcolor{keyword}{typename}... Ints>}
\DoxyCodeLine{120 \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} \mbox{\hyperlink{numpy_8h_ade6fd2280f97879c2a4fc1e777b87a4e}{platform\_lookup}}(\textcolor{keywordtype}{int} I, Ints... Is) \{}
\DoxyCodeLine{121     \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(Concrete) == \textcolor{keyword}{sizeof}(T) ? I : \mbox{\hyperlink{numpy_8h_ade6fd2280f97879c2a4fc1e777b87a4e}{platform\_lookup}}<Concrete, Ts...>(Is...);}
\DoxyCodeLine{122 \}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__api}{npy\_api}} \{}
\DoxyCodeLine{125     \textcolor{keyword}{enum} \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9}{constants}} \{}
\DoxyCodeLine{126         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a170e51546deca56b75e35561a2200f2e}{NPY\_ARRAY\_C\_CONTIGUOUS\_}} = 0x0001,}
\DoxyCodeLine{127         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7b11d6dba43dfacba9f2bb31218dc4bf}{NPY\_ARRAY\_F\_CONTIGUOUS\_}} = 0x0002,}
\DoxyCodeLine{128         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a1d2575092c17e53807b4fce0a937fd2d}{NPY\_ARRAY\_OWNDATA\_}} = 0x0004,}
\DoxyCodeLine{129         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a4cb1ee9e8edecec35d52b50e55f21b56}{NPY\_ARRAY\_FORCECAST\_}} = 0x0010,}
\DoxyCodeLine{130         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aa98a98acb0b0fb0b7f9bd8d0b00cbc9b}{NPY\_ARRAY\_ENSUREARRAY\_}} = 0x0040,}
\DoxyCodeLine{131         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a079aadab6cba0738f51754ade72180b7}{NPY\_ARRAY\_ALIGNED\_}} = 0x0100,}
\DoxyCodeLine{132         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a6d7679437ff22ffaa63276ed07f3be99}{NPY\_ARRAY\_WRITEABLE\_}} = 0x0400,}
\DoxyCodeLine{133         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7b75818adcb4c286c09d0611c4136312}{NPY\_BOOL\_}} = 0,}
\DoxyCodeLine{134         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a0d21a6802542c14292fb55e5d13dcaf7}{NPY\_BYTE\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a33bd1daf2cee4eac13a71155e374b17a}{NPY\_UBYTE\_}},}
\DoxyCodeLine{135         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a2caf791c87f18c293e03963eed0909ef}{NPY\_SHORT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aad478c8cce9824888bd9938d048a4a81}{NPY\_USHORT\_}},}
\DoxyCodeLine{136         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a299ec9c0fa5042ffe924c699d9c69a96}{NPY\_INT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a798fead63316ab008c7e73529bd52143}{NPY\_UINT\_}},}
\DoxyCodeLine{137         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aa294b7951c8cb0e2c8a00aa369e7932b}{NPY\_LONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9afaa6e2051b69a27df947eb2dec25824d}{NPY\_ULONG\_}},}
\DoxyCodeLine{138         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a950a284ce3a919bab01bd699874cf547}{NPY\_LONGLONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a75b13d5795c66c0dc1478dce160ff20b}{NPY\_ULONGLONG\_}},}
\DoxyCodeLine{139         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7308ad9516a9a2e38b86f9cec8ae12c0}{NPY\_FLOAT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7d30fb8ebd690f8abf041ac66a6ce548}{NPY\_DOUBLE\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a0039597c9aefc43a2d6f50038a055d92}{NPY\_LONGDOUBLE\_}},}
\DoxyCodeLine{140         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9af17bc31bac8c717ad29f13a1a14e0522}{NPY\_CFLOAT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a5f36a2568bdb0e8e710d35105e205ccf}{NPY\_CDOUBLE\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a62a0d7624d7c1a30f1f3f1d77f685844}{NPY\_CLONGDOUBLE\_}},}
\DoxyCodeLine{141         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a76b5e27648b092993295bd54e4fc26fc}{NPY\_OBJECT\_}} = 17,}
\DoxyCodeLine{142         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a3a2b00922187bc2c7ac24694efe8aee9}{NPY\_STRING\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9ac96ae518aa4eb676803c38c9ad9f5f2a}{NPY\_UNICODE\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aa537b91d1bd46786ba85ba704274f801}{NPY\_VOID\_}},}
\DoxyCodeLine{143         \textcolor{comment}{// Platform-\/dependent normalization}}
\DoxyCodeLine{144         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a03a8f7792891d785698dcc56b00d1111}{NPY\_INT8\_}} = \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a0d21a6802542c14292fb55e5d13dcaf7}{NPY\_BYTE\_}},}
\DoxyCodeLine{145         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a07793ec04641dc9fd7f899ade5ec6641}{NPY\_UINT8\_}} = \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a33bd1daf2cee4eac13a71155e374b17a}{NPY\_UBYTE\_}},}
\DoxyCodeLine{146         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a2e9a159bf14e844171a42f61439dcea4}{NPY\_INT16\_}} = \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a2caf791c87f18c293e03963eed0909ef}{NPY\_SHORT\_}},}
\DoxyCodeLine{147         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a322a7f1597803e8c63a92e88d029de89}{NPY\_UINT16\_}} = \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aad478c8cce9824888bd9938d048a4a81}{NPY\_USHORT\_}},}
\DoxyCodeLine{148         \textcolor{comment}{// `npy\_common.h` defines the integer aliases. In order, it checks:}}
\DoxyCodeLine{149         \textcolor{comment}{// NPY\_BITSOF\_LONG, NPY\_BITSOF\_LONGLONG, NPY\_BITSOF\_INT, NPY\_BITSOF\_SHORT, NPY\_BITSOF\_CHAR}}
\DoxyCodeLine{150         \textcolor{comment}{// and assigns the alias to the first matching size, so we should check in this order.}}
\DoxyCodeLine{151         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a434680f7373e324fb17122315d3af290}{NPY\_INT32\_}} = platform\_lookup<std::int32\_t, long, int, short>(}
\DoxyCodeLine{152             \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aa294b7951c8cb0e2c8a00aa369e7932b}{NPY\_LONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a299ec9c0fa5042ffe924c699d9c69a96}{NPY\_INT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a2caf791c87f18c293e03963eed0909ef}{NPY\_SHORT\_}}),}
\DoxyCodeLine{153         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aca6f931706e09c1908adb18c4df95f05}{NPY\_UINT32\_}} = platform\_lookup<std::uint32\_t, unsigned long, unsigned int, unsigned short>(}
\DoxyCodeLine{154             \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9afaa6e2051b69a27df947eb2dec25824d}{NPY\_ULONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a798fead63316ab008c7e73529bd52143}{NPY\_UINT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aad478c8cce9824888bd9938d048a4a81}{NPY\_USHORT\_}}),}
\DoxyCodeLine{155         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a1f36a8977516eb5460d7373852c9ba31}{NPY\_INT64\_}} = platform\_lookup<std::int64\_t, long, long long, int>(}
\DoxyCodeLine{156             \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aa294b7951c8cb0e2c8a00aa369e7932b}{NPY\_LONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a950a284ce3a919bab01bd699874cf547}{NPY\_LONGLONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a299ec9c0fa5042ffe924c699d9c69a96}{NPY\_INT\_}}),}
\DoxyCodeLine{157         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a6666d63b5c42ea62225344bc66366c0c}{NPY\_UINT64\_}} = platform\_lookup<std::uint64\_t, unsigned long, unsigned long long, unsigned int>(}
\DoxyCodeLine{158             \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9afaa6e2051b69a27df947eb2dec25824d}{NPY\_ULONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a75b13d5795c66c0dc1478dce160ff20b}{NPY\_ULONGLONG\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a798fead63316ab008c7e73529bd52143}{NPY\_UINT\_}}),}
\DoxyCodeLine{159     \};}
\DoxyCodeLine{160 }
\DoxyCodeLine{161     \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{162         Py\_intptr\_t *\mbox{\hyperlink{structnpy__api_1_1_py_array___dims_a92da178f75f6195573be943e4ae19aba}{ptr}};}
\DoxyCodeLine{163         \textcolor{keywordtype}{int} \mbox{\hyperlink{structnpy__api_1_1_py_array___dims_a5ac8498e3a21e91b70c1e4740247e7ff}{len}};}
\DoxyCodeLine{164     \} \mbox{\hyperlink{structnpy__api_1_1_py_array___dims}{PyArray\_Dims}};}
\DoxyCodeLine{165 }
\DoxyCodeLine{166     \textcolor{keyword}{static} \mbox{\hyperlink{structnpy__api}{npy\_api}}\& \mbox{\hyperlink{structnpy__api_aa680c124450310a5060d0b2605a983dd}{get}}() \{}
\DoxyCodeLine{167         \textcolor{keyword}{static} \mbox{\hyperlink{structnpy__api}{npy\_api}} api = \mbox{\hyperlink{structnpy__api_aae8f9c27e22cd7581a6bc22edcd9f7eb}{lookup}}();}
\DoxyCodeLine{168         \textcolor{keywordflow}{return} api;}
\DoxyCodeLine{169     \}}
\DoxyCodeLine{170 }
\DoxyCodeLine{171     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structnpy__api_afc42a9db9fecb476cd2902665a64f891}{PyArray\_Check\_}}(PyObject *obj)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{172         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{bool}) PyObject\_TypeCheck(obj, \mbox{\hyperlink{structnpy__api_a90606f7c6be32c8206dc496d8925d984}{PyArray\_Type\_}});}
\DoxyCodeLine{173     \}}
\DoxyCodeLine{174     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structnpy__api_aadb8a33f970e864d5cefbc6f033d5d71}{PyArrayDescr\_Check\_}}(PyObject *obj)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{175         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{bool}) PyObject\_TypeCheck(obj, \mbox{\hyperlink{structnpy__api_a098d32c95003331ae8cf6c968163153a}{PyArrayDescr\_Type\_}});}
\DoxyCodeLine{176     \}}
\DoxyCodeLine{177 }
\DoxyCodeLine{178     \textcolor{keywordtype}{unsigned} int (*\mbox{\hyperlink{structnpy__api_ab40ac29b4dd4d4b3ff26fca367190a0d}{PyArray\_GetNDArrayCFeatureVersion\_}})();}
\DoxyCodeLine{179     PyObject *(*PyArray\_DescrFromType\_)(int);}
\DoxyCodeLine{180     PyObject *(*PyArray\_NewFromDescr\_)}
\DoxyCodeLine{181         (PyTypeObject *, PyObject *, int, Py\_intptr\_t *,}
\DoxyCodeLine{182          Py\_intptr\_t *, \textcolor{keywordtype}{void} *, int, PyObject *);}
\DoxyCodeLine{183     PyObject *(*PyArray\_DescrNewFromType\_)(int);}
\DoxyCodeLine{184     int (*\mbox{\hyperlink{structnpy__api_a7d5205f195d633125051fe3ade860062}{PyArray\_CopyInto\_}})(PyObject *, PyObject *);}
\DoxyCodeLine{185     PyObject *(*PyArray\_NewCopy\_)(PyObject *, int);}
\DoxyCodeLine{186     PyTypeObject *\mbox{\hyperlink{structnpy__api_a90606f7c6be32c8206dc496d8925d984}{PyArray\_Type\_}};}
\DoxyCodeLine{187     PyTypeObject *\mbox{\hyperlink{structnpy__api_a00960472c4802c69109ddfa9bb54fca5}{PyVoidArrType\_Type\_}};}
\DoxyCodeLine{188     PyTypeObject *\mbox{\hyperlink{structnpy__api_a098d32c95003331ae8cf6c968163153a}{PyArrayDescr\_Type\_}};}
\DoxyCodeLine{189     PyObject *(*PyArray\_DescrFromScalar\_)(PyObject *);}
\DoxyCodeLine{190     PyObject *(*PyArray\_FromAny\_) (PyObject *, PyObject *, int, int, int, PyObject *);}
\DoxyCodeLine{191     int (*\mbox{\hyperlink{structnpy__api_a194b80a44e3e6fe70a42feb0d01d242e}{PyArray\_DescrConverter\_}}) (PyObject *, PyObject **);}
\DoxyCodeLine{192     bool (*\mbox{\hyperlink{structnpy__api_a679481716d90329a4a5af98fab660a9b}{PyArray\_EquivTypes\_}}) (PyObject *, PyObject *);}
\DoxyCodeLine{193     int (*\mbox{\hyperlink{structnpy__api_a7083fe79c0c4c3a1b8b3da9d0f1f0e92}{PyArray\_GetArrayParamsFromObject\_}})(PyObject *, PyObject *, char, PyObject **, \textcolor{keywordtype}{int} *,}
\DoxyCodeLine{194                                              Py\_ssize\_t *, PyObject **, PyObject *);}
\DoxyCodeLine{195     PyObject *(*PyArray\_Squeeze\_)(PyObject *);}
\DoxyCodeLine{196     int (*\mbox{\hyperlink{structnpy__api_a7dd4d69b7cafe7f2faf6bdec7c7a6ef9}{PyArray\_SetBaseObject\_}})(PyObject *, PyObject *);}
\DoxyCodeLine{197     PyObject* (*PyArray\_Resize\_)(PyObject*, \mbox{\hyperlink{structnpy__api_1_1_py_array___dims}{PyArray\_Dims}}*, int, int);}
\DoxyCodeLine{198 \textcolor{keyword}{private}:}
\DoxyCodeLine{199     \textcolor{keyword}{enum} \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43c}{functions}} \{}
\DoxyCodeLine{200         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca3f3b2e84f042643513860c8308df5d94}{API\_PyArray\_GetNDArrayCFeatureVersion}} = 211,}
\DoxyCodeLine{201         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca068e620867fe199b98a6f72bc1c9fcf2}{API\_PyArray\_Type}} = 2,}
\DoxyCodeLine{202         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca3b0d8f6a20f09cdcc7803dbd4c4cc8ad}{API\_PyArrayDescr\_Type}} = 3,}
\DoxyCodeLine{203         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43caea54e61565c5669fec0da724e73ca5a1}{API\_PyVoidArrType\_Type}} = 39,}
\DoxyCodeLine{204         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca825cd2fbf2f1446ac2f73e85eb4af454}{API\_PyArray\_DescrFromType}} = 45,}
\DoxyCodeLine{205         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca0b58b43f1b979feec939411475f6325b}{API\_PyArray\_DescrFromScalar}} = 57,}
\DoxyCodeLine{206         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43cac7f441d1f541f5c24f1987edcacdc0ca}{API\_PyArray\_FromAny}} = 69,}
\DoxyCodeLine{207         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca11ef93918a356d2cc9f26bed0d58b5b3}{API\_PyArray\_Resize}} = 80,}
\DoxyCodeLine{208         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca8852d543d491293088ec58f0d965efcc}{API\_PyArray\_CopyInto}} = 82,}
\DoxyCodeLine{209         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca62da783a1b0c22b2103740d2330c0f63}{API\_PyArray\_NewCopy}} = 85,}
\DoxyCodeLine{210         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43cab5772e2ed9ba7fbd73f4fbad0368c975}{API\_PyArray\_NewFromDescr}} = 94,}
\DoxyCodeLine{211         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43cacddc3731ce991bc4cab97cd2dffdca35}{API\_PyArray\_DescrNewFromType}} = 9,}
\DoxyCodeLine{212         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca59c36069d94ec607087f7e221dbbcaa1}{API\_PyArray\_DescrConverter}} = 174,}
\DoxyCodeLine{213         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca4b92b52b7afb3768a18f1a5b9253e315}{API\_PyArray\_EquivTypes}} = 182,}
\DoxyCodeLine{214         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43ca96291a1aae3b3bafd78cbe932bdf5f58}{API\_PyArray\_GetArrayParamsFromObject}} = 278,}
\DoxyCodeLine{215         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43caaf2a4e5cc11448e4b6e8c16014a67045}{API\_PyArray\_Squeeze}} = 136,}
\DoxyCodeLine{216         \mbox{\hyperlink{structnpy__api_a7b2811e735f015552608f0396c3dd43caa00ae98d6f1385e76da29ba8c23795b2}{API\_PyArray\_SetBaseObject}} = 282}
\DoxyCodeLine{217     \};}
\DoxyCodeLine{218 }
\DoxyCodeLine{219     \textcolor{keyword}{static} \mbox{\hyperlink{structnpy__api}{npy\_api}} \mbox{\hyperlink{structnpy__api_aae8f9c27e22cd7581a6bc22edcd9f7eb}{lookup}}() \{}
\DoxyCodeLine{220         \mbox{\hyperlink{classmodule}{module}} m = \mbox{\hyperlink{classmodule_a40817edef0ded5727701534bcded9982}{module::import}}(\textcolor{stringliteral}{"{}numpy.core.multiarray"{}});}
\DoxyCodeLine{221         \textcolor{keyword}{auto} c = m.attr(\textcolor{stringliteral}{"{}\_ARRAY\_API"{}});}
\DoxyCodeLine{222 \textcolor{preprocessor}{\#if PY\_MAJOR\_VERSION >= 3}}
\DoxyCodeLine{223         \textcolor{keywordtype}{void} **api\_ptr = (\textcolor{keywordtype}{void} **) PyCapsule\_GetPointer(c.ptr(), NULL);}
\DoxyCodeLine{224 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{225         \textcolor{keywordtype}{void} **api\_ptr = (\textcolor{keywordtype}{void} **) PyCObject\_AsVoidPtr(c.ptr());}
\DoxyCodeLine{226 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{227         \mbox{\hyperlink{structnpy__api}{npy\_api}} api;}
\DoxyCodeLine{228 \textcolor{preprocessor}{\#define DECL\_NPY\_API(Func) api.Func\#\#\_ = (decltype(api.Func\#\#\_)) api\_ptr[API\_\#\#Func];}}
\DoxyCodeLine{229         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_GetNDArrayCFeatureVersion);}
\DoxyCodeLine{230         \textcolor{keywordflow}{if} (api.\mbox{\hyperlink{structnpy__api_ab40ac29b4dd4d4b3ff26fca367190a0d}{PyArray\_GetNDArrayCFeatureVersion\_}}() < 0x7)}
\DoxyCodeLine{231             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}pybind11 numpy support requires numpy >= 1.7.0"{}});}
\DoxyCodeLine{232         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_Type);}
\DoxyCodeLine{233         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyVoidArrType\_Type);}
\DoxyCodeLine{234         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArrayDescr\_Type);}
\DoxyCodeLine{235         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_DescrFromType);}
\DoxyCodeLine{236         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_DescrFromScalar);}
\DoxyCodeLine{237         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_FromAny);}
\DoxyCodeLine{238         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_Resize);}
\DoxyCodeLine{239         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_CopyInto);}
\DoxyCodeLine{240         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_NewCopy);}
\DoxyCodeLine{241         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_NewFromDescr);}
\DoxyCodeLine{242         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_DescrNewFromType);}
\DoxyCodeLine{243         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_DescrConverter);}
\DoxyCodeLine{244         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_EquivTypes);}
\DoxyCodeLine{245         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_GetArrayParamsFromObject);}
\DoxyCodeLine{246         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_Squeeze);}
\DoxyCodeLine{247         \mbox{\hyperlink{numpy_8h_a768c8088df09e01900e24dc5456ab5a8}{DECL\_NPY\_API}}(PyArray\_SetBaseObject);}
\DoxyCodeLine{248 \textcolor{preprocessor}{\#undef DECL\_NPY\_API}}
\DoxyCodeLine{249         \textcolor{keywordflow}{return} api;}
\DoxyCodeLine{250     \}}
\DoxyCodeLine{251 \};}
\DoxyCodeLine{252 }
\DoxyCodeLine{253 \textcolor{keyword}{inline} \mbox{\hyperlink{struct_py_array___proxy}{PyArray\_Proxy}}* \mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{array\_proxy}}(\textcolor{keywordtype}{void}* ptr) \{}
\DoxyCodeLine{254     \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{struct_py_array___proxy}{PyArray\_Proxy}}*\textcolor{keyword}{>}(ptr);}
\DoxyCodeLine{255 \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257 \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{struct_py_array___proxy}{PyArray\_Proxy}}* \mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{array\_proxy}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* ptr) \{}
\DoxyCodeLine{258     \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{struct_py_array___proxy}{PyArray\_Proxy}}*\textcolor{keyword}{>}(ptr);}
\DoxyCodeLine{259 \}}
\DoxyCodeLine{260 }
\DoxyCodeLine{261 \textcolor{keyword}{inline} \mbox{\hyperlink{struct_py_array_descr___proxy}{PyArrayDescr\_Proxy}}* \mbox{\hyperlink{numpy_8h_ac9860a6273b52ad834be29a7f7974411}{array\_descriptor\_proxy}}(PyObject* ptr) \{}
\DoxyCodeLine{262    \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{struct_py_array_descr___proxy}{PyArrayDescr\_Proxy}}*\textcolor{keyword}{>}(ptr);}
\DoxyCodeLine{263 \}}
\DoxyCodeLine{264 }
\DoxyCodeLine{265 \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{struct_py_array_descr___proxy}{PyArrayDescr\_Proxy}}* \mbox{\hyperlink{numpy_8h_ac9860a6273b52ad834be29a7f7974411}{array\_descriptor\_proxy}}(\textcolor{keyword}{const} PyObject* ptr) \{}
\DoxyCodeLine{266    \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{struct_py_array_descr___proxy}{PyArrayDescr\_Proxy}}*\textcolor{keyword}{>}(ptr);}
\DoxyCodeLine{267 \}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{numpy_8h_acd70e5309413f3ecdb7ef051d6f8e894}{check\_flags}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void}* ptr, \textcolor{keywordtype}{int} flag) \{}
\DoxyCodeLine{270     \textcolor{keywordflow}{return} (flag == (\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{array\_proxy}}(ptr)-\/>flags \& flag));}
\DoxyCodeLine{271 \}}
\DoxyCodeLine{272 }
\DoxyCodeLine{273 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structis__std__array}{is\_std\_array}} : std::false\_type \{ \};}
\DoxyCodeLine{274 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structis__std__array}{is\_std\_array}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<T, N>> : std::true\_type \{ \};}
\DoxyCodeLine{275 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structis__complex}{is\_complex}} : std::false\_type \{ \};}
\DoxyCodeLine{276 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structis__complex}{is\_complex}}<\mbox{\hyperlink{namespacestd}{std}}::complex<T>> : std::true\_type \{ \};}
\DoxyCodeLine{277 }
\DoxyCodeLine{278 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__info__scalar}{array\_info\_scalar}} \{}
\DoxyCodeLine{279     \textcolor{keyword}{typedef} T \mbox{\hyperlink{structarray__info__scalar_a095b43f154578da44d1206e35d81cef4}{type}};}
\DoxyCodeLine{280     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structarray__info__scalar_a47f7961dd80e4ade11cd580835b12083}{is\_array}} = \textcolor{keyword}{false};}
\DoxyCodeLine{281     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structarray__info__scalar_aad5f2d891b5d8552e88e6da41d40d1c2}{is\_empty}} = \textcolor{keyword}{false};}
\DoxyCodeLine{282     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structarray__info__scalar_a8908646f2c1f7331a8fac332c5fb1cd6}{extents}} = \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{283     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{structarray__info__scalar_ae04c8e13cf1152eda868be73d269f801}{append\_extents}}(\mbox{\hyperlink{structlist}{list}}\& \textcolor{comment}{/* shape */}) \{ \}}
\DoxyCodeLine{284 \};}
\DoxyCodeLine{285 \textcolor{comment}{// Computes underlying type and a comma-\/separated list of extents for array}}
\DoxyCodeLine{286 \textcolor{comment}{// types (any mix of std::array and built-\/in arrays). An array of char is}}
\DoxyCodeLine{287 \textcolor{comment}{// treated as scalar because it gets special handling.}}
\DoxyCodeLine{288 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__info}{array\_info}} : \mbox{\hyperlink{structarray__info__scalar}{array\_info\_scalar}}<T> \{ \};}
\DoxyCodeLine{289 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__info}{array\_info}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<T, N>> \{}
\DoxyCodeLine{290     \textcolor{keyword}{using} \mbox{\hyperlink{structarray__info_3_01std_1_1array_3_01_t_00_01_n_01_4_01_4_a0023c48fec7c0b11090f45b7ceb9a307}{type}} = \textcolor{keyword}{typename} \mbox{\hyperlink{structarray__info__scalar_a095b43f154578da44d1206e35d81cef4}{array\_info<T>::type}};}
\DoxyCodeLine{291     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structarray__info__scalar_a47f7961dd80e4ade11cd580835b12083}{is\_array}} = \textcolor{keyword}{true};}
\DoxyCodeLine{292     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structarray__info__scalar_aad5f2d891b5d8552e88e6da41d40d1c2}{is\_empty}} = (N == 0) || \mbox{\hyperlink{structarray__info}{array\_info<T>::is\_empty}};}
\DoxyCodeLine{293     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} extent = N;}
\DoxyCodeLine{294 }
\DoxyCodeLine{295     \textcolor{comment}{// appends the extents to shape}}
\DoxyCodeLine{296     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{structarray__info_3_01std_1_1array_3_01_t_00_01_n_01_4_01_4_ac08c22b2e5c8f93e9f4c971a9f71db16}{append\_extents}}(\mbox{\hyperlink{structlist}{list}}\& shape) \{}
\DoxyCodeLine{297         shape.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(N);}
\DoxyCodeLine{298         \mbox{\hyperlink{structarray__info__scalar_ae04c8e13cf1152eda868be73d269f801}{array\_info<T>::append\_extents}}(shape);}
\DoxyCodeLine{299     \}}
\DoxyCodeLine{300 }
\DoxyCodeLine{301     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structarray__info__scalar_a8908646f2c1f7331a8fac332c5fb1cd6}{extents}} = \_<array\_info<T>::is\_array>(}
\DoxyCodeLine{302         \mbox{\hyperlink{descr_8h_a8c0d3505d8fb5963c5e157eabdbd3c7f}{concat}}(\_<N>(), \mbox{\hyperlink{structarray__info}{array\_info<T>::extents}}), \_<N>()}
\DoxyCodeLine{303     );}
\DoxyCodeLine{304 \};}
\DoxyCodeLine{305 \textcolor{comment}{// For numpy we have special handling for arrays of characters, so we don't include}}
\DoxyCodeLine{306 \textcolor{comment}{// the size in the array extents.}}
\DoxyCodeLine{307 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__info}{array\_info}}<char[N]> : \mbox{\hyperlink{structarray__info__scalar}{array\_info\_scalar}}<char[N]> \{ \};}
\DoxyCodeLine{308 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__info}{array\_info}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<char, N>> : \mbox{\hyperlink{structarray__info__scalar}{array\_info\_scalar}}<std::array<char, N>> \{ \};}
\DoxyCodeLine{309 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__info}{array\_info}}<T[N]> : \mbox{\hyperlink{structarray__info}{array\_info}}<std::array<T, N>> \{ \};}
\DoxyCodeLine{310 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{using} \mbox{\hyperlink{numpy_8h_ae5bc0adffcf46cf5f762a9d39d38a113}{remove\_all\_extents\_t}} = \textcolor{keyword}{typename} \mbox{\hyperlink{structarray__info__scalar_a095b43f154578da44d1206e35d81cef4}{array\_info<T>::type}};}
\DoxyCodeLine{311 }
\DoxyCodeLine{312 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{using} \mbox{\hyperlink{numpy_8h_ae000b26e650bc54d99e9a22109b58515}{is\_pod\_struct}} = \mbox{\hyperlink{detail_2common_8h_a4f440ffd11216b5a0aa72d2842546340}{all\_of}}<}
\DoxyCodeLine{313     std::is\_standard\_layout<T>,     \textcolor{comment}{// since we're accessing directly in memory we need a standard layout type}}
\DoxyCodeLine{314 \textcolor{preprocessor}{\#if !defined(\_\_GNUG\_\_) || defined(\_LIBCPP\_VERSION) || defined(\_GLIBCXX\_USE\_CXX11\_ABI)}}
\DoxyCodeLine{315     \textcolor{comment}{// \_GLIBCXX\_USE\_CXX11\_ABI indicates that we're using libstdc++ from GCC 5 or newer, independent}}
\DoxyCodeLine{316     \textcolor{comment}{// of the actual compiler (Clang can also use libstdc++, but it always defines \_\_GNUC\_\_ == 4).}}
\DoxyCodeLine{317     std::is\_trivially\_copyable<T>,}
\DoxyCodeLine{318 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{319     \textcolor{comment}{// GCC 4 doesn't implement is\_trivially\_copyable, so approximate it}}
\DoxyCodeLine{320     std::is\_trivially\_destructible<T>,}
\DoxyCodeLine{321     \mbox{\hyperlink{structnegation}{satisfies\_any\_of<T, std::has\_trivial\_copy\_constructor, std::has\_trivial\_copy\_assign>}},}
\DoxyCodeLine{322 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{323     \mbox{\hyperlink{structnegation}{satisfies\_none\_of<T, std::is\_reference, std::is\_array, is\_std\_array, std::is\_arithmetic, is\_complex, std::is\_enum>}}}
\DoxyCodeLine{324 >;}
\DoxyCodeLine{325 }
\DoxyCodeLine{326 \textcolor{keyword}{template} <s\textcolor{keywordtype}{size\_t} Dim = 0, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}es> \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{numpy_8h_a88808dea5d74c6a9e518156db973c84b}{byte\_offset\_unsafe}}(\textcolor{keyword}{const} Strides \&) \{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{327 \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} Dim = 0, \textcolor{keyword}{typename} Strides, \textcolor{keyword}{typename}... Ix>}
\DoxyCodeLine{328 \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{numpy_8h_a88808dea5d74c6a9e518156db973c84b}{byte\_offset\_unsafe}}(\textcolor{keyword}{const} Strides \&strides, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} i, Ix... index) \{}
\DoxyCodeLine{329     \textcolor{keywordflow}{return} i * strides[Dim] + byte\_offset\_unsafe<Dim + 1>(strides, index...);}
\DoxyCodeLine{330 \}}
\DoxyCodeLine{331 }
\DoxyCodeLine{337 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, s\textcolor{keywordtype}{size\_t} Dims>}
\DoxyCodeLine{338 \textcolor{keyword}{class }\mbox{\hyperlink{classunchecked__reference}{unchecked\_reference}} \{}
\DoxyCodeLine{339 \textcolor{keyword}{protected}:}
\DoxyCodeLine{340     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classunchecked__reference_a4ad5525b6ab61ac1c5536df0249901b3}{Dynamic}} = Dims < 0;}
\DoxyCodeLine{341     \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\mbox{\hyperlink{classunchecked__reference_a0006f51b8177e65603ef3a20c8535432}{data\_}};}
\DoxyCodeLine{342     \textcolor{comment}{// Storing the shape \& strides in local variables (i.e. these arrays) allows the compiler to}}
\DoxyCodeLine{343     \textcolor{comment}{// make large performance gains on big, nested loops, but requires compile-\/time dimensions}}
\DoxyCodeLine{344     \mbox{\hyperlink{detail_2common_8h_acdb0eff728aec08ed6fff07d2885ea9d}{conditional\_t}}<\mbox{\hyperlink{classunchecked__reference_a4ad5525b6ab61ac1c5536df0249901b3}{Dynamic}}, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *, std::array<\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}, (\mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}}) Dims>>}
\DoxyCodeLine{345             \mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}, \mbox{\hyperlink{classunchecked__reference_a2c0c345a2c143eda073394a8fe8f59f9}{strides\_}};}
\DoxyCodeLine{346     \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classunchecked__reference_a40a5d39e1640cb380429e4c678d40103}{dims\_}};}
\DoxyCodeLine{347 }
\DoxyCodeLine{348     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classunchecked__reference_abcb10178a21ebe8e899ca951b2e68608}{pybind11::array}};}
\DoxyCodeLine{349     \textcolor{comment}{// Constructor for compile-\/time dimensions:}}
\DoxyCodeLine{350     \textcolor{keyword}{template} <\textcolor{keywordtype}{bool} Dyn = Dynamic>}
\DoxyCodeLine{351     \mbox{\hyperlink{classunchecked__reference_ae5522c90828ed6a7c58687e6969ef97c}{unchecked\_reference}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *\mbox{\hyperlink{classunchecked__reference_a5065c039307f9797f8d4dc8f9e422d82}{shape}}, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *strides, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t<!Dyn, ssize\_t>}})}
\DoxyCodeLine{352     : \mbox{\hyperlink{classunchecked__reference_a0006f51b8177e65603ef3a20c8535432}{data\_}}\{reinterpret\_cast<const unsigned char *>(\mbox{\hyperlink{structdata}{data}})\}, \mbox{\hyperlink{classunchecked__reference_a40a5d39e1640cb380429e4c678d40103}{dims\_}}\{Dims\} \{}
\DoxyCodeLine{353         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < (\mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}}) \mbox{\hyperlink{classunchecked__reference_a40a5d39e1640cb380429e4c678d40103}{dims\_}}; i++) \{}
\DoxyCodeLine{354             \mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}[i] = \mbox{\hyperlink{classunchecked__reference_a5065c039307f9797f8d4dc8f9e422d82}{shape}}[i];}
\DoxyCodeLine{355             \mbox{\hyperlink{classunchecked__reference_a2c0c345a2c143eda073394a8fe8f59f9}{strides\_}}[i] = strides[i];}
\DoxyCodeLine{356         \}}
\DoxyCodeLine{357     \}}
\DoxyCodeLine{358     \textcolor{comment}{// Constructor for runtime dimensions:}}
\DoxyCodeLine{359     \textcolor{keyword}{template} <\textcolor{keywordtype}{bool} Dyn = Dynamic>}
\DoxyCodeLine{360     \mbox{\hyperlink{classunchecked__reference_a6872fd3f36835f14b6e943aebdbc0ae4}{unchecked\_reference}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{structdata}{data}}, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *\mbox{\hyperlink{classunchecked__reference_a5065c039307f9797f8d4dc8f9e422d82}{shape}}, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} *strides, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t<Dyn, ssize\_t>}} dims)}
\DoxyCodeLine{361     : \mbox{\hyperlink{classunchecked__reference_a0006f51b8177e65603ef3a20c8535432}{data\_}}\{reinterpret\_cast<const unsigned char *>(\mbox{\hyperlink{structdata}{data}})\}, \mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}\{\mbox{\hyperlink{classunchecked__reference_a5065c039307f9797f8d4dc8f9e422d82}{shape}}\}, \mbox{\hyperlink{classunchecked__reference_a2c0c345a2c143eda073394a8fe8f59f9}{strides\_}}\{strides\}, \mbox{\hyperlink{classunchecked__reference_a40a5d39e1640cb380429e4c678d40103}{dims\_}}\{dims\} \{\}}
\DoxyCodeLine{362 }
\DoxyCodeLine{363 \textcolor{keyword}{public}:}
\DoxyCodeLine{369     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ix> \textcolor{keyword}{const} T \&\mbox{\hyperlink{classunchecked__reference_a118ecc7c2506f751f1cb0d2207adeaec}{operator()}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{370         \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}\{\textcolor{keyword}{sizeof}...(Ix)\} == Dims || \mbox{\hyperlink{classunchecked__reference_a4ad5525b6ab61ac1c5536df0249901b3}{Dynamic}},}
\DoxyCodeLine{371                 \textcolor{stringliteral}{"{}Invalid number of indices for unchecked array reference"{}});}
\DoxyCodeLine{372         \textcolor{keywordflow}{return} *\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }T *\textcolor{keyword}{>}(\mbox{\hyperlink{classunchecked__reference_a0006f51b8177e65603ef3a20c8535432}{data\_}} + \mbox{\hyperlink{numpy_8h_a88808dea5d74c6a9e518156db973c84b}{byte\_offset\_unsafe}}(\mbox{\hyperlink{classunchecked__reference_a2c0c345a2c143eda073394a8fe8f59f9}{strides\_}}, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(index)...));}
\DoxyCodeLine{373     \}}
\DoxyCodeLine{378     \textcolor{keyword}{template} <s\textcolor{keywordtype}{size\_t} D = Dims, \textcolor{keyword}{typename} = enable\_if\_t<D == 1 || Dynamic>>}
\DoxyCodeLine{379     \textcolor{keyword}{const} T \&\mbox{\hyperlink{classunchecked__reference_a4f8e17df5b1e7160b7cc311102a66bdb}{operator[]}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} index)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classunchecked__reference_a118ecc7c2506f751f1cb0d2207adeaec}{operator()}}(index); \}}
\DoxyCodeLine{380 }
\DoxyCodeLine{382     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ix> \textcolor{keyword}{const} T *\mbox{\hyperlink{classunchecked__reference_a38797b84a4ced02a8aa0e6ef076f6f79}{data}}(Ix... ix)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \&\mbox{\hyperlink{classunchecked__reference_a118ecc7c2506f751f1cb0d2207adeaec}{operator()}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(ix)...); \}}
\DoxyCodeLine{383 }
\DoxyCodeLine{385     \textcolor{keyword}{constexpr} \textcolor{keyword}{static} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classunchecked__reference_aef7c3ce5d4353713c19e71fe2afb8ff6}{itemsize}}() \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(T); \}}
\DoxyCodeLine{386 }
\DoxyCodeLine{388     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classunchecked__reference_a5065c039307f9797f8d4dc8f9e422d82}{shape}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} dim)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}[(\mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}}) dim]; \}}
\DoxyCodeLine{389 }
\DoxyCodeLine{391     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classunchecked__reference_a732200223a8d47f248fb9bab843dbe7a}{ndim}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classunchecked__reference_a40a5d39e1640cb380429e4c678d40103}{dims\_}}; \}}
\DoxyCodeLine{392 }
\DoxyCodeLine{394     \textcolor{keyword}{template} <\textcolor{keywordtype}{bool} Dyn = Dynamic>}
\DoxyCodeLine{395     \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t<!Dyn, ssize\_t>}} \mbox{\hyperlink{classunchecked__reference_aa4db625b56fd1e77658f686a1b13a547}{size}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{396         \textcolor{keywordflow}{return} std::accumulate(\mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}.begin(), \mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}.end(), (\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) 1, std::multiplies<ssize\_t>());}
\DoxyCodeLine{397     \}}
\DoxyCodeLine{398     \textcolor{keyword}{template} <\textcolor{keywordtype}{bool} Dyn = Dynamic>}
\DoxyCodeLine{399     \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t<Dyn, ssize\_t>}} \mbox{\hyperlink{classunchecked__reference_aaf6971d6702b97c54e0455837db8918c}{size}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{400         \textcolor{keywordflow}{return} std::accumulate(\mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}}, \mbox{\hyperlink{classunchecked__reference_a9369fa82f1cef7ce910e906628d59e7c}{shape\_}} + \mbox{\hyperlink{classunchecked__reference_a732200223a8d47f248fb9bab843dbe7a}{ndim}}(), (\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) 1, std::multiplies<ssize\_t>());}
\DoxyCodeLine{401     \}}
\DoxyCodeLine{402 }
\DoxyCodeLine{405     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classunchecked__reference_a9c15e1b4f748ca5d8396e637c4d9abb4}{nbytes}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{406         \textcolor{keywordflow}{return} \mbox{\hyperlink{classunchecked__reference_aa4db625b56fd1e77658f686a1b13a547}{size}}() * \mbox{\hyperlink{classunchecked__reference_aef7c3ce5d4353713c19e71fe2afb8ff6}{itemsize}}();}
\DoxyCodeLine{407     \}}
\DoxyCodeLine{408 \};}
\DoxyCodeLine{409 }
\DoxyCodeLine{410 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, s\textcolor{keywordtype}{size\_t} Dims>}
\DoxyCodeLine{411 \textcolor{keyword}{class }\mbox{\hyperlink{classunchecked__mutable__reference}{unchecked\_mutable\_reference}} : \textcolor{keyword}{public} \mbox{\hyperlink{classunchecked__reference}{unchecked\_reference}}<T, Dims> \{}
\DoxyCodeLine{412     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classunchecked__mutable__reference_abcb10178a21ebe8e899ca951b2e68608}{pybind11::array}};}
\DoxyCodeLine{413     \textcolor{keyword}{using} \mbox{\hyperlink{classunchecked__reference}{ConstBase}} = \mbox{\hyperlink{classunchecked__reference}{unchecked\_reference<T, Dims>}};}
\DoxyCodeLine{414     \textcolor{keyword}{using} ConstBase::ConstBase;}
\DoxyCodeLine{415     \textcolor{keyword}{using} \mbox{\hyperlink{classunchecked__reference_a4ad5525b6ab61ac1c5536df0249901b3}{ConstBase::Dynamic}};}
\DoxyCodeLine{416 \textcolor{keyword}{public}:}
\DoxyCodeLine{418     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ix> T\& \mbox{\hyperlink{classunchecked__mutable__reference_ac4c5e0d2775e37236589ef128808f97e}{operator()}}(Ix... index) \{}
\DoxyCodeLine{419         \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}\{\textcolor{keyword}{sizeof}...(Ix)\} == Dims || \mbox{\hyperlink{classunchecked__mutable__reference_a4ad5525b6ab61ac1c5536df0249901b3}{Dynamic}},}
\DoxyCodeLine{420                 \textcolor{stringliteral}{"{}Invalid number of indices for unchecked array reference"{}});}
\DoxyCodeLine{421         \textcolor{keywordflow}{return} \textcolor{keyword}{const\_cast<}T \&\textcolor{keyword}{>}(\mbox{\hyperlink{classunchecked__reference_a118ecc7c2506f751f1cb0d2207adeaec}{ConstBase::operator()}}(index...));}
\DoxyCodeLine{422     \}}
\DoxyCodeLine{428     \textcolor{keyword}{template} <s\textcolor{keywordtype}{size\_t} D = Dims, \textcolor{keyword}{typename} = enable\_if\_t<D == 1 || Dynamic>>}
\DoxyCodeLine{429     T \&\mbox{\hyperlink{classunchecked__mutable__reference_a48d86d2911b961084155fd15efb439cc}{operator[]}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} index) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classunchecked__mutable__reference_ac4c5e0d2775e37236589ef128808f97e}{operator()}}(index); \}}
\DoxyCodeLine{430 }
\DoxyCodeLine{432     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Ix> T *\mbox{\hyperlink{classunchecked__mutable__reference_a6550a0d2de96f7056b87cc952f0f3541}{mutable\_data}}(Ix... ix) \{ \textcolor{keywordflow}{return} \&\mbox{\hyperlink{classunchecked__mutable__reference_ac4c5e0d2775e37236589ef128808f97e}{operator()}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(ix)...); \}}
\DoxyCodeLine{433 \};}
\DoxyCodeLine{434 }
\DoxyCodeLine{435 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, s\textcolor{keywordtype}{size\_t} Dim>}
\DoxyCodeLine{436 \textcolor{keyword}{struct }\mbox{\hyperlink{classtype__caster}{type\_caster}}<\mbox{\hyperlink{classunchecked__reference}{unchecked\_reference}}<T, Dim>> \{}
\DoxyCodeLine{437     \textcolor{keyword}{static\_assert}(Dim == 0 \&\& Dim > 0 \textcolor{comment}{/* always fail */}, \textcolor{stringliteral}{"{}unchecked array proxy object is not castable"{}});}
\DoxyCodeLine{438 \};}
\DoxyCodeLine{439 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, s\textcolor{keywordtype}{size\_t} Dim>}
\DoxyCodeLine{440 \textcolor{keyword}{struct }\mbox{\hyperlink{classtype__caster}{type\_caster}}<\mbox{\hyperlink{classunchecked__mutable__reference}{unchecked\_mutable\_reference}}<T, Dim>> : \mbox{\hyperlink{classtype__caster}{type\_caster}}<unchecked\_reference<T, Dim>> \{\};}
\DoxyCodeLine{441 }
\DoxyCodeLine{442 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{443 }
\DoxyCodeLine{444 class \mbox{\hyperlink{classdtype}{dtype}} : public \textcolor{keywordtype}{object} \{}
\DoxyCodeLine{445 \textcolor{keyword}{public}:}
\DoxyCodeLine{446     \mbox{\hyperlink{classdtype_a44f6cf870b6db329778cd4f14704ec82}{PYBIND11\_OBJECT\_DEFAULT}}(\mbox{\hyperlink{classdtype}{dtype}}, \textcolor{keywordtype}{object}, detail::npy\_api::get().PyArrayDescr\_Check\_);}
\DoxyCodeLine{447 }
\DoxyCodeLine{448     \textcolor{keyword}{explicit} \mbox{\hyperlink{classdtype_a1c32bf51931d64aaa4ee0fbf5b50a3be}{dtype}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}} \&\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}) \{}
\DoxyCodeLine{449         \mbox{\hyperlink{classdtype}{dtype}} \mbox{\hyperlink{structdescr}{descr}}(\_dtype\_from\_pep3118()(\mbox{\hyperlink{detail_2common_8h_a2b41a4f15526b8c6346dc68f9998d0e7}{PYBIND11\_STR\_TYPE}}(\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.format)));}
\DoxyCodeLine{450         \textcolor{comment}{// If info.itemsize == 0, use the value calculated from the format string}}
\DoxyCodeLine{451         m\_ptr = \mbox{\hyperlink{structdescr}{descr}}.strip\_padding(\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.itemsize ? \mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.itemsize : \mbox{\hyperlink{structdescr}{descr}}.itemsize()).release().ptr();}
\DoxyCodeLine{452     \}}
\DoxyCodeLine{453 }
\DoxyCodeLine{454     \textcolor{keyword}{explicit} \mbox{\hyperlink{classdtype_ac63228c0339fa560c343d1e55db89271}{dtype}}(\textcolor{keyword}{const} std::string \&format) \{}
\DoxyCodeLine{455         m\_ptr = from\_args(pybind11::str(format)).release().ptr();}
\DoxyCodeLine{456     \}}
\DoxyCodeLine{457 }
\DoxyCodeLine{458     \mbox{\hyperlink{classdtype_ab5fdb5c230d184d644ee2a8a8b31d021}{dtype}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *format) : \mbox{\hyperlink{classdtype}{dtype}}(\mbox{\hyperlink{namespacestd}{std}}::string(format)) \{ \}}
\DoxyCodeLine{459 }
\DoxyCodeLine{460     \mbox{\hyperlink{classdtype_a8ea3b55fbfef63c1b94da63e74b979c0}{dtype}}(\mbox{\hyperlink{structlist}{list}} names, \mbox{\hyperlink{structlist}{list}} formats, \mbox{\hyperlink{structlist}{list}} offsets, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} itemsize) \{}
\DoxyCodeLine{461         \mbox{\hyperlink{classdict}{dict}} \mbox{\hyperlink{classargs}{args}};}
\DoxyCodeLine{462         \mbox{\hyperlink{classargs}{args}}[\textcolor{stringliteral}{"{}names"{}}] = names;}
\DoxyCodeLine{463         \mbox{\hyperlink{classargs}{args}}[\textcolor{stringliteral}{"{}formats"{}}] = formats;}
\DoxyCodeLine{464         \mbox{\hyperlink{classargs}{args}}[\textcolor{stringliteral}{"{}offsets"{}}] = offsets;}
\DoxyCodeLine{465         \mbox{\hyperlink{classargs}{args}}[\textcolor{stringliteral}{"{}itemsize"{}}] = pybind11::int\_(itemsize);}
\DoxyCodeLine{466         m\_ptr = from\_args(\mbox{\hyperlink{classargs}{args}}).release().ptr();}
\DoxyCodeLine{467     \}}
\DoxyCodeLine{468 }
\DoxyCodeLine{470     \textcolor{keyword}{static} \mbox{\hyperlink{classdtype}{dtype}} \mbox{\hyperlink{classdtype_ac32ee9257455ed7879d124fb225b0baa}{from\_args}}(\textcolor{keywordtype}{object} \mbox{\hyperlink{classargs}{args}}) \{}
\DoxyCodeLine{471         PyObject *ptr = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{472         \textcolor{keywordflow}{if} (!detail::npy\_api::get().PyArray\_DescrConverter\_(\mbox{\hyperlink{classargs}{args}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), \&ptr) || !ptr)}
\DoxyCodeLine{473             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{474         \textcolor{keywordflow}{return} reinterpret\_steal<dtype>(ptr);}
\DoxyCodeLine{475     \}}
\DoxyCodeLine{476 }
\DoxyCodeLine{478     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{static} \mbox{\hyperlink{classdtype}{dtype}} \mbox{\hyperlink{classdtype_a06f34b2e5cc8a17f7038e870b9609191}{of}}() \{}
\DoxyCodeLine{479         \textcolor{keywordflow}{return} detail::npy\_format\_descriptor<typename std::remove\_cv<T>::type>\mbox{\hyperlink{classdtype}{::dtype}}();}
\DoxyCodeLine{480     \}}
\DoxyCodeLine{481 }
\DoxyCodeLine{483     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classdtype_a7560e2e9cd37d8dd697755e58442e4cb}{itemsize}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{484         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_ac9860a6273b52ad834be29a7f7974411}{detail::array\_descriptor\_proxy}}(m\_ptr)-\/>\mbox{\hyperlink{struct_py_array_descr___proxy_af950ea270c0619c6fbe3ae3681a8f3fb}{elsize}};}
\DoxyCodeLine{485     \}}
\DoxyCodeLine{486 }
\DoxyCodeLine{488     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classdtype_ac5eef3474b98106df8be32c6aaa3106b}{has\_fields}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{489         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_ac9860a6273b52ad834be29a7f7974411}{detail::array\_descriptor\_proxy}}(m\_ptr)-\/>\mbox{\hyperlink{struct_py_array_descr___proxy_a3575d3dba3b5524e7ebf546ea0119213}{names}} != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{490     \}}
\DoxyCodeLine{491 }
\DoxyCodeLine{493     \textcolor{keywordtype}{char} \mbox{\hyperlink{classdtype_a18ed8c10011953681620744776e2c984}{kind}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{494         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_ac9860a6273b52ad834be29a7f7974411}{detail::array\_descriptor\_proxy}}(m\_ptr)-\/>\mbox{\hyperlink{struct_py_array_descr___proxy_a12763536bf0fd9623822ceb0c5a7ef90}{kind}};}
\DoxyCodeLine{495     \}}
\DoxyCodeLine{496 }
\DoxyCodeLine{497 \textcolor{keyword}{private}:}
\DoxyCodeLine{498     \textcolor{keyword}{static} \textcolor{keywordtype}{object} \mbox{\hyperlink{classdtype_a7fd8c19b8aa216668cc1a7510be7725a}{\_dtype\_from\_pep3118}}() \{}
\DoxyCodeLine{499         \textcolor{keyword}{static} PyObject *obj = \mbox{\hyperlink{classmodule_a40817edef0ded5727701534bcded9982}{module::import}}(\textcolor{stringliteral}{"{}numpy.core.\_internal"{}})}
\DoxyCodeLine{500             .attr(\textcolor{stringliteral}{"{}\_dtype\_from\_pep3118"{}}).\mbox{\hyperlink{classobject_acf93eb705d6539ef22e2c4a8eebc4c68}{cast}}<\textcolor{keywordtype}{object}>().release().ptr();}
\DoxyCodeLine{501         \textcolor{keywordflow}{return} reinterpret\_borrow<object>(obj);}
\DoxyCodeLine{502     \}}
\DoxyCodeLine{503 }
\DoxyCodeLine{504     \mbox{\hyperlink{classdtype}{dtype}} \mbox{\hyperlink{classdtype_a329233a8252c22002b7e43de384d5d4c}{strip\_padding}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} itemsize) \{}
\DoxyCodeLine{505         \textcolor{comment}{// Recursively strip all void fields with empty names that are generated for}}
\DoxyCodeLine{506         \textcolor{comment}{// padding fields (as of NumPy v1.11).}}
\DoxyCodeLine{507         \textcolor{keywordflow}{if} (!has\_fields())}
\DoxyCodeLine{508             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{509 }
\DoxyCodeLine{510         \textcolor{keyword}{struct }field\_descr \{ \mbox{\hyperlink{detail_2common_8h_a2b41a4f15526b8c6346dc68f9998d0e7}{PYBIND11\_STR\_TYPE}} \mbox{\hyperlink{structname}{name}}; \textcolor{keywordtype}{object} format; pybind11::int\_ offset; \};}
\DoxyCodeLine{511         std::vector<field\_descr> field\_descriptors;}
\DoxyCodeLine{512 }
\DoxyCodeLine{513         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} field : attr(\textcolor{stringliteral}{"{}fields"{}}).attr(\textcolor{stringliteral}{"{}items"{}})()) \{}
\DoxyCodeLine{514             \textcolor{keyword}{auto} spec = field.cast<\mbox{\hyperlink{classtuple}{tuple}}>();}
\DoxyCodeLine{515             \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = spec[0].cast<pybind11::str>();}
\DoxyCodeLine{516             \textcolor{keyword}{auto} format = spec[1].cast<\mbox{\hyperlink{classtuple}{tuple}}>()[0].cast<dtype>();}
\DoxyCodeLine{517             \textcolor{keyword}{auto} offset = spec[1].cast<\mbox{\hyperlink{classtuple}{tuple}}>()[1].cast<pybind11::int\_>();}
\DoxyCodeLine{518             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{group__python__builtins_gaeff368081ac50b8fe2cc0230d96e3acb}{len}}(\mbox{\hyperlink{structname}{name}}) \&\& format.kind() == \textcolor{charliteral}{'V'})}
\DoxyCodeLine{519                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{520             field\_descriptors.push\_back(\{(\mbox{\hyperlink{detail_2common_8h_a2b41a4f15526b8c6346dc68f9998d0e7}{PYBIND11\_STR\_TYPE}}) \mbox{\hyperlink{structname}{name}}, format.strip\_padding(format.itemsize()), offset\});}
\DoxyCodeLine{521         \}}
\DoxyCodeLine{522 }
\DoxyCodeLine{523         std::sort(field\_descriptors.begin(), field\_descriptors.end(),}
\DoxyCodeLine{524                   [](\textcolor{keyword}{const} field\_descr\& a, \textcolor{keyword}{const} field\_descr\& b) \{}
\DoxyCodeLine{525                       return a.offset.cast<int>() < b.offset.cast<int>();}
\DoxyCodeLine{526                   \});}
\DoxyCodeLine{527 }
\DoxyCodeLine{528         \mbox{\hyperlink{structlist}{list}} names, formats, offsets;}
\DoxyCodeLine{529         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& \mbox{\hyperlink{structdescr}{descr}} : field\_descriptors) \{}
\DoxyCodeLine{530             names.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(\mbox{\hyperlink{structdescr}{descr}}.name);}
\DoxyCodeLine{531             formats.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(\mbox{\hyperlink{structdescr}{descr}}.format);}
\DoxyCodeLine{532             offsets.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(\mbox{\hyperlink{structdescr}{descr}}.offset);}
\DoxyCodeLine{533         \}}
\DoxyCodeLine{534         \textcolor{keywordflow}{return} \mbox{\hyperlink{classdtype}{dtype}}(names, formats, offsets, itemsize);}
\DoxyCodeLine{535     \}}
\DoxyCodeLine{536 \};}
\DoxyCodeLine{537 }
\DoxyCodeLine{538 \textcolor{keyword}{class }\mbox{\hyperlink{classarray}{array}} : \textcolor{keyword}{public} \mbox{\hyperlink{classbuffer}{buffer}} \{}
\DoxyCodeLine{539 \textcolor{keyword}{public}:}
\DoxyCodeLine{540     \mbox{\hyperlink{pytypes_8h_a4fc2dbd315f5508afb7a5940a7c5e823}{PYBIND11\_OBJECT\_CVT}}(\mbox{\hyperlink{classarray}{array}}, \mbox{\hyperlink{classbuffer}{buffer}}, detail::npy\_api::get().PyArray\_Check\_, \mbox{\hyperlink{classarray_a0aa6d6979e8b2d420db747369180e70a}{raw\_array}})}
\DoxyCodeLine{541 }
\DoxyCodeLine{542     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{543         \mbox{\hyperlink{classarray_ae8bcbba531ac94a007768363ecc186ebacaa99b2eea8427713331c18117d633d3}{c\_style}} = detail::npy\_api::NPY\_ARRAY\_C\_CONTIGUOUS\_,}
\DoxyCodeLine{544         \mbox{\hyperlink{classarray_ae8bcbba531ac94a007768363ecc186eba184167ee839296f10d5c04c1480736bd}{f\_style}} = detail::npy\_api::NPY\_ARRAY\_F\_CONTIGUOUS\_,}
\DoxyCodeLine{545         \mbox{\hyperlink{classarray_ae8bcbba531ac94a007768363ecc186eba2886e477a3f6090266168e82d389adc1}{forcecast}} = detail::npy\_api::NPY\_ARRAY\_FORCECAST\_}
\DoxyCodeLine{546     \};}
\DoxyCodeLine{547 }
\DoxyCodeLine{548     \mbox{\hyperlink{classarray_ac8a03ceadd605cd948be1aa66884b3a1}{array}}() : \mbox{\hyperlink{classarray}{array}}(\{\{0\}\}, \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{double} *\textcolor{keyword}{>}(\textcolor{keyword}{nullptr})) \{\}}
\DoxyCodeLine{549 }
\DoxyCodeLine{550     \textcolor{keyword}{using} \mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} = detail::any\_container<ssize\_t>;}
\DoxyCodeLine{551     \textcolor{keyword}{using} \mbox{\hyperlink{classarray_a8ba4f30946f0bc69ec937160c9fb10e1}{StridesContainer}} = detail::any\_container<ssize\_t>;}
\DoxyCodeLine{552 }
\DoxyCodeLine{553     \textcolor{comment}{// Constructs an array taking shape/strides from arbitrary container types}}
\DoxyCodeLine{554     \mbox{\hyperlink{classarray_a64167a4ca5cfd192b9957b6c2bf0b0d4}{array}}(\textcolor{keyword}{const} pybind11::dtype \&dt, \mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{classarray_a8ba4f30946f0bc69ec937160c9fb10e1}{StridesContainer}} \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}},}
\DoxyCodeLine{555           \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} = \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}()) \{}
\DoxyCodeLine{556 }
\DoxyCodeLine{557         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}-\/>empty())}
\DoxyCodeLine{558             *\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}} = \mbox{\hyperlink{classarray_a6fa05aa35c1e79d5b9894154dbd7f0a0}{c\_strides}}(*\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, dt.itemsize());}
\DoxyCodeLine{559 }
\DoxyCodeLine{560         \textcolor{keyword}{auto} \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}} = \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}-\/>size();}
\DoxyCodeLine{561         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}} != \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}-\/>size())}
\DoxyCodeLine{562             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}NumPy: shape ndim doesn't match strides ndim"{}});}
\DoxyCodeLine{563         \textcolor{keyword}{auto} \mbox{\hyperlink{structdescr}{descr}} = dt;}
\DoxyCodeLine{564 }
\DoxyCodeLine{565         \textcolor{keywordtype}{int} \mbox{\hyperlink{classarray_a38eb48c793621c12119ab7b64714955b}{flags}} = 0;}
\DoxyCodeLine{566         \textcolor{keywordflow}{if} (\mbox{\hyperlink{structbase}{base}} \&\& \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}) \{}
\DoxyCodeLine{567             \textcolor{keywordflow}{if} (isinstance<array>(\mbox{\hyperlink{structbase}{base}}))}
\DoxyCodeLine{568                 \textcolor{comment}{/* Copy flags from base (except ownership bit) */}}
\DoxyCodeLine{569                 \mbox{\hyperlink{classarray_a38eb48c793621c12119ab7b64714955b}{flags}} = reinterpret\_borrow<array>(\mbox{\hyperlink{structbase}{base}}).flags() \& \string~detail\mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a1d2575092c17e53807b4fce0a937fd2d}{::npy\_api::NPY\_ARRAY\_OWNDATA\_}};}
\DoxyCodeLine{570             \textcolor{keywordflow}{else}}
\DoxyCodeLine{571                 \textcolor{comment}{/* Writable by default, easy to downgrade later on if needed */}}
\DoxyCodeLine{572                 \mbox{\hyperlink{classarray_a38eb48c793621c12119ab7b64714955b}{flags}} = detail::npy\_api::NPY\_ARRAY\_WRITEABLE\_;}
\DoxyCodeLine{573         \}}
\DoxyCodeLine{574 }
\DoxyCodeLine{575         \textcolor{keyword}{auto} \&api = detail::npy\_api::get();}
\DoxyCodeLine{576         \textcolor{keyword}{auto} tmp = reinterpret\_steal<object>(api.PyArray\_NewFromDescr\_(}
\DoxyCodeLine{577             api.PyArray\_Type\_, \mbox{\hyperlink{structdescr}{descr}}.release().ptr(), (\textcolor{keywordtype}{int}) \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}, \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}-\/>data(), \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}-\/>data(),}
\DoxyCodeLine{578             \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}), \mbox{\hyperlink{classarray_a38eb48c793621c12119ab7b64714955b}{flags}}, \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{579         \textcolor{keywordflow}{if} (!tmp)}
\DoxyCodeLine{580             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{581         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}) \{}
\DoxyCodeLine{582             \textcolor{keywordflow}{if} (\mbox{\hyperlink{structbase}{base}}) \{}
\DoxyCodeLine{583                 api.PyArray\_SetBaseObject\_(tmp.ptr(), \mbox{\hyperlink{structbase}{base}}.inc\_ref().ptr());}
\DoxyCodeLine{584             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{585                 tmp = reinterpret\_steal<object>(api.PyArray\_NewCopy\_(tmp.ptr(), -\/1 \textcolor{comment}{/* any order */}));}
\DoxyCodeLine{586             \}}
\DoxyCodeLine{587         \}}
\DoxyCodeLine{588         \mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}} = tmp.release().ptr();}
\DoxyCodeLine{589     \}}
\DoxyCodeLine{590 }
\DoxyCodeLine{591     \mbox{\hyperlink{classarray_a07473e56f6f33ccb72eb184752dd3d5e}{array}}(\textcolor{keyword}{const} pybind11::dtype \&dt, \mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} = \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{592         : \mbox{\hyperlink{classarray}{array}}(dt, \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}), \{\}, \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classarray_a33a2f2933da6ca35a8ac82709df90038}{base}}) \{ \}}
\DoxyCodeLine{593 }
\DoxyCodeLine{594     template <typename T, typename = detail::enable\_if\_t<std::is\_integral<T>::value \&\& !std::is\_same<bool, T>::value>>}
\DoxyCodeLine{595     \mbox{\hyperlink{classarray_ab1734d05a763ee406ea70f0fbebb3cf4}{array}}(\textcolor{keyword}{const} pybind11::dtype \&dt, T count, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} = \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{596         : \mbox{\hyperlink{classarray}{array}}(dt, \{\{count\}\}, \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classarray_a33a2f2933da6ca35a8ac82709df90038}{base}}) \{ \}}
\DoxyCodeLine{597 }
\DoxyCodeLine{598     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{599     \mbox{\hyperlink{classarray_af12d5d4757512f405a734ab2fe235f26}{array}}(\mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{classarray_a8ba4f30946f0bc69ec937160c9fb10e1}{StridesContainer}} \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{600         : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{namespacepybind11}{pybind11}}::\mbox{\hyperlink{classdtype}{dtype}}::of<T>(), \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}), \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}), \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{structbase}{base}}) \{ \}}
\DoxyCodeLine{601 }
\DoxyCodeLine{602     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{603     \mbox{\hyperlink{classarray_a29a0ed58b37adec393508a4eeed4236f}{array}}(\mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{604         : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}), \{\}, \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classarray_a33a2f2933da6ca35a8ac82709df90038}{base}}) \{ \}}
\DoxyCodeLine{605 }
\DoxyCodeLine{606     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{607     \textcolor{keyword}{explicit} \mbox{\hyperlink{classarray_a3fab95f1c066b62deaf8717fb3e99519}{array}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} count, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}()) : \mbox{\hyperlink{classarray}{array}}(\{count\}, \{\}, \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classarray_a33a2f2933da6ca35a8ac82709df90038}{base}}) \{ \}}
\DoxyCodeLine{608 }
\DoxyCodeLine{609     \textcolor{keyword}{explicit} \mbox{\hyperlink{classarray_afadb342ccfd398c0498ae62277d2a1a9}{array}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}} \&\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}})}
\DoxyCodeLine{610     : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{namespacepybind11}{pybind11}}::\mbox{\hyperlink{classdtype}{dtype}}(\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}), \mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}, \mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}) \{ \}}
\DoxyCodeLine{611 }
\DoxyCodeLine{613     pybind11::dtype \mbox{\hyperlink{classarray_a49535f32396582e415a61f3aac9c78b3}{dtype}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{614         \textcolor{keywordflow}{return} reinterpret\_borrow<pybind11::dtype>(\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{structdescr}{descr}});}
\DoxyCodeLine{615     \}}
\DoxyCodeLine{616 }
\DoxyCodeLine{618     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_a34ae467d17d30b99913e27c755403fef}{size}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{619         \textcolor{keywordflow}{return} std::accumulate(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}(), \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}() + \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}(), (\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) 1, std::multiplies<ssize\_t>());}
\DoxyCodeLine{620     \}}
\DoxyCodeLine{621 }
\DoxyCodeLine{623     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{624         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_ac9860a6273b52ad834be29a7f7974411}{detail::array\_descriptor\_proxy}}(\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{structdescr}{descr}})-\/>\mbox{\hyperlink{struct_py_array_descr___proxy_af950ea270c0619c6fbe3ae3681a8f3fb}{elsize}};}
\DoxyCodeLine{625     \}}
\DoxyCodeLine{626 }
\DoxyCodeLine{628     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_a0a2a16579bf2918347a8762c03f10137}{nbytes}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{629         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_a34ae467d17d30b99913e27c755403fef}{size}}() * \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}}();}
\DoxyCodeLine{630     \}}
\DoxyCodeLine{631 }
\DoxyCodeLine{633     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{634         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{struct_py_array___proxy_ae92334a4a5bfa2f9aed55a51857d74d3}{nd}};}
\DoxyCodeLine{635     \}}
\DoxyCodeLine{636 }
\DoxyCodeLine{638     \textcolor{keywordtype}{object} \mbox{\hyperlink{classarray_a33a2f2933da6ca35a8ac82709df90038}{base}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{639         \textcolor{keywordflow}{return} reinterpret\_borrow<object>(\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{structbase}{base}});}
\DoxyCodeLine{640     \}}
\DoxyCodeLine{641 }
\DoxyCodeLine{643     \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}* \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{644         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{struct_py_array___proxy_aaa6b3bbe3a72225a728f4d3af9ce828a}{dimensions}};}
\DoxyCodeLine{645     \}}
\DoxyCodeLine{646 }
\DoxyCodeLine{648     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_aceb118afe3a4eed2b3c9ec958505e414}{shape}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} dim)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{649         \textcolor{keywordflow}{if} (dim >= \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}())}
\DoxyCodeLine{650             \mbox{\hyperlink{classarray_a00dcb86f0bf1f925b23bd9ab028ffa13}{fail\_dim\_check}}(dim, \textcolor{stringliteral}{"{}invalid axis"{}});}
\DoxyCodeLine{651         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}()[dim];}
\DoxyCodeLine{652     \}}
\DoxyCodeLine{653 }
\DoxyCodeLine{655     \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}* \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{656         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{struct_py_array___proxy_a7519a8fe4dd43c5de7ee7d8d271e97c8}{strides}};}
\DoxyCodeLine{657     \}}
\DoxyCodeLine{658 }
\DoxyCodeLine{660     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_afb8e09341f7884d6b34d454b2992c7ce}{strides}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} dim)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{661         \textcolor{keywordflow}{if} (dim >= \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}())}
\DoxyCodeLine{662             \mbox{\hyperlink{classarray_a00dcb86f0bf1f925b23bd9ab028ffa13}{fail\_dim\_check}}(dim, \textcolor{stringliteral}{"{}invalid axis"{}});}
\DoxyCodeLine{663         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}()[dim];}
\DoxyCodeLine{664     \}}
\DoxyCodeLine{665 }
\DoxyCodeLine{667     \textcolor{keywordtype}{int} \mbox{\hyperlink{classarray_a38eb48c793621c12119ab7b64714955b}{flags}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{668         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{struct_py_array___proxy_a3eb84eade4ac85d3964c89b9b8a8645b}{flags}};}
\DoxyCodeLine{669     \}}
\DoxyCodeLine{670 }
\DoxyCodeLine{672     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classarray_a9c19f81ca43feebd34b2c9dd5b38f1d9}{writeable}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{673         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_acd70e5309413f3ecdb7ef051d6f8e894}{detail::check\_flags}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}, detail::npy\_api::NPY\_ARRAY\_WRITEABLE\_);}
\DoxyCodeLine{674     \}}
\DoxyCodeLine{675 }
\DoxyCodeLine{677     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classarray_aa1ad8575ad6a6b900027c360a44e7ef0}{owndata}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{678         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_acd70e5309413f3ecdb7ef051d6f8e894}{detail::check\_flags}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}, detail::npy\_api::NPY\_ARRAY\_OWNDATA\_);}
\DoxyCodeLine{679     \}}
\DoxyCodeLine{680 }
\DoxyCodeLine{683     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \textcolor{keyword}{const} \textcolor{keywordtype}{void}* \mbox{\hyperlink{classarray_aebe2badb2bf647e24b079f30ff6df7b7}{data}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{684         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{struct_py_array___proxy_ad09936736edcfb5eae60e35bdc56e21d}{data}} + \mbox{\hyperlink{classarray_ada98138e241b891a543478dbe6494f17}{offset\_at}}(index...));}
\DoxyCodeLine{685     \}}
\DoxyCodeLine{686 }
\DoxyCodeLine{690     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \textcolor{keywordtype}{void}* \mbox{\hyperlink{classarray_aa9e23dfb45abdcd696bad65937237166}{mutable\_data}}(Ix... index) \{}
\DoxyCodeLine{691         \mbox{\hyperlink{classarray_a967db5bead19594b8f4a95c29b8aa13a}{check\_writeable}}();}
\DoxyCodeLine{692         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}})-\/>\mbox{\hyperlink{struct_py_array___proxy_ad09936736edcfb5eae60e35bdc56e21d}{data}} + \mbox{\hyperlink{classarray_ada98138e241b891a543478dbe6494f17}{offset\_at}}(index...));}
\DoxyCodeLine{693     \}}
\DoxyCodeLine{694 }
\DoxyCodeLine{697     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_a0063e6a1d118abb371f769377b5fee21}{offset\_at}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{698         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) \textcolor{keyword}{sizeof}...(index) > \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}())}
\DoxyCodeLine{699             \mbox{\hyperlink{classarray_a00dcb86f0bf1f925b23bd9ab028ffa13}{fail\_dim\_check}}(\textcolor{keyword}{sizeof}...(index), \textcolor{stringliteral}{"{}too many indices for an array"{}});}
\DoxyCodeLine{700         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_a336f1f7f56775fa328587645f2ab6e6f}{byte\_offset}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(index)...);}
\DoxyCodeLine{701     \}}
\DoxyCodeLine{702 }
\DoxyCodeLine{703     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_ada98138e241b891a543478dbe6494f17}{offset\_at}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{704 }
\DoxyCodeLine{707     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_a48d7b1bd08e0a5cf1ef27a6996421e73}{index\_at}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{708         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_ada98138e241b891a543478dbe6494f17}{offset\_at}}(index...) / \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}}();}
\DoxyCodeLine{709     \}}
\DoxyCodeLine{710 }
\DoxyCodeLine{717     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} Dims = -\/1> detail::unchecked\_mutable\_reference<T, Dims> \mbox{\hyperlink{classarray_aa0a5fdf51bd58d94bf9dcf08fd4dd52c}{mutable\_unchecked}}() \& \{}
\DoxyCodeLine{718         \textcolor{keywordflow}{if} (Dims >= 0 \&\& \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}() != Dims)}
\DoxyCodeLine{719             \textcolor{keywordflow}{throw} std::domain\_error(\textcolor{stringliteral}{"{}array has incorrect number of dimensions: "{}} + std::to\_string(\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}()) +}
\DoxyCodeLine{720                     \textcolor{stringliteral}{"{}; expected "{}} + std::to\_string(Dims));}
\DoxyCodeLine{721         \textcolor{keywordflow}{return} detail::unchecked\_mutable\_reference<T, Dims>(\mbox{\hyperlink{classarray_aa9e23dfb45abdcd696bad65937237166}{mutable\_data}}(), \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}(), \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}(), \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}());}
\DoxyCodeLine{722     \}}
\DoxyCodeLine{723 }
\DoxyCodeLine{731     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} Dims = -\/1> detail::unchecked\_reference<T, Dims> \mbox{\hyperlink{classarray_a3c5b795b6ff9a83c3514d6c6a1309f8b}{unchecked}}() const \& \{}
\DoxyCodeLine{732         \textcolor{keywordflow}{if} (Dims >= 0 \&\& \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}() != Dims)}
\DoxyCodeLine{733             \textcolor{keywordflow}{throw} std::domain\_error(\textcolor{stringliteral}{"{}array has incorrect number of dimensions: "{}} + std::to\_string(\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}()) +}
\DoxyCodeLine{734                     \textcolor{stringliteral}{"{}; expected "{}} + std::to\_string(Dims));}
\DoxyCodeLine{735         \textcolor{keywordflow}{return} detail::unchecked\_reference<T, Dims>(\mbox{\hyperlink{classarray_aebe2badb2bf647e24b079f30ff6df7b7}{data}}(), \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}(), \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}(), \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}());}
\DoxyCodeLine{736     \}}
\DoxyCodeLine{737 }
\DoxyCodeLine{739     \mbox{\hyperlink{classarray}{array}} \mbox{\hyperlink{classarray_af0e9b034604a5306671cdb114855a972}{squeeze}}() \{}
\DoxyCodeLine{740         \textcolor{keyword}{auto}\& api = detail::npy\_api::get();}
\DoxyCodeLine{741         \textcolor{keywordflow}{return} reinterpret\_steal<array>(api.PyArray\_Squeeze\_(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}));}
\DoxyCodeLine{742     \}}
\DoxyCodeLine{743 }
\DoxyCodeLine{747     \textcolor{keywordtype}{void} \mbox{\hyperlink{classarray_a3e03dfffbf6c992364c052cf615db45b}{resize}}(\mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} new\_shape, \textcolor{keywordtype}{bool} refcheck = \textcolor{keyword}{true}) \{}
\DoxyCodeLine{748         detail::npy\_api::PyArray\_Dims \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}} = \{}
\DoxyCodeLine{749             new\_shape-\/>data(), int(new\_shape-\/>size())}
\DoxyCodeLine{750         \};}
\DoxyCodeLine{751         \textcolor{comment}{// try to resize, set ordering param to -\/1 cause it's not used anyway}}
\DoxyCodeLine{752         \textcolor{keywordtype}{object} new\_array = reinterpret\_steal<object>(}
\DoxyCodeLine{753             detail::npy\_api::get().PyArray\_Resize\_(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}, \&\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}, \textcolor{keywordtype}{int}(refcheck), -\/1)}
\DoxyCodeLine{754         );}
\DoxyCodeLine{755         \textcolor{keywordflow}{if} (!new\_array) \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{756         \textcolor{keywordflow}{if} (isinstance<array>(new\_array)) \{ *\textcolor{keyword}{this} = std::move(new\_array); \}}
\DoxyCodeLine{757     \}}
\DoxyCodeLine{758 }
\DoxyCodeLine{761     \textcolor{keyword}{static} \mbox{\hyperlink{classarray}{array}} \mbox{\hyperlink{classarray_a4b19125eed75474c00a93c829dba3a8b}{ensure}}(\mbox{\hyperlink{classhandle}{handle}} h, \textcolor{keywordtype}{int} ExtraFlags = 0) \{}
\DoxyCodeLine{762         \textcolor{keyword}{auto} result = reinterpret\_steal<array>(\mbox{\hyperlink{classarray_a0aa6d6979e8b2d420db747369180e70a}{raw\_array}}(h.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), ExtraFlags));}
\DoxyCodeLine{763         \textcolor{keywordflow}{if} (!result)}
\DoxyCodeLine{764             PyErr\_Clear();}
\DoxyCodeLine{765         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{766     \}}
\DoxyCodeLine{767 }
\DoxyCodeLine{768 \textcolor{keyword}{protected}:}
\DoxyCodeLine{769     \textcolor{keyword}{template}<\textcolor{keyword}{typename}, \textcolor{keyword}{typename}> \textcolor{keyword}{friend} \textcolor{keyword}{struct }\mbox{\hyperlink{classarray_a2d7124af4924ef006d3b7bfd42b05085}{detail::npy\_format\_descriptor}};}
\DoxyCodeLine{770 }
\DoxyCodeLine{771     \textcolor{keywordtype}{void} \mbox{\hyperlink{classarray_a00dcb86f0bf1f925b23bd9ab028ffa13}{fail\_dim\_check}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} dim, \textcolor{keyword}{const} std::string\& msg)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{772         \textcolor{keywordflow}{throw} index\_error(msg + \textcolor{stringliteral}{"{}: "{}} + std::to\_string(dim) +}
\DoxyCodeLine{773                           \textcolor{stringliteral}{"{} (ndim = "{}} + std::to\_string(\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}()) + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{774     \}}
\DoxyCodeLine{775 }
\DoxyCodeLine{776     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_a336f1f7f56775fa328587645f2ab6e6f}{byte\_offset}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{777         \mbox{\hyperlink{classarray_a1105041b04c18e91082ec096c0e53701}{check\_dimensions}}(index...);}
\DoxyCodeLine{778         \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_a88808dea5d74c6a9e518156db973c84b}{detail::byte\_offset\_unsafe}}(\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}(), \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(index)...);}
\DoxyCodeLine{779     \}}
\DoxyCodeLine{780 }
\DoxyCodeLine{781     \textcolor{keywordtype}{void} \mbox{\hyperlink{classarray_a967db5bead19594b8f4a95c29b8aa13a}{check\_writeable}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{782         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classarray_a9c19f81ca43feebd34b2c9dd5b38f1d9}{writeable}}())}
\DoxyCodeLine{783             \textcolor{keywordflow}{throw} std::domain\_error(\textcolor{stringliteral}{"{}array is not writeable"{}});}
\DoxyCodeLine{784     \}}
\DoxyCodeLine{785 }
\DoxyCodeLine{786     \textcolor{comment}{// Default, C-\/style strides}}
\DoxyCodeLine{787     \textcolor{keyword}{static} std::vector<ssize\_t> \mbox{\hyperlink{classarray_a6fa05aa35c1e79d5b9894154dbd7f0a0}{c\_strides}}(\textcolor{keyword}{const} std::vector<ssize\_t> \&\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}}) \{}
\DoxyCodeLine{788         \textcolor{keyword}{auto} \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}} = \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}.size();}
\DoxyCodeLine{789         std::vector<ssize\_t> \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}(\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}, \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}});}
\DoxyCodeLine{790         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}} > 0)}
\DoxyCodeLine{791             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}} -\/ 1; i > 0; -\/-\/i)}
\DoxyCodeLine{792                 \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}[i -\/ 1] = \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}[i] * \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}[i];}
\DoxyCodeLine{793         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}};}
\DoxyCodeLine{794     \}}
\DoxyCodeLine{795 }
\DoxyCodeLine{796     \textcolor{comment}{// F-\/style strides; default when constructing an array\_t with `ExtraFlags \& f\_style`}}
\DoxyCodeLine{797     \textcolor{keyword}{static} std::vector<ssize\_t> \mbox{\hyperlink{classarray_ab40dfe925523a6b73da55353fba426ec}{f\_strides}}(\textcolor{keyword}{const} std::vector<ssize\_t> \&\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}}) \{}
\DoxyCodeLine{798         \textcolor{keyword}{auto} \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}} = \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}.size();}
\DoxyCodeLine{799         std::vector<ssize\_t> \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}(\mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}, \mbox{\hyperlink{classarray_acd6aa4dba1e1db26fcfd21a323b4d4fa}{itemsize}});}
\DoxyCodeLine{800         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 1; i < \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}; ++i)}
\DoxyCodeLine{801             \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}[i] = \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}[i -\/ 1] * \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}[i -\/ 1];}
\DoxyCodeLine{802         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}};}
\DoxyCodeLine{803     \}}
\DoxyCodeLine{804 }
\DoxyCodeLine{805     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \textcolor{keywordtype}{void} \mbox{\hyperlink{classarray_a1105041b04c18e91082ec096c0e53701}{check\_dimensions}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{806         \mbox{\hyperlink{classarray_a7eb067f2de82290601537066e4cdfc70}{check\_dimensions\_impl}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(0), \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}(), \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(index)...);}
\DoxyCodeLine{807     \}}
\DoxyCodeLine{808 }
\DoxyCodeLine{809     \textcolor{keywordtype}{void} \mbox{\hyperlink{classarray_a7eb067f2de82290601537066e4cdfc70}{check\_dimensions\_impl}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}*)\textcolor{keyword}{ const }\{ \}}
\DoxyCodeLine{810 }
\DoxyCodeLine{811     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \textcolor{keywordtype}{void} \mbox{\hyperlink{classarray_a368cacc4c65057b1a97fb53ec158f98f}{check\_dimensions\_impl}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} axis, \textcolor{keyword}{const} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}* \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} i, Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{812         \textcolor{keywordflow}{if} (i >= *\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}) \{}
\DoxyCodeLine{813             \textcolor{keywordflow}{throw} index\_error(std::string(\textcolor{stringliteral}{"{}index "{}}) + std::to\_string(i) +}
\DoxyCodeLine{814                               \textcolor{stringliteral}{"{} is out of bounds for axis "{}} + std::to\_string(axis) +}
\DoxyCodeLine{815                               \textcolor{stringliteral}{"{} with size "{}} + std::to\_string(*\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}));}
\DoxyCodeLine{816         \}}
\DoxyCodeLine{817         \mbox{\hyperlink{classarray_a7eb067f2de82290601537066e4cdfc70}{check\_dimensions\_impl}}(axis + 1, \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}} + 1, index...);}
\DoxyCodeLine{818     \}}
\DoxyCodeLine{819 }
\DoxyCodeLine{821     \textcolor{keyword}{static} PyObject *\mbox{\hyperlink{classarray_a0aa6d6979e8b2d420db747369180e70a}{raw\_array}}(PyObject *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \textcolor{keywordtype}{int} ExtraFlags = 0) \{}
\DoxyCodeLine{822         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{823             PyErr\_SetString(PyExc\_ValueError, \textcolor{stringliteral}{"{}cannot create a pybind11::array from a nullptr"{}});}
\DoxyCodeLine{824             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{825         \}}
\DoxyCodeLine{826         \textcolor{keywordflow}{return} detail::npy\_api::get().PyArray\_FromAny\_(}
\DoxyCodeLine{827             \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \textcolor{keyword}{nullptr}, 0, 0, detail::npy\_api::NPY\_ARRAY\_ENSUREARRAY\_ | ExtraFlags, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{828     \}}
\DoxyCodeLine{829 \};}
\DoxyCodeLine{830 }
\DoxyCodeLine{831 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{int} ExtraFlags = array::forcecast> \textcolor{keyword}{class }\mbox{\hyperlink{classarray__t}{array\_t}} : \textcolor{keyword}{public} \mbox{\hyperlink{classarray}{array}} \{}
\DoxyCodeLine{832 \textcolor{keyword}{private}:}
\DoxyCodeLine{833     \textcolor{keyword}{struct }\mbox{\hyperlink{structarray__t_1_1private__ctor}{private\_ctor}} \{\};}
\DoxyCodeLine{834     \textcolor{comment}{// Delegating constructor needed when both moving and accessing in the same constructor}}
\DoxyCodeLine{835     \mbox{\hyperlink{classarray__t_af739d920ce91b08b30b38e7b8a978f43}{array\_t}}(\mbox{\hyperlink{structarray__t_1_1private__ctor}{private\_ctor}}, \mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \&\&\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{classarray_a8ba4f30946f0bc69ec937160c9fb10e1}{StridesContainer}} \&\&\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}})}
\DoxyCodeLine{836         : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}), \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}), \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{structbase}{base}}) \{\}}
\DoxyCodeLine{837 \textcolor{keyword}{public}:}
\DoxyCodeLine{838     \textcolor{keyword}{static\_assert}(!detail::array\_info<T>::is\_array, \textcolor{stringliteral}{"{}Array types cannot be used with array\_t"{}});}
\DoxyCodeLine{839 }
\DoxyCodeLine{840     \textcolor{keyword}{using} \mbox{\hyperlink{classarray__t_a8d5309087f29c7ad8a9187ec9756a6c2}{value\_type}} = T;}
\DoxyCodeLine{841 }
\DoxyCodeLine{842     \mbox{\hyperlink{classarray__t_a8f6c17079f3e88320d6a8461c81d6542}{array\_t}}() : \mbox{\hyperlink{classarray}{array}}(0, static\_cast<const T *>(nullptr)) \{\}}
\DoxyCodeLine{843     \mbox{\hyperlink{classarray__t_a1572688dd276c040ecf7cf95bf71f99d}{array\_t}}(\mbox{\hyperlink{classhandle}{handle}} h, \mbox{\hyperlink{structobject_1_1borrowed__t}{borrowed\_t}}) : \mbox{\hyperlink{classarray}{array}}(h, \mbox{\hyperlink{structobject_1_1borrowed__t}{borrowed\_t}}\{\}) \{ \}}
\DoxyCodeLine{844     \mbox{\hyperlink{classarray__t_a6173d09655f37b338be294b3fb9c5fd6}{array\_t}}(\mbox{\hyperlink{classhandle}{handle}} h, \mbox{\hyperlink{structobject_1_1stolen__t}{stolen\_t}}) : \mbox{\hyperlink{classarray}{array}}(h, \mbox{\hyperlink{structobject_1_1stolen__t}{stolen\_t}}\{\}) \{ \}}
\DoxyCodeLine{845 }
\DoxyCodeLine{846     \mbox{\hyperlink{classobject_af2b49798a85dc52371995578108d84e1}{PYBIND11\_DEPRECATED}}(\textcolor{stringliteral}{"{}Use array\_t<T>::ensure() instead"{}})}
\DoxyCodeLine{847     \mbox{\hyperlink{classarray__t}{array\_t}}(\mbox{\hyperlink{classhandle}{handle}} h, \textcolor{keywordtype}{bool} \mbox{\hyperlink{classobject_a4ebda2f2d08435f4d70d822908d7e431}{is\_borrowed}}) : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{classarray__t_a48f24e4aa6c5bd39b7897bfe3524ddbd}{raw\_array\_t}}(h.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}()), \mbox{\hyperlink{structobject_1_1stolen__t}{stolen\_t}}\{\}) \{}
\DoxyCodeLine{848         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}) PyErr\_Clear();}
\DoxyCodeLine{849         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classobject_a4ebda2f2d08435f4d70d822908d7e431}{is\_borrowed}}) Py\_XDECREF(h.ptr());}
\DoxyCodeLine{850     \}}
\DoxyCodeLine{851 }
\DoxyCodeLine{852     \mbox{\hyperlink{classarray__t_a85907bc49d323017981e8987e55405b5}{array\_t}}(\textcolor{keyword}{const} \textcolor{keywordtype}{object} \&o) : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{classarray__t_a48f24e4aa6c5bd39b7897bfe3524ddbd}{raw\_array\_t}}(o.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}()), \mbox{\hyperlink{structobject_1_1stolen__t}{stolen\_t}}\{\}) \{}
\DoxyCodeLine{853         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}) \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{854     \}}
\DoxyCodeLine{855 }
\DoxyCodeLine{856     \textcolor{keyword}{explicit} \mbox{\hyperlink{classarray__t_ab16a1d127243be1853d6c03c7c853160}{array\_t}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}}\& \mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}) : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{ndarray__converter_8cpp_a74d46cdd5cb355d922d75d4156cc1524}{info}}) \{ \}}
\DoxyCodeLine{857 }
\DoxyCodeLine{858     \mbox{\hyperlink{classarray__t_abacd58d596a65f7c9693b7d61285af5a}{array\_t}}(\mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{classarray_a8ba4f30946f0bc69ec937160c9fb10e1}{StridesContainer}} \mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} = \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{859         : \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}), \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a29e3cbc08a6c1f2e713ed1c00a91d9fc}{strides}}), \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{structbase}{base}}) \{ \}}
\DoxyCodeLine{860 }
\DoxyCodeLine{861     \textcolor{keyword}{explicit} \mbox{\hyperlink{classarray__t_a93a19b75568c0df2c021f6ca74f5c59f}{array\_t}}(\mbox{\hyperlink{classarray_a3378d7821106645fa3a88c5222e127e0}{ShapeContainer}} \mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} = \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{862         : \mbox{\hyperlink{classarray__t}{array\_t}}(\mbox{\hyperlink{structarray__t_1_1private__ctor}{private\_ctor}}\{\}, \mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a3734a903022249b3010be1897042568e}{move}}(\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}),}
\DoxyCodeLine{863                 ExtraFlags \& \mbox{\hyperlink{classarray_ae8bcbba531ac94a007768363ecc186eba184167ee839296f10d5c04c1480736bd}{f\_style}} ? \mbox{\hyperlink{classarray_ab40dfe925523a6b73da55353fba426ec}{f\_strides}}(*\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{classarray__t_a59865c505f703937ca2b021e9e9b7a35}{itemsize}}()) : \mbox{\hyperlink{classarray_a6fa05aa35c1e79d5b9894154dbd7f0a0}{c\_strides}}(*\mbox{\hyperlink{classarray_a67d6d0115fb7d616ffe28792da8a33f6}{shape}}, \mbox{\hyperlink{classarray__t_a59865c505f703937ca2b021e9e9b7a35}{itemsize}}()),}
\DoxyCodeLine{864                 \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{structbase}{base}}) \{ \}}
\DoxyCodeLine{865 }
\DoxyCodeLine{866     \textcolor{keyword}{explicit} \mbox{\hyperlink{classarray__t_a130630a78f09e64673c5524ded69a368}{array\_t}}(\textcolor{keywordtype}{size\_t} count, \textcolor{keyword}{const} T *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} = \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}} = \mbox{\hyperlink{classhandle_a53ba30cccfb1cabee421fd4ea555cf44}{handle}}())}
\DoxyCodeLine{867         : \mbox{\hyperlink{classarray}{array}}(\{count\}, \{\}, \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, \mbox{\hyperlink{classarray_a33a2f2933da6ca35a8ac82709df90038}{base}}) \{ \}}
\DoxyCodeLine{868 }
\DoxyCodeLine{869     \textcolor{keyword}{constexpr} \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray__t_a59865c505f703937ca2b021e9e9b7a35}{itemsize}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{870         \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(T);}
\DoxyCodeLine{871     \}}
\DoxyCodeLine{872 }
\DoxyCodeLine{873     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{classarray__t_a3702471be3f9fc83f0e96a6a9807388b}{index\_at}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{874         \textcolor{keywordflow}{return} \mbox{\hyperlink{classarray_ada98138e241b891a543478dbe6494f17}{offset\_at}}(index...) / \mbox{\hyperlink{classarray__t_a59865c505f703937ca2b021e9e9b7a35}{itemsize}}();}
\DoxyCodeLine{875     \}}
\DoxyCodeLine{876 }
\DoxyCodeLine{877     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \textcolor{keyword}{const} T* \mbox{\hyperlink{classarray__t_a2ee342f4e2dd56ec93730d5a387bd28f}{data}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{878         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }T*\textcolor{keyword}{>}(\mbox{\hyperlink{classarray_aebe2badb2bf647e24b079f30ff6df7b7}{array::data}}(index...));}
\DoxyCodeLine{879     \}}
\DoxyCodeLine{880 }
\DoxyCodeLine{881     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> T* \mbox{\hyperlink{classarray__t_a36ef1b532b88bcfa508d08c43865e4c0}{mutable\_data}}(Ix... index) \{}
\DoxyCodeLine{882         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{classarray_aa9e23dfb45abdcd696bad65937237166}{array::mutable\_data}}(index...));}
\DoxyCodeLine{883     \}}
\DoxyCodeLine{884 }
\DoxyCodeLine{885     \textcolor{comment}{// Reference to element at a given index}}
\DoxyCodeLine{886     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> \textcolor{keyword}{const} T\& \mbox{\hyperlink{classarray__t_a409065fd47cdec36137bce9aac94c875}{at}}(Ix... index)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{887         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) \textcolor{keyword}{sizeof}...(index) != \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}())}
\DoxyCodeLine{888             \mbox{\hyperlink{classarray_a00dcb86f0bf1f925b23bd9ab028ffa13}{fail\_dim\_check}}(\textcolor{keyword}{sizeof}...(index), \textcolor{stringliteral}{"{}index dimension mismatch"{}});}
\DoxyCodeLine{889         \textcolor{keywordflow}{return} *(\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }T*\textcolor{keyword}{>}(\mbox{\hyperlink{classarray_aebe2badb2bf647e24b079f30ff6df7b7}{array::data}}()) + \mbox{\hyperlink{classarray_a336f1f7f56775fa328587645f2ab6e6f}{byte\_offset}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(index)...) / \mbox{\hyperlink{classarray__t_a59865c505f703937ca2b021e9e9b7a35}{itemsize}}());}
\DoxyCodeLine{890     \}}
\DoxyCodeLine{891 }
\DoxyCodeLine{892     \textcolor{comment}{// Mutable reference to element at a given index}}
\DoxyCodeLine{893     \textcolor{keyword}{template}<\textcolor{keyword}{typename}... Ix> T\& \mbox{\hyperlink{classarray__t_a4aa70080142732b0fd9a8eb39ac03fbc}{mutable\_at}}(Ix... index) \{}
\DoxyCodeLine{894         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}) \textcolor{keyword}{sizeof}...(index) != \mbox{\hyperlink{classarray_a184360492eac7224753f132d1a0a973e}{ndim}}())}
\DoxyCodeLine{895             \mbox{\hyperlink{classarray_a00dcb86f0bf1f925b23bd9ab028ffa13}{fail\_dim\_check}}(\textcolor{keyword}{sizeof}...(index), \textcolor{stringliteral}{"{}index dimension mismatch"{}});}
\DoxyCodeLine{896         \textcolor{keywordflow}{return} *(\textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{classarray_aa9e23dfb45abdcd696bad65937237166}{array::mutable\_data}}()) + \mbox{\hyperlink{classarray_a336f1f7f56775fa328587645f2ab6e6f}{byte\_offset}}(\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(index)...) / \mbox{\hyperlink{classarray__t_a59865c505f703937ca2b021e9e9b7a35}{itemsize}}());}
\DoxyCodeLine{897     \}}
\DoxyCodeLine{898 }
\DoxyCodeLine{905     \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} Dims = -\/1> detail::unchecked\_mutable\_reference<T, Dims> \mbox{\hyperlink{classarray__t_ac6176be63005a5478cb2c828f50f0715}{mutable\_unchecked}}() \& \{}
\DoxyCodeLine{906         \textcolor{keywordflow}{return} array::mutable\_unchecked<T, Dims>();}
\DoxyCodeLine{907     \}}
\DoxyCodeLine{908 }
\DoxyCodeLine{916     \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} Dims = -\/1> detail::unchecked\_reference<T, Dims> \mbox{\hyperlink{classarray__t_ae87947f8eaed064f04e9fdd0c7f5bc64}{unchecked}}() const \& \{}
\DoxyCodeLine{917         \textcolor{keywordflow}{return} array::unchecked<T, Dims>();}
\DoxyCodeLine{918     \}}
\DoxyCodeLine{919 }
\DoxyCodeLine{922     \textcolor{keyword}{static} \mbox{\hyperlink{classarray__t}{array\_t}} \mbox{\hyperlink{classarray__t_a9e4404f6ad193d54f7354655823d3841}{ensure}}(\mbox{\hyperlink{classhandle}{handle}} h) \{}
\DoxyCodeLine{923         \textcolor{keyword}{auto} result = reinterpret\_steal<array\_t>(\mbox{\hyperlink{classarray__t_a48f24e4aa6c5bd39b7897bfe3524ddbd}{raw\_array\_t}}(h.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}()));}
\DoxyCodeLine{924         \textcolor{keywordflow}{if} (!result)}
\DoxyCodeLine{925             PyErr\_Clear();}
\DoxyCodeLine{926         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{927     \}}
\DoxyCodeLine{928 }
\DoxyCodeLine{929     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classarray__t_a9cfdc02b42e11147b419b4e2a98d2591}{check\_}}(\mbox{\hyperlink{classhandle}{handle}} h) \{}
\DoxyCodeLine{930         \textcolor{keyword}{const} \textcolor{keyword}{auto} \&api = detail::npy\_api::get();}
\DoxyCodeLine{931         \textcolor{keywordflow}{return} api.PyArray\_Check\_(h.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}())}
\DoxyCodeLine{932                \&\& api.PyArray\_EquivTypes\_(\mbox{\hyperlink{numpy_8h_a186fb9996379f73af97c9e42dd055db8}{detail::array\_proxy}}(h.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}())-\/>\mbox{\hyperlink{struct_py_array___proxy_a61adbd0c265ff6e68f5d38d977179f2a}{descr}}, dtype::of<T>().ptr());}
\DoxyCodeLine{933     \}}
\DoxyCodeLine{934 }
\DoxyCodeLine{935 \textcolor{keyword}{protected}:}
\DoxyCodeLine{937     \textcolor{keyword}{static} PyObject *\mbox{\hyperlink{classarray__t_a48f24e4aa6c5bd39b7897bfe3524ddbd}{raw\_array\_t}}(PyObject *\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}) \{}
\DoxyCodeLine{938         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{939             PyErr\_SetString(PyExc\_ValueError, \textcolor{stringliteral}{"{}cannot create a pybind11::array\_t from a nullptr"{}});}
\DoxyCodeLine{940             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{941         \}}
\DoxyCodeLine{942         \textcolor{keywordflow}{return} detail::npy\_api::get().PyArray\_FromAny\_(}
\DoxyCodeLine{943             \mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, dtype::of<T>().\mbox{\hyperlink{classobject_a4ce66b1d44b37ae6b28e80228b075aae}{release}}().\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), 0, 0,}
\DoxyCodeLine{944             detail::npy\_api::NPY\_ARRAY\_ENSUREARRAY\_ | ExtraFlags, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{945     \}}
\DoxyCodeLine{946 \};}
\DoxyCodeLine{947 }
\DoxyCodeLine{948 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{949 \textcolor{keyword}{struct }\mbox{\hyperlink{structformat__descriptor}{format\_descriptor}}<T, detail::\mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<detail::is\_pod\_struct<T>::value>> \{}
\DoxyCodeLine{950     \textcolor{keyword}{static} std::string \mbox{\hyperlink{structformat__descriptor_3_01_t_00_01detail_1_1enable__if__t_3_01detail_1_1is__pod__struct_3_01_t_01_4_1_1value_01_4_01_4_a9fb2753e0a41765a59d716a27e199bd6}{format}}() \{}
\DoxyCodeLine{951         \textcolor{keywordflow}{return} detail::npy\_format\_descriptor<typename std::remove\_cv<T>::type>::format();}
\DoxyCodeLine{952     \}}
\DoxyCodeLine{953 \};}
\DoxyCodeLine{954 }
\DoxyCodeLine{955 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structformat__descriptor}{format\_descriptor}}<char[N]> \{}
\DoxyCodeLine{956     \textcolor{keyword}{static} std::string \mbox{\hyperlink{structformat__descriptor_3_01char_0f_n_0e_4_a515d2f7d101b315a139d292972ffc438}{format}}() \{ \textcolor{keywordflow}{return} std::to\_string(N) + \textcolor{stringliteral}{"{}s"{}}; \}}
\DoxyCodeLine{957 \};}
\DoxyCodeLine{958 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structformat__descriptor}{format\_descriptor}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<char, N>> \{}
\DoxyCodeLine{959     \textcolor{keyword}{static} std::string \mbox{\hyperlink{structformat__descriptor_3_01std_1_1array_3_01char_00_01_n_01_4_01_4_a3230445e2c426bac1a67e6cdcbe7d67e}{format}}() \{ \textcolor{keywordflow}{return} std::to\_string(N) + \textcolor{stringliteral}{"{}s"{}}; \}}
\DoxyCodeLine{960 \};}
\DoxyCodeLine{961 }
\DoxyCodeLine{962 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{963 \textcolor{keyword}{struct }\mbox{\hyperlink{structformat__descriptor}{format\_descriptor}}<T, detail::\mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<std::is\_enum<T>::value>> \{}
\DoxyCodeLine{964     \textcolor{keyword}{static} std::string \mbox{\hyperlink{structformat__descriptor_3_01_t_00_01detail_1_1enable__if__t_3_01std_1_1is__enum_3_01_t_01_4_1_1value_01_4_01_4_a918aee58e242e820d297278fbf62a209}{format}}() \{}
\DoxyCodeLine{965         \textcolor{keywordflow}{return} \mbox{\hyperlink{structformat__descriptor}{format\_descriptor}}<}
\DoxyCodeLine{966             \textcolor{keyword}{typename} std::remove\_cv<typename std::underlying\_type<T>::type>::type>::format();}
\DoxyCodeLine{967     \}}
\DoxyCodeLine{968 \};}
\DoxyCodeLine{969 }
\DoxyCodeLine{970 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{971 \textcolor{keyword}{struct }\mbox{\hyperlink{structformat__descriptor}{format\_descriptor}}<T, detail::\mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<detail::array\_info<T>::is\_array>> \{}
\DoxyCodeLine{972     \textcolor{keyword}{static} std::string \mbox{\hyperlink{structformat__descriptor_3_01_t_00_01detail_1_1enable__if__t_3_01detail_1_1array__info_3_01_t_01_4_1_1is__array_01_4_01_4_a262663ba66d4062b839cd56671a92928}{format}}() \{}
\DoxyCodeLine{973         \textcolor{keyword}{using namespace }detail;}
\DoxyCodeLine{974         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} extents = \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}("{}}) + \mbox{\hyperlink{structarray__info}{array\_info<T>::extents}} + \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{975         \textcolor{keywordflow}{return} extents.text + \mbox{\hyperlink{structformat__descriptor}{format\_descriptor<remove\_all\_extents\_t<T>}}>::format();}
\DoxyCodeLine{976     \}}
\DoxyCodeLine{977 \};}
\DoxyCodeLine{978 }
\DoxyCodeLine{979 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{980 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{int} ExtraFlags>}
\DoxyCodeLine{981 \textcolor{keyword}{struct }\mbox{\hyperlink{structpyobject__caster}{pyobject\_caster}}<\mbox{\hyperlink{classarray__t}{array\_t}}<T, ExtraFlags>> \{}
\DoxyCodeLine{982     \textcolor{keyword}{using} \mbox{\hyperlink{classarray__t}{type}} = \mbox{\hyperlink{classarray__t}{array\_t<T, ExtraFlags>}};}
\DoxyCodeLine{983 }
\DoxyCodeLine{984     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structpyobject__caster_3_01array__t_3_01_t_00_01_extra_flags_01_4_01_4_af469a144594ab1c83932bccc33f4daf9}{load}}(\mbox{\hyperlink{classhandle}{handle}} src, \textcolor{keywordtype}{bool} convert) \{}
\DoxyCodeLine{985         \textcolor{keywordflow}{if} (!convert \&\& !type::check\_(src))}
\DoxyCodeLine{986             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{987         value = type::ensure(src);}
\DoxyCodeLine{988         \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{bool}\textcolor{keyword}{>}(value);}
\DoxyCodeLine{989     \}}
\DoxyCodeLine{990 }
\DoxyCodeLine{991     \textcolor{keyword}{static} \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structpyobject__caster_3_01array__t_3_01_t_00_01_extra_flags_01_4_01_4_af2fbc4ba55946572a989d6a17a89235b}{cast}}(\textcolor{keyword}{const} \mbox{\hyperlink{classhandle}{handle}} \&src, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} \textcolor{comment}{/* policy */}, \mbox{\hyperlink{classhandle}{handle}} \textcolor{comment}{/* parent */}) \{}
\DoxyCodeLine{992         \textcolor{keywordflow}{return} src.\mbox{\hyperlink{classhandle_a1a13c72238d8df4d42c1656e446fbfcb}{inc\_ref}}();}
\DoxyCodeLine{993     \}}
\DoxyCodeLine{994     \mbox{\hyperlink{structpyobject__caster_3_01array__t_3_01_t_00_01_extra_flags_01_4_01_4_a65398f53f654664d102b75c5818b515c}{PYBIND11\_TYPE\_CASTER}}(\mbox{\hyperlink{classarray__t}{type}}, \mbox{\hyperlink{structhandle__type__name}{handle\_type\_name<type>::name}});}
\DoxyCodeLine{995 \};}
\DoxyCodeLine{996 }
\DoxyCodeLine{997 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{998 \textcolor{keyword}{struct }\mbox{\hyperlink{structcompare__buffer__info}{compare\_buffer\_info}}<T, detail::\mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<detail::is\_pod\_struct<T>::value>> \{}
\DoxyCodeLine{999     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structcompare__buffer__info_3_01_t_00_01detail_1_1enable__if__t_3_01detail_1_1is__pod__struct_3_01_t_01_4_1_1value_01_4_01_4_ab0e66eb6cf042e81ddbb11d5f16d2ecb}{compare}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}}\& b) \{}
\DoxyCodeLine{1000         \textcolor{keywordflow}{return} \mbox{\hyperlink{structnpy__api_aa680c124450310a5060d0b2605a983dd}{npy\_api::get}}().\mbox{\hyperlink{structnpy__api_a679481716d90329a4a5af98fab660a9b}{PyArray\_EquivTypes\_}}(dtype::of<T>().ptr(), \mbox{\hyperlink{classdtype}{dtype}}(b).ptr());}
\DoxyCodeLine{1001     \}}
\DoxyCodeLine{1002 \};}
\DoxyCodeLine{1003 }
\DoxyCodeLine{1004 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename} = \textcolor{keywordtype}{void}>}
\DoxyCodeLine{1005 \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor__name}{npy\_format\_descriptor\_name}};}
\DoxyCodeLine{1006 }
\DoxyCodeLine{1007 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1008 \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor__name}{npy\_format\_descriptor\_name}}<T, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<\mbox{\hyperlink{namespacestd}{std}}::is\_integral<T>::value>> \{}
\DoxyCodeLine{1009     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = \_<std::is\_same<T, bool>::value>(}
\DoxyCodeLine{1010         \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}bool"{}}), \_<std::is\_signed<T>::value>(\textcolor{stringliteral}{"{}int"{}}, \textcolor{stringliteral}{"{}uint"{}}) + \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}<\textcolor{keyword}{sizeof}(T)*8>()}
\DoxyCodeLine{1011     );}
\DoxyCodeLine{1012 \};}
\DoxyCodeLine{1013 }
\DoxyCodeLine{1014 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1015 \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor__name}{npy\_format\_descriptor\_name}}<T, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<\mbox{\hyperlink{namespacestd}{std}}::is\_floating\_point<T>::value>> \{}
\DoxyCodeLine{1016     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = \_<std::is\_same<T, float>::value || std::is\_same<T, double>::value>(}
\DoxyCodeLine{1017         \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}float"{}}) + \_<sizeof(T)*8>(), \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}longdouble"{}})}
\DoxyCodeLine{1018     );}
\DoxyCodeLine{1019 \};}
\DoxyCodeLine{1020 }
\DoxyCodeLine{1021 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1022 \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor__name}{npy\_format\_descriptor\_name}}<T, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<\mbox{\hyperlink{structis__complex}{is\_complex}}<T>::value>> \{}
\DoxyCodeLine{1023     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = \_<std::is\_same<typename T::value\_type, float>::value}
\DoxyCodeLine{1024                                    || std::is\_same<typename T::value\_type, double>::value>(}
\DoxyCodeLine{1025         \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}complex"{}}) + \_<sizeof(typename T::value\_type)*16>(), \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}longcomplex"{}})}
\DoxyCodeLine{1026     );}
\DoxyCodeLine{1027 \};}
\DoxyCodeLine{1028 }
\DoxyCodeLine{1029 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1030 \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}}<T, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<\mbox{\hyperlink{structnegation}{satisfies\_any\_of}}<T, \mbox{\hyperlink{namespacestd}{std}}::is\_arithmetic, \mbox{\hyperlink{structis__complex}{is\_complex}}>::value>>}
\DoxyCodeLine{1031     : \mbox{\hyperlink{structnpy__format__descriptor__name}{npy\_format\_descriptor\_name}}<T> \{}
\DoxyCodeLine{1032 \textcolor{keyword}{private}:}
\DoxyCodeLine{1033     \textcolor{comment}{// NB: the order here must match the one in common.h}}
\DoxyCodeLine{1034     \textcolor{keyword}{constexpr} \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} values[15] = \{}
\DoxyCodeLine{1035         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7b75818adcb4c286c09d0611c4136312}{npy\_api::NPY\_BOOL\_}},}
\DoxyCodeLine{1036         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a0d21a6802542c14292fb55e5d13dcaf7}{npy\_api::NPY\_BYTE\_}},   \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a33bd1daf2cee4eac13a71155e374b17a}{npy\_api::NPY\_UBYTE\_}},   \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a2e9a159bf14e844171a42f61439dcea4}{npy\_api::NPY\_INT16\_}},    \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a322a7f1597803e8c63a92e88d029de89}{npy\_api::NPY\_UINT16\_}},}
\DoxyCodeLine{1037         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a434680f7373e324fb17122315d3af290}{npy\_api::NPY\_INT32\_}},  \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9aca6f931706e09c1908adb18c4df95f05}{npy\_api::NPY\_UINT32\_}},  \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a1f36a8977516eb5460d7373852c9ba31}{npy\_api::NPY\_INT64\_}},    \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a6666d63b5c42ea62225344bc66366c0c}{npy\_api::NPY\_UINT64\_}},}
\DoxyCodeLine{1038         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7308ad9516a9a2e38b86f9cec8ae12c0}{npy\_api::NPY\_FLOAT\_}},  \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a7d30fb8ebd690f8abf041ac66a6ce548}{npy\_api::NPY\_DOUBLE\_}},  \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a0039597c9aefc43a2d6f50038a055d92}{npy\_api::NPY\_LONGDOUBLE\_}},}
\DoxyCodeLine{1039         \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9af17bc31bac8c717ad29f13a1a14e0522}{npy\_api::NPY\_CFLOAT\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a5f36a2568bdb0e8e710d35105e205ccf}{npy\_api::NPY\_CDOUBLE\_}}, \mbox{\hyperlink{structnpy__api_a788409fb003cbdfdb9adee0cfb6573f9a62a0d7624d7c1a30f1f3f1d77f685844}{npy\_api::NPY\_CLONGDOUBLE\_}}}
\DoxyCodeLine{1040     \};}
\DoxyCodeLine{1041 }
\DoxyCodeLine{1042 \textcolor{keyword}{public}:}
\DoxyCodeLine{1043     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} value = values[detail::is\_fmt\_numeric<T>::index];}
\DoxyCodeLine{1044 }
\DoxyCodeLine{1045     \textcolor{keyword}{static} pybind11::dtype \mbox{\hyperlink{structnpy__format__descriptor_3_01_t_00_01enable__if__t_3_01satisfies__any__of_3_01_t_00_01std_19664305ecd151fe63e888175be34ab54_a19c914b27b36fdbdb70e6318e8065e6e}{dtype}}() \{}
\DoxyCodeLine{1046         \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} ptr = \mbox{\hyperlink{structnpy__api_aa680c124450310a5060d0b2605a983dd}{npy\_api::get}}().PyArray\_DescrFromType\_(value))}
\DoxyCodeLine{1047             \textcolor{keywordflow}{return} reinterpret\_steal<pybind11::dtype>(ptr);}
\DoxyCodeLine{1048         \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Unsupported buffer format!"{}});}
\DoxyCodeLine{1049     \}}
\DoxyCodeLine{1050 \};}
\DoxyCodeLine{1051 }
\DoxyCodeLine{1052 \textcolor{preprocessor}{\#define PYBIND11\_DECL\_CHAR\_FMT \(\backslash\)}}
\DoxyCodeLine{1053 \textcolor{preprocessor}{    static constexpr auto name = \_("{}S"{}}) + \_<N>(); \(\backslash\)}
\DoxyCodeLine{1054     static pybind11::dtype dtype() \{ return pybind11::dtype(std::string("{}S"{}) + std::to\_string(N)); \}}
\DoxyCodeLine{1055 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}}<char[N]> \{ \mbox{\hyperlink{numpy_8h_a5d648509b51165aa56ed64b224aecb05}{PYBIND11\_DECL\_CHAR\_FMT}} \};}
\DoxyCodeLine{1056 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}}<\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{classarray}{array}}<char, N>> \{ \mbox{\hyperlink{numpy_8h_a5d648509b51165aa56ed64b224aecb05}{PYBIND11\_DECL\_CHAR\_FMT}} \};}
\DoxyCodeLine{1057 \textcolor{preprocessor}{\#undef PYBIND11\_DECL\_CHAR\_FMT}}
\DoxyCodeLine{1058 }
\DoxyCodeLine{1059 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}}<T, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<\mbox{\hyperlink{structarray__info}{array\_info}}<T>::is\_array>> \{}
\DoxyCodeLine{1060 \textcolor{keyword}{private}:}
\DoxyCodeLine{1061     \textcolor{keyword}{using} \mbox{\hyperlink{structnpy__format__descriptor}{base\_descr}} = \mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor<typename array\_info<T>::type}}>;}
\DoxyCodeLine{1062 \textcolor{keyword}{public}:}
\DoxyCodeLine{1063     \textcolor{keyword}{static\_assert}(!\mbox{\hyperlink{structarray__info}{array\_info<T>::is\_empty}}, \textcolor{stringliteral}{"{}Zero-\/sized arrays are not supported"{}});}
\DoxyCodeLine{1064 }
\DoxyCodeLine{1065     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}("{}}) + \mbox{\hyperlink{structarray__info}{array\_info<T>::extents}} + \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{})"{}}) + base\_descr::name;}
\DoxyCodeLine{1066     \textcolor{keyword}{static} pybind11::dtype \mbox{\hyperlink{structnpy__format__descriptor_3_01_t_00_01enable__if__t_3_01array__info_3_01_t_01_4_1_1is__array_01_4_01_4_aa115eb62d76563508a93790d6a8fb6e4}{dtype}}() \{}
\DoxyCodeLine{1067         \mbox{\hyperlink{structlist}{list}} shape;}
\DoxyCodeLine{1068         \mbox{\hyperlink{structarray__info__scalar_ae04c8e13cf1152eda868be73d269f801}{array\_info<T>::append\_extents}}(shape);}
\DoxyCodeLine{1069         \textcolor{keywordflow}{return} pybind11::dtype::from\_args(\mbox{\hyperlink{cast_8h_aa579291da56488336ff46fda4743248d}{pybind11::make\_tuple}}(base\_descr::dtype(), shape));}
\DoxyCodeLine{1070     \}}
\DoxyCodeLine{1071 \};}
\DoxyCodeLine{1072 }
\DoxyCodeLine{1073 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}}<T, \mbox{\hyperlink{detail_2common_8h_a012819c9e8b5e04872a271f50f8b8196}{enable\_if\_t}}<\mbox{\hyperlink{namespacestd}{std}}::is\_enum<T>::value>> \{}
\DoxyCodeLine{1074 \textcolor{keyword}{private}:}
\DoxyCodeLine{1075     \textcolor{keyword}{using} \mbox{\hyperlink{structnpy__format__descriptor}{base\_descr}} = \mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor<typename std::underlying\_type<T>::type}}>;}
\DoxyCodeLine{1076 \textcolor{keyword}{public}:}
\DoxyCodeLine{1077     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = base\_descr::name;}
\DoxyCodeLine{1078     \textcolor{keyword}{static} pybind11::dtype \mbox{\hyperlink{structnpy__format__descriptor_3_01_t_00_01enable__if__t_3_01std_1_1is__enum_3_01_t_01_4_1_1value_01_4_01_4_ab86909b4ce4253a9e94b82c4a09fcd61}{dtype}}() \{ \textcolor{keywordflow}{return} base\_descr::dtype(); \}}
\DoxyCodeLine{1079 \};}
\DoxyCodeLine{1080 }
\DoxyCodeLine{1081 \textcolor{keyword}{struct }\mbox{\hyperlink{structfield__descriptor}{field\_descriptor}} \{}
\DoxyCodeLine{1082     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structfield__descriptor_a2b8d0e45646daa97e6730819f5556c12}{name}};}
\DoxyCodeLine{1083     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{structfield__descriptor_a3b43f6fd295c953e0dc7284d042b9dbf}{offset}};}
\DoxyCodeLine{1084     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \mbox{\hyperlink{structfield__descriptor_ab74ae9e9a3dc6856c5a839abc26c108b}{size}};}
\DoxyCodeLine{1085     std::string \mbox{\hyperlink{structfield__descriptor_a62ccb1dd21c92d24369e9cbdc66b659b}{format}};}
\DoxyCodeLine{1086     \mbox{\hyperlink{classdtype}{dtype}} \mbox{\hyperlink{structfield__descriptor_ac064bb6739b0968db35585c230f28f65}{descr}};}
\DoxyCodeLine{1087 \};}
\DoxyCodeLine{1088 }
\DoxyCodeLine{1089 \textcolor{keyword}{inline} \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} \mbox{\hyperlink{numpy_8h_ac12f1d199dfab9ba6b61ab85408b6994}{register\_structured\_dtype}}(}
\DoxyCodeLine{1090     \mbox{\hyperlink{classany__container}{any\_container<field\_descriptor>}} fields,}
\DoxyCodeLine{1091     \textcolor{keyword}{const} std::type\_info\& tinfo, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} itemsize,}
\DoxyCodeLine{1092     \textcolor{keywordtype}{bool} (*direct\_converter)(PyObject *, \textcolor{keywordtype}{void} *\&)) \{}
\DoxyCodeLine{1093 }
\DoxyCodeLine{1094     \textcolor{keyword}{auto}\& \mbox{\hyperlink{structnumpy__internals}{numpy\_internals}} = \mbox{\hyperlink{numpy_8h_a6edede565331324ca78d34ca91a6d122}{get\_numpy\_internals}}();}
\DoxyCodeLine{1095     \textcolor{keywordflow}{if} (\mbox{\hyperlink{structnumpy__internals}{numpy\_internals}}.\mbox{\hyperlink{structnumpy__internals_aa0760d738f411ef24f5807d7efe9df75}{get\_type\_info}}(tinfo, \textcolor{keyword}{false}))}
\DoxyCodeLine{1096         \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}NumPy: dtype is already registered"{}});}
\DoxyCodeLine{1097 }
\DoxyCodeLine{1098     \textcolor{comment}{// Use ordered fields because order matters as of NumPy 1.14:}}
\DoxyCodeLine{1099     \textcolor{comment}{// https://docs.scipy.org/doc/numpy/release.html\#multiple-\/field-\/indexing-\/assignment-\/of-\/structured-\/arrays}}
\DoxyCodeLine{1100     std::vector<field\_descriptor> ordered\_fields(std::move(fields));}
\DoxyCodeLine{1101     std::sort(ordered\_fields.begin(), ordered\_fields.end(),}
\DoxyCodeLine{1102         [](\textcolor{keyword}{const} \mbox{\hyperlink{structfield__descriptor}{field\_descriptor}} \&a, \textcolor{keyword}{const} \mbox{\hyperlink{structfield__descriptor}{field\_descriptor}} \&b) \{ return a.offset < b.offset; \});}
\DoxyCodeLine{1103 }
\DoxyCodeLine{1104     \mbox{\hyperlink{structlist}{list}} names, formats, offsets;}
\DoxyCodeLine{1105     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& field : ordered\_fields) \{}
\DoxyCodeLine{1106         \textcolor{keywordflow}{if} (!field.descr)}
\DoxyCodeLine{1107             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(std::string(\textcolor{stringliteral}{"{}NumPy: unsupported field dtype: `"{}}) +}
\DoxyCodeLine{1108                             field.name + \textcolor{stringliteral}{"{}` @ "{}} + tinfo.name());}
\DoxyCodeLine{1109         names.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(\mbox{\hyperlink{detail_2common_8h_a2b41a4f15526b8c6346dc68f9998d0e7}{PYBIND11\_STR\_TYPE}}(field.name));}
\DoxyCodeLine{1110         formats.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(field.descr);}
\DoxyCodeLine{1111         offsets.\mbox{\hyperlink{structlist_a150b194a333339dc1f248dff200adaf8}{append}}(pybind11::int\_(field.offset));}
\DoxyCodeLine{1112     \}}
\DoxyCodeLine{1113     \textcolor{keyword}{auto} dtype\_ptr = pybind11::dtype(names, formats, offsets, itemsize).release().ptr();}
\DoxyCodeLine{1114 }
\DoxyCodeLine{1115     \textcolor{comment}{// There is an existing bug in NumPy (as of v1.11): trailing bytes are}}
\DoxyCodeLine{1116     \textcolor{comment}{// not encoded explicitly into the format string. This will supposedly}}
\DoxyCodeLine{1117     \textcolor{comment}{// get fixed in v1.12; for further details, see these:}}
\DoxyCodeLine{1118     \textcolor{comment}{// -\/ https://github.com/numpy/numpy/issues/7797}}
\DoxyCodeLine{1119     \textcolor{comment}{// -\/ https://github.com/numpy/numpy/pull/7798}}
\DoxyCodeLine{1120     \textcolor{comment}{// Because of this, we won't use numpy's logic to generate buffer format}}
\DoxyCodeLine{1121     \textcolor{comment}{// strings and will just do it ourselves.}}
\DoxyCodeLine{1122     \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} offset = 0;}
\DoxyCodeLine{1123     std::ostringstream oss;}
\DoxyCodeLine{1124     \textcolor{comment}{// mark the structure as unaligned with '\string^', because numpy and C++ don't}}
\DoxyCodeLine{1125     \textcolor{comment}{// always agree about alignment (particularly for complex), and we're}}
\DoxyCodeLine{1126     \textcolor{comment}{// explicitly listing all our padding. This depends on none of the fields}}
\DoxyCodeLine{1127     \textcolor{comment}{// overriding the endianness. Putting the \string^ in front of individual fields}}
\DoxyCodeLine{1128     \textcolor{comment}{// isn't guaranteed to work due to https://github.com/numpy/numpy/issues/9049}}
\DoxyCodeLine{1129     oss << \textcolor{stringliteral}{"{}\string^T\{"{}};}
\DoxyCodeLine{1130     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& field : ordered\_fields) \{}
\DoxyCodeLine{1131         \textcolor{keywordflow}{if} (field.offset > offset)}
\DoxyCodeLine{1132             oss << (field.offset -\/ offset) << \textcolor{charliteral}{'x'};}
\DoxyCodeLine{1133         oss << field.format << \textcolor{charliteral}{':'} << field.name << \textcolor{charliteral}{':'};}
\DoxyCodeLine{1134         offset = field.offset + field.size;}
\DoxyCodeLine{1135     \}}
\DoxyCodeLine{1136     \textcolor{keywordflow}{if} (itemsize > offset)}
\DoxyCodeLine{1137         oss << (itemsize -\/ offset) << \textcolor{charliteral}{'x'};}
\DoxyCodeLine{1138     oss << \textcolor{charliteral}{'\}'};}
\DoxyCodeLine{1139     \textcolor{keyword}{auto} format\_str = oss.str();}
\DoxyCodeLine{1140 }
\DoxyCodeLine{1141     \textcolor{comment}{// Sanity check: verify that NumPy properly parses our buffer format string}}
\DoxyCodeLine{1142     \textcolor{keyword}{auto}\& api = \mbox{\hyperlink{structnpy__api_aa680c124450310a5060d0b2605a983dd}{npy\_api::get}}();}
\DoxyCodeLine{1143     \textcolor{keyword}{auto} arr =  \mbox{\hyperlink{classarray}{array}}(\mbox{\hyperlink{structbuffer__info}{buffer\_info}}(\textcolor{keyword}{nullptr}, itemsize, format\_str, 1));}
\DoxyCodeLine{1144     \textcolor{keywordflow}{if} (!api.PyArray\_EquivTypes\_(dtype\_ptr, arr.dtype().ptr()))}
\DoxyCodeLine{1145         \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}NumPy: invalid buffer descriptor!"{}});}
\DoxyCodeLine{1146 }
\DoxyCodeLine{1147     \textcolor{keyword}{auto} tindex = std::type\_index(tinfo);}
\DoxyCodeLine{1148     \mbox{\hyperlink{structnumpy__internals}{numpy\_internals}}.\mbox{\hyperlink{structnumpy__internals_aa842b07421e15ccd48ea036955fc84f4}{registered\_dtypes}}[tindex] = \{ dtype\_ptr, format\_str \};}
\DoxyCodeLine{1149     \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().\mbox{\hyperlink{structinternals_acec753819721884fcd4a650dcdfa40d2}{direct\_conversions}}[tindex].push\_back(direct\_converter);}
\DoxyCodeLine{1150 \}}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1152 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename} SFINAE> \textcolor{keyword}{struct }\mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor}} \{}
\DoxyCodeLine{1153     \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{numpy_8h_ae000b26e650bc54d99e9a22109b58515}{is\_pod\_struct<T>::value}}, \textcolor{stringliteral}{"{}Attempt to use a non-\/POD or unimplemented POD type as a numpy dtype"{}});}
\DoxyCodeLine{1154 }
\DoxyCodeLine{1155     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = \mbox{\hyperlink{classtype__caster}{make\_caster<T>::name}};}
\DoxyCodeLine{1156 }
\DoxyCodeLine{1157     \textcolor{keyword}{static} pybind11::dtype \mbox{\hyperlink{structnpy__format__descriptor_a6f4a2b3a1f4e0a874272f9e2ddc1d769}{dtype}}() \{}
\DoxyCodeLine{1158         \textcolor{keywordflow}{return} reinterpret\_borrow<pybind11::dtype>(\mbox{\hyperlink{structnpy__format__descriptor_a55e635b2bb474219196acdc199c2bca7}{dtype\_ptr}}());}
\DoxyCodeLine{1159     \}}
\DoxyCodeLine{1160 }
\DoxyCodeLine{1161     \textcolor{keyword}{static} std::string \mbox{\hyperlink{structnpy__format__descriptor_adb679e564c19db5f7b434b12f92b2488}{format}}() \{}
\DoxyCodeLine{1162         \textcolor{keyword}{static} \textcolor{keyword}{auto} format\_str = \mbox{\hyperlink{numpy_8h_a6edede565331324ca78d34ca91a6d122}{get\_numpy\_internals}}().\mbox{\hyperlink{structnumpy__internals_aa0760d738f411ef24f5807d7efe9df75}{get\_type\_info}}<T>(\textcolor{keyword}{true})-\/>format\_str;}
\DoxyCodeLine{1163         \textcolor{keywordflow}{return} format\_str;}
\DoxyCodeLine{1164     \}}
\DoxyCodeLine{1165 }
\DoxyCodeLine{1166     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{structnpy__format__descriptor_afc2225aad13f5b6ccdc2267a824d7d77}{register\_dtype}}(\mbox{\hyperlink{classany__container}{any\_container<field\_descriptor>}} fields) \{}
\DoxyCodeLine{1167         \mbox{\hyperlink{numpy_8h_ac12f1d199dfab9ba6b61ab85408b6994}{register\_structured\_dtype}}(std::move(fields), \textcolor{keyword}{typeid}(\textcolor{keyword}{typename} std::remove\_cv<T>::type),}
\DoxyCodeLine{1168                                   \textcolor{keyword}{sizeof}(T), \&\mbox{\hyperlink{structnpy__format__descriptor_ade0a240049f7e8c752542fb972260674}{direct\_converter}});}
\DoxyCodeLine{1169     \}}
\DoxyCodeLine{1170 }
\DoxyCodeLine{1171 \textcolor{keyword}{private}:}
\DoxyCodeLine{1172     \textcolor{keyword}{static} PyObject* \mbox{\hyperlink{structnpy__format__descriptor_a55e635b2bb474219196acdc199c2bca7}{dtype\_ptr}}() \{}
\DoxyCodeLine{1173         \textcolor{keyword}{static} PyObject* ptr = \mbox{\hyperlink{numpy_8h_a6edede565331324ca78d34ca91a6d122}{get\_numpy\_internals}}().\mbox{\hyperlink{structnumpy__internals_aa0760d738f411ef24f5807d7efe9df75}{get\_type\_info}}<T>(\textcolor{keyword}{true})-\/>\mbox{\hyperlink{structnpy__format__descriptor_a55e635b2bb474219196acdc199c2bca7}{dtype\_ptr}};}
\DoxyCodeLine{1174         \textcolor{keywordflow}{return} ptr;}
\DoxyCodeLine{1175     \}}
\DoxyCodeLine{1176 }
\DoxyCodeLine{1177     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structnpy__format__descriptor_ade0a240049f7e8c752542fb972260674}{direct\_converter}}(PyObject *obj, \textcolor{keywordtype}{void}*\& value) \{}
\DoxyCodeLine{1178         \textcolor{keyword}{auto}\& api = \mbox{\hyperlink{structnpy__api_aa680c124450310a5060d0b2605a983dd}{npy\_api::get}}();}
\DoxyCodeLine{1179         \textcolor{keywordflow}{if} (!PyObject\_TypeCheck(obj, api.PyVoidArrType\_Type\_))}
\DoxyCodeLine{1180             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1181         \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} \mbox{\hyperlink{structdescr}{descr}} = reinterpret\_steal<object>(api.PyArray\_DescrFromScalar\_(obj))) \{}
\DoxyCodeLine{1182             \textcolor{keywordflow}{if} (api.PyArray\_EquivTypes\_(\mbox{\hyperlink{structnpy__format__descriptor_a55e635b2bb474219196acdc199c2bca7}{dtype\_ptr}}(), \mbox{\hyperlink{structdescr}{descr}}.ptr())) \{}
\DoxyCodeLine{1183                 value = ((\mbox{\hyperlink{struct_py_void_scalar_object___proxy}{PyVoidScalarObject\_Proxy}} *) obj)-\/>obval;}
\DoxyCodeLine{1184                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1185             \}}
\DoxyCodeLine{1186         \}}
\DoxyCodeLine{1187         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1188     \}}
\DoxyCodeLine{1189 \};}
\DoxyCodeLine{1190 }
\DoxyCodeLine{1191 \textcolor{preprocessor}{\#ifdef \_\_CLION\_IDE\_\_ }\textcolor{comment}{// replace heavy macro with dummy code for the IDE (doesn't affect code)}}
\DoxyCodeLine{1192 \textcolor{preprocessor}{\# define PYBIND11\_NUMPY\_DTYPE(Type, ...) ((void)0)}}
\DoxyCodeLine{1193 \textcolor{preprocessor}{\# define PYBIND11\_NUMPY\_DTYPE\_EX(Type, ...) ((void)0)}}
\DoxyCodeLine{1194 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1195 }
\DoxyCodeLine{1196 \textcolor{preprocessor}{\#define PYBIND11\_FIELD\_DESCRIPTOR\_EX(T, Field, Name)                                          \(\backslash\)}}
\DoxyCodeLine{1197 \textcolor{preprocessor}{    ::pybind11::detail::field\_descriptor \{                                                    \(\backslash\)}}
\DoxyCodeLine{1198 \textcolor{preprocessor}{        Name, offsetof(T, Field), sizeof(decltype(std::declval<T>().Field)),                  \(\backslash\)}}
\DoxyCodeLine{1199 \textcolor{preprocessor}{        ::pybind11::format\_descriptor<decltype(std::declval<T>().Field)>::format(),           \(\backslash\)}}
\DoxyCodeLine{1200 \textcolor{preprocessor}{        ::pybind11::detail::npy\_format\_descriptor<decltype(std::declval<T>().Field)>::dtype() \(\backslash\)}}
\DoxyCodeLine{1201 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{1202 }
\DoxyCodeLine{1203 \textcolor{comment}{// Extract name, offset and format descriptor for a struct field}}
\DoxyCodeLine{1204 \textcolor{preprocessor}{\#define PYBIND11\_FIELD\_DESCRIPTOR(T, Field) PYBIND11\_FIELD\_DESCRIPTOR\_EX(T, Field, \#Field)}}
\DoxyCodeLine{1205 }
\DoxyCodeLine{1206 \textcolor{comment}{// The main idea of this macro is borrowed from https://github.com/swansontec/map-\/macro}}
\DoxyCodeLine{1207 \textcolor{comment}{// (C) William Swanson, Paul Fultz}}
\DoxyCodeLine{1208 \textcolor{preprocessor}{\#define PYBIND11\_EVAL0(...) \_\_VA\_ARGS\_\_}}
\DoxyCodeLine{1209 \textcolor{preprocessor}{\#define PYBIND11\_EVAL1(...) PYBIND11\_EVAL0 (PYBIND11\_EVAL0 (PYBIND11\_EVAL0 (\_\_VA\_ARGS\_\_)))}}
\DoxyCodeLine{1210 \textcolor{preprocessor}{\#define PYBIND11\_EVAL2(...) PYBIND11\_EVAL1 (PYBIND11\_EVAL1 (PYBIND11\_EVAL1 (\_\_VA\_ARGS\_\_)))}}
\DoxyCodeLine{1211 \textcolor{preprocessor}{\#define PYBIND11\_EVAL3(...) PYBIND11\_EVAL2 (PYBIND11\_EVAL2 (PYBIND11\_EVAL2 (\_\_VA\_ARGS\_\_)))}}
\DoxyCodeLine{1212 \textcolor{preprocessor}{\#define PYBIND11\_EVAL4(...) PYBIND11\_EVAL3 (PYBIND11\_EVAL3 (PYBIND11\_EVAL3 (\_\_VA\_ARGS\_\_)))}}
\DoxyCodeLine{1213 \textcolor{preprocessor}{\#define PYBIND11\_EVAL(...)  PYBIND11\_EVAL4 (PYBIND11\_EVAL4 (PYBIND11\_EVAL4 (\_\_VA\_ARGS\_\_)))}}
\DoxyCodeLine{1214 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_END(...)}}
\DoxyCodeLine{1215 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_OUT}}
\DoxyCodeLine{1216 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_COMMA ,}}
\DoxyCodeLine{1217 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_GET\_END() 0, PYBIND11\_MAP\_END}}
\DoxyCodeLine{1218 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_NEXT0(test, next, ...) next PYBIND11\_MAP\_OUT}}
\DoxyCodeLine{1219 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_NEXT1(test, next) PYBIND11\_MAP\_NEXT0 (test, next, 0)}}
\DoxyCodeLine{1220 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_NEXT(test, next)  PYBIND11\_MAP\_NEXT1 (PYBIND11\_MAP\_GET\_END test, next)}}
\DoxyCodeLine{1221 \textcolor{preprocessor}{\#ifdef \_MSC\_VER }\textcolor{comment}{// MSVC is not as eager to expand macros, hence this workaround}}
\DoxyCodeLine{1222 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_LIST\_NEXT1(test, next) \(\backslash\)}}
\DoxyCodeLine{1223 \textcolor{preprocessor}{    PYBIND11\_EVAL0 (PYBIND11\_MAP\_NEXT0 (test, PYBIND11\_MAP\_COMMA next, 0))}}
\DoxyCodeLine{1224 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1225 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_LIST\_NEXT1(test, next) \(\backslash\)}}
\DoxyCodeLine{1226 \textcolor{preprocessor}{    PYBIND11\_MAP\_NEXT0 (test, PYBIND11\_MAP\_COMMA next, 0)}}
\DoxyCodeLine{1227 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1228 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_LIST\_NEXT(test, next) \(\backslash\)}}
\DoxyCodeLine{1229 \textcolor{preprocessor}{    PYBIND11\_MAP\_LIST\_NEXT1 (PYBIND11\_MAP\_GET\_END test, next)}}
\DoxyCodeLine{1230 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_LIST0(f, t, x, peek, ...) \(\backslash\)}}
\DoxyCodeLine{1231 \textcolor{preprocessor}{    f(t, x) PYBIND11\_MAP\_LIST\_NEXT (peek, PYBIND11\_MAP\_LIST1) (f, t, peek, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{1232 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_LIST1(f, t, x, peek, ...) \(\backslash\)}}
\DoxyCodeLine{1233 \textcolor{preprocessor}{    f(t, x) PYBIND11\_MAP\_LIST\_NEXT (peek, PYBIND11\_MAP\_LIST0) (f, t, peek, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{1234 \textcolor{comment}{// PYBIND11\_MAP\_LIST(f, t, a1, a2, ...) expands to f(t, a1), f(t, a2), ...}}
\DoxyCodeLine{1235 \textcolor{preprocessor}{\#define PYBIND11\_MAP\_LIST(f, t, ...) \(\backslash\)}}
\DoxyCodeLine{1236 \textcolor{preprocessor}{    PYBIND11\_EVAL (PYBIND11\_MAP\_LIST1 (f, t, \_\_VA\_ARGS\_\_, (), 0))}}
\DoxyCodeLine{1237 }
\DoxyCodeLine{1238 \textcolor{preprocessor}{\#define PYBIND11\_NUMPY\_DTYPE(Type, ...) \(\backslash\)}}
\DoxyCodeLine{1239 \textcolor{preprocessor}{    ::pybind11::detail::npy\_format\_descriptor<Type>::register\_dtype \(\backslash\)}}
\DoxyCodeLine{1240 \textcolor{preprocessor}{        (::std::vector<::pybind11::detail::field\_descriptor> \(\backslash\)}}
\DoxyCodeLine{1241 \textcolor{preprocessor}{         \{PYBIND11\_MAP\_LIST (PYBIND11\_FIELD\_DESCRIPTOR, Type, \_\_VA\_ARGS\_\_)\})}}
\DoxyCodeLine{1242 }
\DoxyCodeLine{1243 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{1244 \textcolor{preprocessor}{\#define PYBIND11\_MAP2\_LIST\_NEXT1(test, next) \(\backslash\)}}
\DoxyCodeLine{1245 \textcolor{preprocessor}{    PYBIND11\_EVAL0 (PYBIND11\_MAP\_NEXT0 (test, PYBIND11\_MAP\_COMMA next, 0))}}
\DoxyCodeLine{1246 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1247 \textcolor{preprocessor}{\#define PYBIND11\_MAP2\_LIST\_NEXT1(test, next) \(\backslash\)}}
\DoxyCodeLine{1248 \textcolor{preprocessor}{    PYBIND11\_MAP\_NEXT0 (test, PYBIND11\_MAP\_COMMA next, 0)}}
\DoxyCodeLine{1249 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1250 \textcolor{preprocessor}{\#define PYBIND11\_MAP2\_LIST\_NEXT(test, next) \(\backslash\)}}
\DoxyCodeLine{1251 \textcolor{preprocessor}{    PYBIND11\_MAP2\_LIST\_NEXT1 (PYBIND11\_MAP\_GET\_END test, next)}}
\DoxyCodeLine{1252 \textcolor{preprocessor}{\#define PYBIND11\_MAP2\_LIST0(f, t, x1, x2, peek, ...) \(\backslash\)}}
\DoxyCodeLine{1253 \textcolor{preprocessor}{    f(t, x1, x2) PYBIND11\_MAP2\_LIST\_NEXT (peek, PYBIND11\_MAP2\_LIST1) (f, t, peek, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{1254 \textcolor{preprocessor}{\#define PYBIND11\_MAP2\_LIST1(f, t, x1, x2, peek, ...) \(\backslash\)}}
\DoxyCodeLine{1255 \textcolor{preprocessor}{    f(t, x1, x2) PYBIND11\_MAP2\_LIST\_NEXT (peek, PYBIND11\_MAP2\_LIST0) (f, t, peek, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{1256 \textcolor{comment}{// PYBIND11\_MAP2\_LIST(f, t, a1, a2, ...) expands to f(t, a1, a2), f(t, a3, a4), ...}}
\DoxyCodeLine{1257 \textcolor{preprocessor}{\#define PYBIND11\_MAP2\_LIST(f, t, ...) \(\backslash\)}}
\DoxyCodeLine{1258 \textcolor{preprocessor}{    PYBIND11\_EVAL (PYBIND11\_MAP2\_LIST1 (f, t, \_\_VA\_ARGS\_\_, (), 0))}}
\DoxyCodeLine{1259 }
\DoxyCodeLine{1260 \textcolor{preprocessor}{\#define PYBIND11\_NUMPY\_DTYPE\_EX(Type, ...) \(\backslash\)}}
\DoxyCodeLine{1261 \textcolor{preprocessor}{    ::pybind11::detail::npy\_format\_descriptor<Type>::register\_dtype \(\backslash\)}}
\DoxyCodeLine{1262 \textcolor{preprocessor}{        (::std::vector<::pybind11::detail::field\_descriptor> \(\backslash\)}}
\DoxyCodeLine{1263 \textcolor{preprocessor}{         \{PYBIND11\_MAP2\_LIST (PYBIND11\_FIELD\_DESCRIPTOR\_EX, Type, \_\_VA\_ARGS\_\_)\})}}
\DoxyCodeLine{1264 }
\DoxyCodeLine{1265 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_\_CLION\_IDE\_\_}}
\DoxyCodeLine{1266 }
\DoxyCodeLine{1267 \textcolor{keyword}{template}  <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1268 \textcolor{keyword}{using} \mbox{\hyperlink{numpy_8h_aa8e835bf89781c639f61beadbcc6ddc6}{array\_iterator}} = \textcolor{keyword}{typename} std::add\_pointer<T>::type;}
\DoxyCodeLine{1269 }
\DoxyCodeLine{1270 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1271 \mbox{\hyperlink{numpy_8h_aa8e835bf89781c639f61beadbcc6ddc6}{array\_iterator<T>}} \mbox{\hyperlink{numpy_8h_a3cdf9276da78831aff1647906615dfdc}{array\_begin}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}}\& \mbox{\hyperlink{classbuffer}{buffer}}) \{}
\DoxyCodeLine{1272     \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_aa8e835bf89781c639f61beadbcc6ddc6}{array\_iterator<T>}}(\textcolor{keyword}{reinterpret\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}));}
\DoxyCodeLine{1273 \}}
\DoxyCodeLine{1274 }
\DoxyCodeLine{1275 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{1276 \mbox{\hyperlink{numpy_8h_aa8e835bf89781c639f61beadbcc6ddc6}{array\_iterator<T>}} \mbox{\hyperlink{numpy_8h_a86c6382703ccc05267574ea6612e2de9}{array\_end}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}}\& \mbox{\hyperlink{classbuffer}{buffer}}) \{}
\DoxyCodeLine{1277     \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_aa8e835bf89781c639f61beadbcc6ddc6}{array\_iterator<T>}}(\textcolor{keyword}{reinterpret\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}) + \mbox{\hyperlink{classbuffer}{buffer}}.size);}
\DoxyCodeLine{1278 \}}
\DoxyCodeLine{1279 }
\DoxyCodeLine{1280 \textcolor{keyword}{class }\mbox{\hyperlink{classcommon__iterator}{common\_iterator}} \{}
\DoxyCodeLine{1281 \textcolor{keyword}{public}:}
\DoxyCodeLine{1282     \textcolor{keyword}{using} \mbox{\hyperlink{classcommon__iterator_a61d77b64fb74c43f016ce8cbde4b27c7}{container\_type}} = std::vector<ssize\_t>;}
\DoxyCodeLine{1283     \textcolor{keyword}{using} \mbox{\hyperlink{classcommon__iterator_ae5c71809ed30d20b321bf01f4043142e}{value\_type}} = container\_type::value\_type;}
\DoxyCodeLine{1284     \textcolor{keyword}{using} \mbox{\hyperlink{classcommon__iterator_a1b9c8bc2b0275b8b9b6f5410b6f96148}{size\_type}} = container\_type::size\_type;}
\DoxyCodeLine{1285 }
\DoxyCodeLine{1286     \mbox{\hyperlink{classcommon__iterator_a7e2266ddbeb3adb5d1cad2854cba952f}{common\_iterator}}() : \mbox{\hyperlink{classcommon__iterator_a7d7c963e930e631ee45d21ce8a76c1b5}{p\_ptr}}(0), \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}() \{\}}
\DoxyCodeLine{1287 }
\DoxyCodeLine{1288     \mbox{\hyperlink{classcommon__iterator_a5bb0f4465ff31b46f77188fe253ade67}{common\_iterator}}(\textcolor{keywordtype}{void}* ptr, \textcolor{keyword}{const} \mbox{\hyperlink{classcommon__iterator_a61d77b64fb74c43f016ce8cbde4b27c7}{container\_type}}\& strides, \textcolor{keyword}{const} \mbox{\hyperlink{classcommon__iterator_a61d77b64fb74c43f016ce8cbde4b27c7}{container\_type}}\& shape)}
\DoxyCodeLine{1289         : \mbox{\hyperlink{classcommon__iterator_a7d7c963e930e631ee45d21ce8a76c1b5}{p\_ptr}}(reinterpret\_cast<char*>(ptr)), \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}(strides.size()) \{}
\DoxyCodeLine{1290         \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}.back() = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcommon__iterator_ae5c71809ed30d20b321bf01f4043142e}{value\_type}}\textcolor{keyword}{>}(strides.back());}
\DoxyCodeLine{1291         \textcolor{keywordflow}{for} (\mbox{\hyperlink{classcommon__iterator_a1b9c8bc2b0275b8b9b6f5410b6f96148}{size\_type}} i = \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}.size() -\/ 1; i != 0; -\/-\/i) \{}
\DoxyCodeLine{1292             \mbox{\hyperlink{classcommon__iterator_a1b9c8bc2b0275b8b9b6f5410b6f96148}{size\_type}} j = i -\/ 1;}
\DoxyCodeLine{1293             \mbox{\hyperlink{classcommon__iterator_ae5c71809ed30d20b321bf01f4043142e}{value\_type}} s = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classcommon__iterator_ae5c71809ed30d20b321bf01f4043142e}{value\_type}}\textcolor{keyword}{>}(shape[i]);}
\DoxyCodeLine{1294             \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}[j] = strides[j] + \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}[i] -\/ strides[i] * s;}
\DoxyCodeLine{1295         \}}
\DoxyCodeLine{1296     \}}
\DoxyCodeLine{1297 }
\DoxyCodeLine{1298     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcommon__iterator_a6f54104a4b0847b87bab424db09b85d7}{increment}}(\mbox{\hyperlink{classcommon__iterator_a1b9c8bc2b0275b8b9b6f5410b6f96148}{size\_type}} dim) \{}
\DoxyCodeLine{1299         \mbox{\hyperlink{classcommon__iterator_a7d7c963e930e631ee45d21ce8a76c1b5}{p\_ptr}} += \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}}[dim];}
\DoxyCodeLine{1300     \}}
\DoxyCodeLine{1301 }
\DoxyCodeLine{1302     \textcolor{keywordtype}{void}* \mbox{\hyperlink{classcommon__iterator_a846bb7d294350cbb814321eefa65ed1a}{data}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1303         \textcolor{keywordflow}{return} \mbox{\hyperlink{classcommon__iterator_a7d7c963e930e631ee45d21ce8a76c1b5}{p\_ptr}};}
\DoxyCodeLine{1304     \}}
\DoxyCodeLine{1305 }
\DoxyCodeLine{1306 \textcolor{keyword}{private}:}
\DoxyCodeLine{1307     \textcolor{keywordtype}{char}* \mbox{\hyperlink{classcommon__iterator_a7d7c963e930e631ee45d21ce8a76c1b5}{p\_ptr}};}
\DoxyCodeLine{1308     \mbox{\hyperlink{classcommon__iterator_a61d77b64fb74c43f016ce8cbde4b27c7}{container\_type}} \mbox{\hyperlink{classcommon__iterator_a383531efc87fbf07bb8647f9e0d9bd68}{m\_strides}};}
\DoxyCodeLine{1309 \};}
\DoxyCodeLine{1310 }
\DoxyCodeLine{1311 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N> \textcolor{keyword}{class }\mbox{\hyperlink{classmulti__array__iterator}{multi\_array\_iterator}} \{}
\DoxyCodeLine{1312 \textcolor{keyword}{public}:}
\DoxyCodeLine{1313     \textcolor{keyword}{using} \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} = std::vector<ssize\_t>;}
\DoxyCodeLine{1314 }
\DoxyCodeLine{1315     \mbox{\hyperlink{classmulti__array__iterator_a658a64d1b635a6e581fc606913490dec}{multi\_array\_iterator}}(\textcolor{keyword}{const} std::array<buffer\_info, N> \&buffers,}
\DoxyCodeLine{1316                          \textcolor{keyword}{const} \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} \&shape)}
\DoxyCodeLine{1317         : \mbox{\hyperlink{classmulti__array__iterator_afeae6cd1d456858edbf02f635b9f65bd}{m\_shape}}(shape.size()), \mbox{\hyperlink{classmulti__array__iterator_a20308e15031d4cd3e2fd623599a1b867}{m\_index}}(shape.size(), 0),}
\DoxyCodeLine{1318           \mbox{\hyperlink{classmulti__array__iterator_a92b49c0747956eebc969cd59530d5df1}{m\_common\_iterator}}() \{}
\DoxyCodeLine{1319 }
\DoxyCodeLine{1320         \textcolor{comment}{// Manual copy to avoid conversion warning if using std::copy}}
\DoxyCodeLine{1321         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < shape.size(); ++i)}
\DoxyCodeLine{1322             \mbox{\hyperlink{classmulti__array__iterator_afeae6cd1d456858edbf02f635b9f65bd}{m\_shape}}[i] = shape[i];}
\DoxyCodeLine{1323 }
\DoxyCodeLine{1324         \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} strides(shape.size());}
\DoxyCodeLine{1325         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < N; ++i)}
\DoxyCodeLine{1326             \mbox{\hyperlink{classmulti__array__iterator_a85c8a4dc414d59349b386b2be869ab94}{init\_common\_iterator}}(buffers[i], shape, \mbox{\hyperlink{classmulti__array__iterator_a92b49c0747956eebc969cd59530d5df1}{m\_common\_iterator}}[i], strides);}
\DoxyCodeLine{1327     \}}
\DoxyCodeLine{1328 }
\DoxyCodeLine{1329     \mbox{\hyperlink{classmulti__array__iterator}{multi\_array\_iterator}}\& \mbox{\hyperlink{classmulti__array__iterator_a38b709a23136592eacad008d3e2922e3}{operator++}}() \{}
\DoxyCodeLine{1330         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = \mbox{\hyperlink{classmulti__array__iterator_a20308e15031d4cd3e2fd623599a1b867}{m\_index}}.size(); j != 0; -\/-\/j) \{}
\DoxyCodeLine{1331             \textcolor{keywordtype}{size\_t} i = j -\/ 1;}
\DoxyCodeLine{1332             \textcolor{keywordflow}{if} (++\mbox{\hyperlink{classmulti__array__iterator_a20308e15031d4cd3e2fd623599a1b867}{m\_index}}[i] != \mbox{\hyperlink{classmulti__array__iterator_afeae6cd1d456858edbf02f635b9f65bd}{m\_shape}}[i]) \{}
\DoxyCodeLine{1333                 \mbox{\hyperlink{classmulti__array__iterator_a09ca65425b0f55aa190b0699d056b1b5}{increment\_common\_iterator}}(i);}
\DoxyCodeLine{1334                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1335             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1336                 \mbox{\hyperlink{classmulti__array__iterator_a20308e15031d4cd3e2fd623599a1b867}{m\_index}}[i] = 0;}
\DoxyCodeLine{1337             \}}
\DoxyCodeLine{1338         \}}
\DoxyCodeLine{1339         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1340     \}}
\DoxyCodeLine{1341 }
\DoxyCodeLine{1342     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} K, \textcolor{keyword}{class} T = \textcolor{keywordtype}{void}> T* \mbox{\hyperlink{classmulti__array__iterator_a434993343f3641fc4d26e7cf61c9292c}{data}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1343         \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{classmulti__array__iterator_a92b49c0747956eebc969cd59530d5df1}{m\_common\_iterator}}[K].data());}
\DoxyCodeLine{1344     \}}
\DoxyCodeLine{1345 }
\DoxyCodeLine{1346 \textcolor{keyword}{private}:}
\DoxyCodeLine{1347 }
\DoxyCodeLine{1348     \textcolor{keyword}{using} \mbox{\hyperlink{classcommon__iterator}{common\_iter}} = \mbox{\hyperlink{classcommon__iterator}{common\_iterator}};}
\DoxyCodeLine{1349 }
\DoxyCodeLine{1350     \textcolor{keywordtype}{void} \mbox{\hyperlink{classmulti__array__iterator_a85c8a4dc414d59349b386b2be869ab94}{init\_common\_iterator}}(\textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}} \&\mbox{\hyperlink{classbuffer}{buffer}},}
\DoxyCodeLine{1351                               \textcolor{keyword}{const} \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} \&shape,}
\DoxyCodeLine{1352                               \mbox{\hyperlink{classcommon__iterator}{common\_iter}} \&\mbox{\hyperlink{classiterator}{iterator}},}
\DoxyCodeLine{1353                               \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} \&strides) \{}
\DoxyCodeLine{1354         \textcolor{keyword}{auto} buffer\_shape\_iter = \mbox{\hyperlink{classbuffer}{buffer}}.shape.rbegin();}
\DoxyCodeLine{1355         \textcolor{keyword}{auto} buffer\_strides\_iter = \mbox{\hyperlink{classbuffer}{buffer}}.strides.rbegin();}
\DoxyCodeLine{1356         \textcolor{keyword}{auto} shape\_iter = shape.rbegin();}
\DoxyCodeLine{1357         \textcolor{keyword}{auto} strides\_iter = strides.rbegin();}
\DoxyCodeLine{1358 }
\DoxyCodeLine{1359         \textcolor{keywordflow}{while} (buffer\_shape\_iter != \mbox{\hyperlink{classbuffer}{buffer}}.shape.rend()) \{}
\DoxyCodeLine{1360             \textcolor{keywordflow}{if} (*shape\_iter == *buffer\_shape\_iter)}
\DoxyCodeLine{1361                 *strides\_iter = *buffer\_strides\_iter;}
\DoxyCodeLine{1362             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1363                 *strides\_iter = 0;}
\DoxyCodeLine{1364 }
\DoxyCodeLine{1365             ++buffer\_shape\_iter;}
\DoxyCodeLine{1366             ++buffer\_strides\_iter;}
\DoxyCodeLine{1367             ++shape\_iter;}
\DoxyCodeLine{1368             ++strides\_iter;}
\DoxyCodeLine{1369         \}}
\DoxyCodeLine{1370 }
\DoxyCodeLine{1371         std::fill(strides\_iter, strides.rend(), 0);}
\DoxyCodeLine{1372         \mbox{\hyperlink{classiterator}{iterator}} = \mbox{\hyperlink{classmulti__array__iterator_a2740d33901dfd375f6658a3bcd20204c}{common\_iter}}(\mbox{\hyperlink{classbuffer}{buffer}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}, strides, shape);}
\DoxyCodeLine{1373     \}}
\DoxyCodeLine{1374 }
\DoxyCodeLine{1375     \textcolor{keywordtype}{void} \mbox{\hyperlink{classmulti__array__iterator_a09ca65425b0f55aa190b0699d056b1b5}{increment\_common\_iterator}}(\textcolor{keywordtype}{size\_t} dim) \{}
\DoxyCodeLine{1376         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&\mbox{\hyperlink{group__python__builtins_ga0f2342d8d9000a3bcef531c39e97c531}{iter}} : \mbox{\hyperlink{classmulti__array__iterator_a92b49c0747956eebc969cd59530d5df1}{m\_common\_iterator}})}
\DoxyCodeLine{1377             \mbox{\hyperlink{group__python__builtins_ga0f2342d8d9000a3bcef531c39e97c531}{iter}}.increment(dim);}
\DoxyCodeLine{1378     \}}
\DoxyCodeLine{1379 }
\DoxyCodeLine{1380     \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} \mbox{\hyperlink{classmulti__array__iterator_afeae6cd1d456858edbf02f635b9f65bd}{m\_shape}};}
\DoxyCodeLine{1381     \mbox{\hyperlink{classmulti__array__iterator_acae334d3b88a49fe7301a79d04a02563}{container\_type}} \mbox{\hyperlink{classmulti__array__iterator_a20308e15031d4cd3e2fd623599a1b867}{m\_index}};}
\DoxyCodeLine{1382     std::array<common\_iter, N> \mbox{\hyperlink{classmulti__array__iterator_a92b49c0747956eebc969cd59530d5df1}{m\_common\_iterator}};}
\DoxyCodeLine{1383 \};}
\DoxyCodeLine{1384 }
\DoxyCodeLine{1385 \textcolor{keyword}{enum class} \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1}{broadcast\_trivial}} \{ \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afdc3dd34f1eba5038fce1e7cd8ad2a50}{non\_trivial}}, \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afaf7a4de81cc9f66f70a7927181a705d}{c\_trivial}}, \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1aca83eef092559c5a8675600843fe62ae}{f\_trivial}} \};}
\DoxyCodeLine{1386 }
\DoxyCodeLine{1387 \textcolor{comment}{// Populates the shape and number of dimensions for the set of buffers.  Returns a broadcast\_trivial}}
\DoxyCodeLine{1388 \textcolor{comment}{// enum value indicating whether the broadcast is "{}trivial"{}-\/-\/that is, has each buffer being either a}}
\DoxyCodeLine{1389 \textcolor{comment}{// singleton or a full-\/size, C-\/contiguous (`c\_trivial`) or Fortran-\/contiguous (`f\_trivial`) storage}}
\DoxyCodeLine{1390 \textcolor{comment}{// buffer; returns `non\_trivial` otherwise.}}
\DoxyCodeLine{1391 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} N>}
\DoxyCodeLine{1392 \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1}{broadcast\_trivial}} \mbox{\hyperlink{numpy_8h_aadc46b015f7eb43abea72a5f8eb3628d}{broadcast}}(\textcolor{keyword}{const} std::array<buffer\_info, N> \&buffers, \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} \&ndim, std::vector<ssize\_t> \&shape) \{}
\DoxyCodeLine{1393     ndim = std::accumulate(buffers.begin(), buffers.end(), \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}}(0), [](\mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} res, \textcolor{keyword}{const} \mbox{\hyperlink{structbuffer__info}{buffer\_info}} \&buf) \{}
\DoxyCodeLine{1394         \textcolor{keywordflow}{return} \mbox{\hyperlink{ldes_2fhog_8cpp_affe776513b24d84b39af8ab0930fef7f}{std::max}}(res, buf.\mbox{\hyperlink{structbuffer__info_a81d14cf3fc7ceae1b811f335bf35cd97}{ndim}});}
\DoxyCodeLine{1395     \});}
\DoxyCodeLine{1396 }
\DoxyCodeLine{1397     shape.clear();}
\DoxyCodeLine{1398     shape.resize((\textcolor{keywordtype}{size\_t}) ndim, 1);}
\DoxyCodeLine{1399 }
\DoxyCodeLine{1400     \textcolor{comment}{// Figure out the output size, and make sure all input arrays conform (i.e. are either size 1 or}}
\DoxyCodeLine{1401     \textcolor{comment}{// the full size).}}
\DoxyCodeLine{1402     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < N; ++i) \{}
\DoxyCodeLine{1403         \textcolor{keyword}{auto} res\_iter = shape.rbegin();}
\DoxyCodeLine{1404         \textcolor{keyword}{auto} \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} = buffers[i].shape.rend();}
\DoxyCodeLine{1405         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} shape\_iter = buffers[i].shape.rbegin(); shape\_iter != \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}}; ++shape\_iter, ++res\_iter) \{}
\DoxyCodeLine{1406             \textcolor{keyword}{const} \textcolor{keyword}{auto} \&dim\_size\_in = *shape\_iter;}
\DoxyCodeLine{1407             \textcolor{keyword}{auto} \&dim\_size\_out = *res\_iter;}
\DoxyCodeLine{1408 }
\DoxyCodeLine{1409             \textcolor{comment}{// Each input dimension can either be 1 or `n`, but `n` values must match across buffers}}
\DoxyCodeLine{1410             \textcolor{keywordflow}{if} (dim\_size\_out == 1)}
\DoxyCodeLine{1411                 dim\_size\_out = dim\_size\_in;}
\DoxyCodeLine{1412             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dim\_size\_in != 1 \&\& dim\_size\_in != dim\_size\_out)}
\DoxyCodeLine{1413                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}pybind11::vectorize: incompatible size/dimension of inputs!"{}});}
\DoxyCodeLine{1414         \}}
\DoxyCodeLine{1415     \}}
\DoxyCodeLine{1416 }
\DoxyCodeLine{1417     \textcolor{keywordtype}{bool} trivial\_broadcast\_c = \textcolor{keyword}{true};}
\DoxyCodeLine{1418     \textcolor{keywordtype}{bool} trivial\_broadcast\_f = \textcolor{keyword}{true};}
\DoxyCodeLine{1419     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < N \&\& (trivial\_broadcast\_c || trivial\_broadcast\_f); ++i) \{}
\DoxyCodeLine{1420         \textcolor{keywordflow}{if} (buffers[i].size == 1)}
\DoxyCodeLine{1421             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1422 }
\DoxyCodeLine{1423         \textcolor{comment}{// Require the same number of dimensions:}}
\DoxyCodeLine{1424         \textcolor{keywordflow}{if} (buffers[i].ndim != ndim)}
\DoxyCodeLine{1425             \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afdc3dd34f1eba5038fce1e7cd8ad2a50}{broadcast\_trivial::non\_trivial}};}
\DoxyCodeLine{1426 }
\DoxyCodeLine{1427         \textcolor{comment}{// Require all dimensions be full-\/size:}}
\DoxyCodeLine{1428         \textcolor{keywordflow}{if} (!std::equal(buffers[i].shape.cbegin(), buffers[i].shape.cend(), shape.cbegin()))}
\DoxyCodeLine{1429             \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afdc3dd34f1eba5038fce1e7cd8ad2a50}{broadcast\_trivial::non\_trivial}};}
\DoxyCodeLine{1430 }
\DoxyCodeLine{1431         \textcolor{comment}{// Check for C contiguity (but only if previous inputs were also C contiguous)}}
\DoxyCodeLine{1432         \textcolor{keywordflow}{if} (trivial\_broadcast\_c) \{}
\DoxyCodeLine{1433             \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} expect\_stride = buffers[i].itemsize;}
\DoxyCodeLine{1434             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} = buffers[i].shape.crend();}
\DoxyCodeLine{1435             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} shape\_iter = buffers[i].shape.crbegin(), stride\_iter = buffers[i].strides.crbegin();}
\DoxyCodeLine{1436                     trivial\_broadcast\_c \&\& shape\_iter != \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}}; ++shape\_iter, ++stride\_iter) \{}
\DoxyCodeLine{1437                 \textcolor{keywordflow}{if} (expect\_stride == *stride\_iter)}
\DoxyCodeLine{1438                     expect\_stride *= *shape\_iter;}
\DoxyCodeLine{1439                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1440                     trivial\_broadcast\_c = \textcolor{keyword}{false};}
\DoxyCodeLine{1441             \}}
\DoxyCodeLine{1442         \}}
\DoxyCodeLine{1443 }
\DoxyCodeLine{1444         \textcolor{comment}{// Check for Fortran contiguity (if previous inputs were also F contiguous)}}
\DoxyCodeLine{1445         \textcolor{keywordflow}{if} (trivial\_broadcast\_f) \{}
\DoxyCodeLine{1446             \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} expect\_stride = buffers[i].itemsize;}
\DoxyCodeLine{1447             \textcolor{keyword}{auto} \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} = buffers[i].shape.cend();}
\DoxyCodeLine{1448             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} shape\_iter = buffers[i].shape.cbegin(), stride\_iter = buffers[i].strides.cbegin();}
\DoxyCodeLine{1449                     trivial\_broadcast\_f \&\& shape\_iter != \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}}; ++shape\_iter, ++stride\_iter) \{}
\DoxyCodeLine{1450                 \textcolor{keywordflow}{if} (expect\_stride == *stride\_iter)}
\DoxyCodeLine{1451                     expect\_stride *= *shape\_iter;}
\DoxyCodeLine{1452                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1453                     trivial\_broadcast\_f = \textcolor{keyword}{false};}
\DoxyCodeLine{1454             \}}
\DoxyCodeLine{1455         \}}
\DoxyCodeLine{1456     \}}
\DoxyCodeLine{1457 }
\DoxyCodeLine{1458     \textcolor{keywordflow}{return}}
\DoxyCodeLine{1459         trivial\_broadcast\_c ? \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afaf7a4de81cc9f66f70a7927181a705d}{broadcast\_trivial::c\_trivial}} :}
\DoxyCodeLine{1460         trivial\_broadcast\_f ? \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1aca83eef092559c5a8675600843fe62ae}{broadcast\_trivial::f\_trivial}} :}
\DoxyCodeLine{1461         \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afdc3dd34f1eba5038fce1e7cd8ad2a50}{broadcast\_trivial::non\_trivial}};}
\DoxyCodeLine{1462 \}}
\DoxyCodeLine{1463 }
\DoxyCodeLine{1464 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1465 \textcolor{keyword}{struct }\mbox{\hyperlink{structvectorize__arg}{vectorize\_arg}} \{}
\DoxyCodeLine{1466     \textcolor{keyword}{static\_assert}(!std::is\_rvalue\_reference<T>::value, \textcolor{stringliteral}{"{}Functions with rvalue reference arguments cannot be vectorized"{}});}
\DoxyCodeLine{1467     \textcolor{comment}{// The wrapped function gets called with this type:}}
\DoxyCodeLine{1468     \textcolor{keyword}{using} \mbox{\hyperlink{structvectorize__arg_a465d48643eac1a5fb514819ceaf8eb1c}{call\_type}} = \mbox{\hyperlink{detail_2common_8h_a3a08cea569e6926ac8d7d74dd7178b5f}{remove\_reference\_t<T>}};}
\DoxyCodeLine{1469     \textcolor{comment}{// Is this a vectorized argument?}}
\DoxyCodeLine{1470     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structvectorize__arg_a2713dcb369c1ff6d3ec66f9b91419735}{vectorize}} =}
\DoxyCodeLine{1471         \mbox{\hyperlink{structnegation}{satisfies\_any\_of<call\_type, std::is\_arithmetic, is\_complex, std::is\_pod>::value}} \&\&}
\DoxyCodeLine{1472         \mbox{\hyperlink{structnegation}{satisfies\_none\_of<call\_type, std::is\_pointer, std::is\_array, is\_std\_array, std::is\_enum>::value}} \&\&}
\DoxyCodeLine{1473         (!std::is\_reference<T>::value ||}
\DoxyCodeLine{1474          (std::is\_lvalue\_reference<T>::value \&\& std::is\_const<call\_type>::value));}
\DoxyCodeLine{1475     \textcolor{comment}{// Accept this type: an array for vectorized types, otherwise the type as-\/is:}}
\DoxyCodeLine{1476     \textcolor{keyword}{using} \mbox{\hyperlink{structvectorize__arg_a1eac44d967c2119c39a13843b8546c9d}{type}} = \mbox{\hyperlink{detail_2common_8h_acdb0eff728aec08ed6fff07d2885ea9d}{conditional\_t<vectorize, array\_t<remove\_cv\_t<call\_type>}}, \mbox{\hyperlink{classarray_ae8bcbba531ac94a007768363ecc186eba2886e477a3f6090266168e82d389adc1}{array::forcecast}}>, T>;}
\DoxyCodeLine{1477 \};}
\DoxyCodeLine{1478 }
\DoxyCodeLine{1479 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename} Return, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1480 \textcolor{keyword}{struct }\mbox{\hyperlink{structvectorize__helper}{vectorize\_helper}} \{}
\DoxyCodeLine{1481 \textcolor{keyword}{private}:}
\DoxyCodeLine{1482     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structvectorize__helper_ac4c4c6cd6d236a0d46421630e7eb19c6}{N}} = \textcolor{keyword}{sizeof}...(Args);}
\DoxyCodeLine{1483     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{structvectorize__helper_ae8b5677adc19d187769de3b592188e7f}{NVectorized}} = \mbox{\hyperlink{detail_2common_8h_a8b3721f762a0f4ae4319f682c8fa7026}{constexpr\_sum}}(\mbox{\hyperlink{structvectorize__arg}{vectorize\_arg<Args>::vectorize}}...);}
\DoxyCodeLine{1484     \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{structvectorize__helper_ae8b5677adc19d187769de3b592188e7f}{NVectorized}} >= 1,}
\DoxyCodeLine{1485             \textcolor{stringliteral}{"{}pybind11::vectorize(...) requires a function with at least one vectorizable argument"{}});}
\DoxyCodeLine{1486 }
\DoxyCodeLine{1487 \textcolor{keyword}{public}:}
\DoxyCodeLine{1488     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1489     \textcolor{keyword}{explicit} \mbox{\hyperlink{structvectorize__helper_af05224004f4912718f47e98245b9efa7}{vectorize\_helper}}(T \&\&\mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}}) : \mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}}(\mbox{\hyperlink{namespacestd}{std}}::forward<T>(\mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}})) \{ \}}
\DoxyCodeLine{1490 }
\DoxyCodeLine{1491     \textcolor{keywordtype}{object} \mbox{\hyperlink{structvectorize__helper_a02c424f9db2ec2f63c23741d908acd3f}{operator()}}(\textcolor{keyword}{typename} \mbox{\hyperlink{structvectorize__arg_a1eac44d967c2119c39a13843b8546c9d}{vectorize\_arg<Args>::type}}... \mbox{\hyperlink{classargs}{args}}) \{}
\DoxyCodeLine{1492         \textcolor{keywordflow}{return} \mbox{\hyperlink{structvectorize__helper_a28616c8268d26caffff8897fb91158ec}{run}}(\mbox{\hyperlink{classargs}{args}}...,}
\DoxyCodeLine{1493                    \mbox{\hyperlink{detail_2common_8h_ab5e942a7ee11e93c8b5ed281c28261b2}{make\_index\_sequence<N>}}(),}
\DoxyCodeLine{1494                    \mbox{\hyperlink{detail_2common_8h_af3331027e7c99eb207fba4460549981d}{select\_indices}}<\mbox{\hyperlink{structvectorize__arg}{vectorize\_arg<Args>::vectorize}}...>(),}
\DoxyCodeLine{1495                    \mbox{\hyperlink{detail_2common_8h_ab5e942a7ee11e93c8b5ed281c28261b2}{make\_index\_sequence<NVectorized>}}());}
\DoxyCodeLine{1496     \}}
\DoxyCodeLine{1497 }
\DoxyCodeLine{1498 \textcolor{keyword}{private}:}
\DoxyCodeLine{1499     \mbox{\hyperlink{detail_2common_8h_a3a08cea569e6926ac8d7d74dd7178b5f}{remove\_reference\_t<Func>}} \mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}};}
\DoxyCodeLine{1500 }
\DoxyCodeLine{1501     \textcolor{comment}{// Internal compiler error in MSVC 19.16.27025.1 (Visual Studio 2017 15.9.4), when compiling with "{}/permissive-\/"{} flag}}
\DoxyCodeLine{1502     \textcolor{comment}{// when arg\_call\_types is manually inlined.}}
\DoxyCodeLine{1503     \textcolor{keyword}{using} \mbox{\hyperlink{structvectorize__helper_aedb3d74ed26237b68b0926b37576d3e4}{arg\_call\_types}} = std::tuple<typename vectorize\_arg<Args>::call\_type...>;}
\DoxyCodeLine{1504     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} Index> \textcolor{keyword}{using} \mbox{\hyperlink{structvectorize__helper_a0985ff9e1581d5fe50ea5474afc9bd70}{param\_n\_t}} = \textcolor{keyword}{typename} std::tuple\_element<Index, arg\_call\_types>::type;}
\DoxyCodeLine{1505 }
\DoxyCodeLine{1506     \textcolor{comment}{// Runs a vectorized function given arguments tuple and three index sequences:}}
\DoxyCodeLine{1507     \textcolor{comment}{//     -\/ Index is the full set of 0 ... (N-\/1) argument indices;}}
\DoxyCodeLine{1508     \textcolor{comment}{//     -\/ VIndex is the subset of argument indices with vectorized parameters, letting us access}}
\DoxyCodeLine{1509     \textcolor{comment}{//       vectorized arguments (anything not in this sequence is passed through)}}
\DoxyCodeLine{1510     \textcolor{comment}{//     -\/ BIndex is a incremental sequence (beginning at 0) of the same size as VIndex, so that}}
\DoxyCodeLine{1511     \textcolor{comment}{//       we can store vectorized buffer\_infos in an array (argument VIndex has its buffer at}}
\DoxyCodeLine{1512     \textcolor{comment}{//       index BIndex in the array).}}
\DoxyCodeLine{1513     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t}... Index, \textcolor{keywordtype}{size\_t}... VIndex, \textcolor{keywordtype}{size\_t}... BIndex> \textcolor{keywordtype}{object} \mbox{\hyperlink{structvectorize__helper_a28616c8268d26caffff8897fb91158ec}{run}}(}
\DoxyCodeLine{1514             \textcolor{keyword}{typename} \mbox{\hyperlink{structvectorize__arg_a1eac44d967c2119c39a13843b8546c9d}{vectorize\_arg<Args>::type}} \&...\mbox{\hyperlink{classargs}{args}},}
\DoxyCodeLine{1515             \mbox{\hyperlink{structindex__sequence}{index\_sequence<Index...>}} i\_seq, \mbox{\hyperlink{structindex__sequence}{index\_sequence<VIndex...>}} vi\_seq, \mbox{\hyperlink{structindex__sequence}{index\_sequence<BIndex...>}} bi\_seq) \{}
\DoxyCodeLine{1516 }
\DoxyCodeLine{1517         \textcolor{comment}{// Pointers to values the function was called with; the vectorized ones set here will start}}
\DoxyCodeLine{1518         \textcolor{comment}{// out as array\_t<T> pointers, but they will be changed them to T pointers before we make}}
\DoxyCodeLine{1519         \textcolor{comment}{// call the wrapped function.  Non-\/vectorized pointers are left as-\/is.}}
\DoxyCodeLine{1520         std::array<void *, N> params\{\{ \&\mbox{\hyperlink{classargs}{args}}... \}\};}
\DoxyCodeLine{1521 }
\DoxyCodeLine{1522         \textcolor{comment}{// The array of `buffer\_info`s of vectorized arguments:}}
\DoxyCodeLine{1523         std::array<buffer\_info, NVectorized> buffers\{\{ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classarray}{array}} *\textcolor{keyword}{>}(params[VIndex])-\/>request()... \}\};}
\DoxyCodeLine{1524 }
\DoxyCodeLine{1525         \textcolor{comment}{/* Determine dimensions parameters of output array */}}
\DoxyCodeLine{1526         \mbox{\hyperlink{detail_2common_8h_ac430d16fc097b3bf0a7469cfd09decda}{ssize\_t}} nd = 0;}
\DoxyCodeLine{1527         std::vector<ssize\_t> shape(0);}
\DoxyCodeLine{1528         \textcolor{keyword}{auto} trivial = \mbox{\hyperlink{numpy_8h_aadc46b015f7eb43abea72a5f8eb3628d}{broadcast}}(buffers, nd, shape);}
\DoxyCodeLine{1529         \textcolor{keywordtype}{size\_t} ndim = (\mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}}) nd;}
\DoxyCodeLine{1530 }
\DoxyCodeLine{1531         \textcolor{keywordtype}{size\_t} size = std::accumulate(shape.begin(), shape.end(), (\textcolor{keywordtype}{size\_t}) 1, std::multiplies<size\_t>());}
\DoxyCodeLine{1532 }
\DoxyCodeLine{1533         \textcolor{comment}{// If all arguments are 0-\/dimension arrays (i.e. single values) return a plain value (i.e.}}
\DoxyCodeLine{1534         \textcolor{comment}{// not wrapped in an array).}}
\DoxyCodeLine{1535         \textcolor{keywordflow}{if} (size == 1 \&\& ndim == 0) \{}
\DoxyCodeLine{1536             \mbox{\hyperlink{detail_2common_8h_a3d7c7853f6ac53a5a12c09c57dbf9ce4}{PYBIND11\_EXPAND\_SIDE\_EFFECTS}}(params[VIndex] = buffers[BIndex].ptr);}
\DoxyCodeLine{1537             \textcolor{keywordflow}{return} \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{cast}}(\mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}}(*\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{structvectorize__helper_a0985ff9e1581d5fe50ea5474afc9bd70}{param\_n\_t<Index>}} *\textcolor{keyword}{>}(params[Index])...));}
\DoxyCodeLine{1538         \}}
\DoxyCodeLine{1539 }
\DoxyCodeLine{1540         \mbox{\hyperlink{classarray__t}{array\_t<Return>}} result;}
\DoxyCodeLine{1541         \textcolor{keywordflow}{if} (trivial == \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1aca83eef092559c5a8675600843fe62ae}{broadcast\_trivial::f\_trivial}}) result = \mbox{\hyperlink{classarray__t}{array\_t<Return, array::f\_style>}}(shape);}
\DoxyCodeLine{1542         \textcolor{keywordflow}{else} result = \mbox{\hyperlink{classarray__t}{array\_t<Return>}}(shape);}
\DoxyCodeLine{1543 }
\DoxyCodeLine{1544         \textcolor{keywordflow}{if} (size == 0) \textcolor{keywordflow}{return} std::move(result);}
\DoxyCodeLine{1545 }
\DoxyCodeLine{1546         \textcolor{comment}{/* Call the function */}}
\DoxyCodeLine{1547         \textcolor{keywordflow}{if} (trivial == \mbox{\hyperlink{numpy_8h_ac1b3b4d99bd978f5528dac7966978dd1afdc3dd34f1eba5038fce1e7cd8ad2a50}{broadcast\_trivial::non\_trivial}})}
\DoxyCodeLine{1548             \mbox{\hyperlink{structvectorize__helper_a3e61d504478d3c6cfcf893711bfcd74d}{apply\_broadcast}}(buffers, params, result, i\_seq, vi\_seq, bi\_seq);}
\DoxyCodeLine{1549         \textcolor{keywordflow}{else}}
\DoxyCodeLine{1550             \mbox{\hyperlink{structvectorize__helper_a0e3f27d2ff4f3f8efea5370f15616379}{apply\_trivial}}(buffers, params, result.\mbox{\hyperlink{classarray__t_a36ef1b532b88bcfa508d08c43865e4c0}{mutable\_data}}(), size, i\_seq, vi\_seq, bi\_seq);}
\DoxyCodeLine{1551 }
\DoxyCodeLine{1552         \textcolor{keywordflow}{return} std::move(result);}
\DoxyCodeLine{1553     \}}
\DoxyCodeLine{1554 }
\DoxyCodeLine{1555     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t}... Index, \textcolor{keywordtype}{size\_t}... VIndex, \textcolor{keywordtype}{size\_t}... BIndex>}
\DoxyCodeLine{1556     \textcolor{keywordtype}{void} \mbox{\hyperlink{structvectorize__helper_a0e3f27d2ff4f3f8efea5370f15616379}{apply\_trivial}}(std::array<buffer\_info, NVectorized> \&buffers,}
\DoxyCodeLine{1557                        std::array<void *, N> \&params,}
\DoxyCodeLine{1558                        Return *out,}
\DoxyCodeLine{1559                        \textcolor{keywordtype}{size\_t} size,}
\DoxyCodeLine{1560                        \mbox{\hyperlink{structindex__sequence}{index\_sequence<Index...>}}, \mbox{\hyperlink{structindex__sequence}{index\_sequence<VIndex...>}}, \mbox{\hyperlink{structindex__sequence}{index\_sequence<BIndex...>}}) \{}
\DoxyCodeLine{1561 }
\DoxyCodeLine{1562         \textcolor{comment}{// Initialize an array of mutable byte references and sizes with references set to the}}
\DoxyCodeLine{1563         \textcolor{comment}{// appropriate pointer in `params`; as we iterate, we'll increment each pointer by its size}}
\DoxyCodeLine{1564         \textcolor{comment}{// (except for singletons, which get an increment of 0).}}
\DoxyCodeLine{1565         std::array<std::pair<unsigned char *\&, const size\_t>, \mbox{\hyperlink{structvectorize__helper_ae8b5677adc19d187769de3b592188e7f}{NVectorized}}> vecparams\{\{}
\DoxyCodeLine{1566             std::pair<unsigned char *\&, const size\_t>(}
\DoxyCodeLine{1567                     \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *\&\textcolor{keyword}{>}(params[VIndex] = buffers[BIndex].ptr),}
\DoxyCodeLine{1568                     buffers[BIndex].size == 1 ? 0 : \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structvectorize__helper_a0985ff9e1581d5fe50ea5474afc9bd70}{param\_n\_t<VIndex>}})}
\DoxyCodeLine{1569             )...}
\DoxyCodeLine{1570         \}\};}
\DoxyCodeLine{1571 }
\DoxyCodeLine{1572         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < size; ++i) \{}
\DoxyCodeLine{1573             out[i] = \mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}}(*\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{structvectorize__helper_a0985ff9e1581d5fe50ea5474afc9bd70}{param\_n\_t<Index>}} *\textcolor{keyword}{>}(params[Index])...);}
\DoxyCodeLine{1574             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&\mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}} : vecparams) \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.first += \mbox{\hyperlink{utils_8c_a676e0da0ef83bbbdf42538e54b97506b}{x}}.second;}
\DoxyCodeLine{1575         \}}
\DoxyCodeLine{1576     \}}
\DoxyCodeLine{1577 }
\DoxyCodeLine{1578     \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t}... Index, \textcolor{keywordtype}{size\_t}... VIndex, \textcolor{keywordtype}{size\_t}... BIndex>}
\DoxyCodeLine{1579     \textcolor{keywordtype}{void} \mbox{\hyperlink{structvectorize__helper_a3e61d504478d3c6cfcf893711bfcd74d}{apply\_broadcast}}(std::array<buffer\_info, NVectorized> \&buffers,}
\DoxyCodeLine{1580                          std::array<void *, N> \&params,}
\DoxyCodeLine{1581                          \mbox{\hyperlink{classarray__t}{array\_t<Return>}} \&output\_array,}
\DoxyCodeLine{1582                          \mbox{\hyperlink{structindex__sequence}{index\_sequence<Index...>}}, \mbox{\hyperlink{structindex__sequence}{index\_sequence<VIndex...>}}, \mbox{\hyperlink{structindex__sequence}{index\_sequence<BIndex...>}}) \{}
\DoxyCodeLine{1583 }
\DoxyCodeLine{1584         \mbox{\hyperlink{structbuffer__info}{buffer\_info}} output = output\_array.\mbox{\hyperlink{classbuffer_a410de778a607bf10ddfb1cdba4e72901}{request}}();}
\DoxyCodeLine{1585         \mbox{\hyperlink{classmulti__array__iterator}{multi\_array\_iterator<NVectorized>}} input\_iter(buffers, output.\mbox{\hyperlink{structbuffer__info_a69da91575dde98ab488789dfd2d8daf4}{shape}});}
\DoxyCodeLine{1586 }
\DoxyCodeLine{1587         \textcolor{keywordflow}{for} (\mbox{\hyperlink{numpy_8h_aa8e835bf89781c639f61beadbcc6ddc6}{array\_iterator<Return>}} \mbox{\hyperlink{group__python__builtins_ga0f2342d8d9000a3bcef531c39e97c531}{iter}} = array\_begin<Return>(output), \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} = array\_end<Return>(output);}
\DoxyCodeLine{1588              \mbox{\hyperlink{group__python__builtins_ga0f2342d8d9000a3bcef531c39e97c531}{iter}} != \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}};}
\DoxyCodeLine{1589              ++\mbox{\hyperlink{group__python__builtins_ga0f2342d8d9000a3bcef531c39e97c531}{iter}}, ++input\_iter) \{}
\DoxyCodeLine{1590             \mbox{\hyperlink{detail_2common_8h_a3d7c7853f6ac53a5a12c09c57dbf9ce4}{PYBIND11\_EXPAND\_SIDE\_EFFECTS}}((}
\DoxyCodeLine{1591                 params[VIndex] = input\_iter.template \mbox{\hyperlink{structdata}{data<BIndex>}}()}
\DoxyCodeLine{1592             ));}
\DoxyCodeLine{1593             *\mbox{\hyperlink{group__python__builtins_ga0f2342d8d9000a3bcef531c39e97c531}{iter}} = \mbox{\hyperlink{structvectorize__helper_aa00643d70d9f78b1d88320b4310d90ba}{f}}(*\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{structvectorize__helper_a0985ff9e1581d5fe50ea5474afc9bd70}{param\_n\_t<Index>}} *\textcolor{keyword}{>}(std::get<Index>(params))...);}
\DoxyCodeLine{1594         \}}
\DoxyCodeLine{1595     \}}
\DoxyCodeLine{1596 \};}
\DoxyCodeLine{1597 }
\DoxyCodeLine{1598 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename} Return, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1599 \mbox{\hyperlink{structvectorize__helper}{vectorize\_helper}}<Func, Return, Args...>}
\DoxyCodeLine{1600 \mbox{\hyperlink{numpy_8h_a924a086bac7eced6610e5553d35bde09}{vectorize\_extractor}}(\textcolor{keyword}{const} Func \&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, Return (*) (Args ...)) \{}
\DoxyCodeLine{1601     \textcolor{keywordflow}{return} detail::vectorize\_helper<Func, Return, Args...>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}});}
\DoxyCodeLine{1602 \}}
\DoxyCodeLine{1603 }
\DoxyCodeLine{1604 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{int} Flags> \textcolor{keyword}{struct }\mbox{\hyperlink{structhandle__type__name}{handle\_type\_name}}<\mbox{\hyperlink{classarray__t}{array\_t}}<T, Flags>> \{}
\DoxyCodeLine{1605     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{structname}{name}} = \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}numpy.ndarray["{}}) + \mbox{\hyperlink{structnpy__format__descriptor}{npy\_format\_descriptor<T>::name}} + \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}]"{}});}
\DoxyCodeLine{1606 \};}
\DoxyCodeLine{1607 }
\DoxyCodeLine{1608 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{1609 }
\DoxyCodeLine{1610 \textcolor{comment}{// Vanilla pointer vectorizer:}}
\DoxyCodeLine{1611 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1612 detail::vectorize\_helper<Return (*)(Args...), Return, Args...>}
\DoxyCodeLine{1613 \mbox{\hyperlink{numpy_8h_af9c0ef2c3db9b35cdc4d4b4f5d86911d}{vectorize}}(Return (*\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) (Args ...)) \{}
\DoxyCodeLine{1614     \textcolor{keywordflow}{return} detail::vectorize\_helper<Return (*)(Args...), Return, Args...>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}});}
\DoxyCodeLine{1615 \}}
\DoxyCodeLine{1616 }
\DoxyCodeLine{1617 \textcolor{comment}{// lambda vectorizer:}}
\DoxyCodeLine{1618 template <typename Func, detail::enable\_if\_t<detail::is\_lambda<Func>::value, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{1619 \textcolor{keyword}{auto} \mbox{\hyperlink{numpy_8h_af9c0ef2c3db9b35cdc4d4b4f5d86911d}{vectorize}}(Func \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) -\/> \textcolor{keyword}{decltype}(}
\DoxyCodeLine{1620         \mbox{\hyperlink{numpy_8h_a924a086bac7eced6610e5553d35bde09}{detail::vectorize\_extractor}}(std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}), (detail::function\_signature\_t<Func> *) \textcolor{keyword}{nullptr})) \{}
\DoxyCodeLine{1621     \textcolor{keywordflow}{return} \mbox{\hyperlink{numpy_8h_a924a086bac7eced6610e5553d35bde09}{detail::vectorize\_extractor}}(std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}), (detail::function\_signature\_t<Func> *) \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1622 \}}
\DoxyCodeLine{1623 }
\DoxyCodeLine{1624 \textcolor{comment}{// Vectorize a class method (non-\/const):}}
\DoxyCodeLine{1625 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{1626           \textcolor{keyword}{typename} Helper = detail::vectorize\_helper<\textcolor{keyword}{decltype}(std::mem\_fn(std::declval<Return (Class::*)(Args...)>())), Return, Class *, Args...>>}
\DoxyCodeLine{1627 Helper \mbox{\hyperlink{numpy_8h_af9c0ef2c3db9b35cdc4d4b4f5d86911d}{vectorize}}(Return (Class::*\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})(Args...)) \{}
\DoxyCodeLine{1628     \textcolor{keywordflow}{return} Helper(std::mem\_fn(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}));}
\DoxyCodeLine{1629 \}}
\DoxyCodeLine{1630 }
\DoxyCodeLine{1631 \textcolor{comment}{// Vectorize a class method (const):}}
\DoxyCodeLine{1632 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Args,}
\DoxyCodeLine{1633           \textcolor{keyword}{typename} Helper = detail::vectorize\_helper<\textcolor{keyword}{decltype}(std::mem\_fn(std::declval<Return (Class::*)(Args...) \textcolor{keyword}{const}>())), Return, \textcolor{keyword}{const} Class *, Args...>>}
\DoxyCodeLine{1634 Helper \mbox{\hyperlink{numpy_8h_af9c0ef2c3db9b35cdc4d4b4f5d86911d}{vectorize}}(Return (Class::*\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})(Args...) \textcolor{keyword}{const}) \{}
\DoxyCodeLine{1635     \textcolor{keywordflow}{return} Helper(std::mem\_fn(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}));}
\DoxyCodeLine{1636 \}}
\DoxyCodeLine{1637 }
\DoxyCodeLine{1638 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(\mbox{\hyperlink{detail_2common_8h_a0d3c06cceaa89be29b71719a825444c6}{PYBIND11\_NAMESPACE}})}
\DoxyCodeLine{1639 }
\DoxyCodeLine{1640 \textcolor{preprocessor}{\#if defined(\_MSC\_VER)}}
\DoxyCodeLine{1641 \textcolor{preprocessor}{\#pragma warning(pop)}}
\DoxyCodeLine{1642 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
