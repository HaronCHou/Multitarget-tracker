\hypertarget{pybind11_8h_source}{}\doxysection{pybind11.\+h}
\label{pybind11_8h_source}\index{D:/zhr\_files/Multitarget-\/tracker-\/master/thirdparty/pybind11/include/pybind11/pybind11.h@{D:/zhr\_files/Multitarget-\/tracker-\/master/thirdparty/pybind11/include/pybind11/pybind11.h}}
\mbox{\hyperlink{pybind11_8h}{浏览该文件的文档.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{    pybind11/pybind11.h: Main header file of the C++11 python}}
\DoxyCodeLine{3 \textcolor{comment}{    binding generator library}}
\DoxyCodeLine{4 \textcolor{comment}{}}
\DoxyCodeLine{5 \textcolor{comment}{    Copyright (c) 2016 Wenzel Jakob <wenzel.jakob@epfl.ch>}}
\DoxyCodeLine{6 \textcolor{comment}{}}
\DoxyCodeLine{7 \textcolor{comment}{    All rights reserved. Use of this source code is governed by a}}
\DoxyCodeLine{8 \textcolor{comment}{    BSD-\/style license that can be found in the LICENSE file.}}
\DoxyCodeLine{9 \textcolor{comment}{*/}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#if defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#  pragma warning push}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#  pragma warning disable 68    }\textcolor{comment}{// integer conversion resulted in a change of sign}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#  pragma warning disable 186   }\textcolor{comment}{// pointless comparison of unsigned integer with zero}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#  pragma warning disable 878   }\textcolor{comment}{// incompatible exception specifications}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#  pragma warning disable 1334  }\textcolor{comment}{// the "{}template"{} keyword used for syntactic disambiguation may only be used within a template}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#  pragma warning disable 1682  }\textcolor{comment}{// implicit conversion of a 64-\/bit integral type to a smaller integral type (potential portability problem)}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#  pragma warning disable 1786  }\textcolor{comment}{// function "{}strdup"{} was declared deprecated}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#  pragma warning disable 1875  }\textcolor{comment}{// offsetof applied to non-\/POD (Plain Old Data) types is nonstandard}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#  pragma warning disable 2196  }\textcolor{comment}{// warning \#2196: routine is both "{}inline"{} and "{}noinline"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER)}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#  pragma warning(push)}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#  pragma warning(disable: 4100) }\textcolor{comment}{// warning C4100: Unreferenced formal parameter}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#  pragma warning(disable: 4127) }\textcolor{comment}{// warning C4127: Conditional expression is constant}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#  pragma warning(disable: 4512) }\textcolor{comment}{// warning C4512: Assignment operator was implicitly defined as deleted}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#  pragma warning(disable: 4800) }\textcolor{comment}{// warning C4800: 'int': forcing value to bool 'true' or 'false' (performance warning)}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#  pragma warning(disable: 4996) }\textcolor{comment}{// warning C4996: The POSIX name for this item is deprecated. Instead, use the ISO C and C++ conformant name}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#  pragma warning(disable: 4702) }\textcolor{comment}{// warning C4702: unreachable code}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#  pragma warning(disable: 4522) }\textcolor{comment}{// warning C4522: multiple assignment operators specified}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#elif defined(\_\_GNUG\_\_) \&\& !defined(\_\_clang\_\_)}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#  pragma GCC diagnostic push}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#  pragma GCC diagnostic ignored "{}-\/Wunused-\/but-\/set-\/parameter"{}}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#  pragma GCC diagnostic ignored "{}-\/Wunused-\/but-\/set-\/variable"{}}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#  pragma GCC diagnostic ignored "{}-\/Wmissing-\/field-\/initializers"{}}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#  pragma GCC diagnostic ignored "{}-\/Wstrict-\/aliasing"{}}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#  pragma GCC diagnostic ignored "{}-\/Wattributes"{}}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#  if \_\_GNUC\_\_ >= 7}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#    pragma GCC diagnostic ignored "{}-\/Wnoexcept-\/type"{}}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{attr_8h}{attr.h}}"{}}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{options_8h}{options.h}}"{}}}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{class_8h}{detail/class.h}}"{}}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{init_8h}{detail/init.h}}"{}}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{preprocessor}{\#if defined(\_\_GNUG\_\_) \&\& !defined(\_\_clang\_\_)}}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#  include <cxxabi.h>}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(\mbox{\hyperlink{detail_2common_8h_a0d3c06cceaa89be29b71719a825444c6}{PYBIND11\_NAMESPACE}})}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 }
\DoxyCodeLine{56 class \mbox{\hyperlink{classcpp__function}{cpp\_function}} : public \mbox{\hyperlink{classfunction}{function}} \{}
\DoxyCodeLine{57 \textcolor{keyword}{public}:}
\DoxyCodeLine{58     \mbox{\hyperlink{classcpp__function_ae280a9823b07b3832e8d7e786a863bf4}{cpp\_function}}() \{ \}}
\DoxyCodeLine{59     \mbox{\hyperlink{classcpp__function_a645776419d4d24d2fef4c3339cffe7c3}{cpp\_function}}(std::nullptr\_t) \{ \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{62     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename}... Args, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{63     \mbox{\hyperlink{classcpp__function_adf288fd4fadeaf8e9e142d177fc267da}{cpp\_function}}(Return (*\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})(Args...), \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{64         initialize(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, extra...);}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66 }
\DoxyCodeLine{68     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename}... Extra,}
\DoxyCodeLine{69               \textcolor{keyword}{typename} = detail::enable\_if\_t<detail::is\_lambda<Func>::value>>}
\DoxyCodeLine{70     \mbox{\hyperlink{classcpp__function_a345da213151996cb60ba487622036899}{cpp\_function}}(Func \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{71         initialize(std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}),}
\DoxyCodeLine{72                    (detail::function\_signature\_t<Func> *) \textcolor{keyword}{nullptr}, extra...);}
\DoxyCodeLine{73     \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{76     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Arg, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{77     \mbox{\hyperlink{classcpp__function_a977ae047c5ece21dbfbbccda8c304986}{cpp\_function}}(Return (Class::*\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})(Arg...), \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{78         initialize([\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}](Class *c, Arg... \mbox{\hyperlink{classargs}{args}}) -\/> Return \{ return (c-\/>*f)(args...); \},}
\DoxyCodeLine{79                    (Return (*) (Class *, Arg...)) \textcolor{keyword}{nullptr}, extra...);}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{83     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Arg, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{84     \mbox{\hyperlink{classcpp__function_adf1a5ad6ed0992a0bd07c2048b98d6f1}{cpp\_function}}(Return (Class::*\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})(Arg...) \textcolor{keyword}{const}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{85         initialize([\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}](\textcolor{keyword}{const} Class *c, Arg... \mbox{\hyperlink{classargs}{args}}) -\/> Return \{ return (c-\/>*f)(args...); \},}
\DoxyCodeLine{86                    (Return (*)(\textcolor{keyword}{const} Class *, Arg ...)) \textcolor{keyword}{nullptr}, extra...);}
\DoxyCodeLine{87     \}}
\DoxyCodeLine{88 }
\DoxyCodeLine{90     \textcolor{keywordtype}{object} \mbox{\hyperlink{classcpp__function_a5d8bcdd6781aa6da434299589c68013e}{name}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} attr(\textcolor{stringliteral}{"{}\_\_name\_\_"{}}); \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 \textcolor{keyword}{protected}:}
\DoxyCodeLine{94     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} detail::function\_record *\mbox{\hyperlink{classcpp__function_af183e360a4104776ad303e0c1d17ec38}{make\_function\_record}}() \{}
\DoxyCodeLine{95         \textcolor{keywordflow}{return} \textcolor{keyword}{new} detail::function\_record();}
\DoxyCodeLine{96     \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{99     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename} Return, \textcolor{keyword}{typename}... Args, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{100     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpp__function_a97487e306e9e0a8d0535fb5fe5c6d8ef}{initialize}}(Func \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, Return (*)(Args...), \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{101         \textcolor{keyword}{using namespace }detail;}
\DoxyCodeLine{102         \textcolor{keyword}{struct }capture \{ \mbox{\hyperlink{detail_2common_8h_a3a08cea569e6926ac8d7d74dd7178b5f}{remove\_reference\_t<Func>}} \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}; \};}
\DoxyCodeLine{103 }
\DoxyCodeLine{104         \textcolor{comment}{/* Store the function including any extra state it might have (e.g. a lambda capture object) */}}
\DoxyCodeLine{105         \textcolor{keyword}{auto} rec = make\_function\_record();}
\DoxyCodeLine{106 }
\DoxyCodeLine{107         \textcolor{comment}{/* Store the capture object directly in the function record if there is enough space */}}
\DoxyCodeLine{108         \textcolor{keywordflow}{if} (\textcolor{keyword}{sizeof}(capture) <= \textcolor{keyword}{sizeof}(rec-\/>data)) \{}
\DoxyCodeLine{109             \textcolor{comment}{/* Without these pragmas, GCC warns that there might not be}}
\DoxyCodeLine{110 \textcolor{comment}{               enough space to use the placement new operator. However, the}}
\DoxyCodeLine{111 \textcolor{comment}{               'if' statement above ensures that this is the case. */}}
\DoxyCodeLine{112 \textcolor{preprocessor}{\#if defined(\_\_GNUG\_\_) \&\& !defined(\_\_clang\_\_) \&\& \_\_GNUC\_\_ >= 6}}
\DoxyCodeLine{113 \textcolor{preprocessor}{\#  pragma GCC diagnostic push}}
\DoxyCodeLine{114 \textcolor{preprocessor}{\#  pragma GCC diagnostic ignored "{}-\/Wplacement-\/new"{}}}
\DoxyCodeLine{115 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{116             \textcolor{keyword}{new} ((capture *) \&rec-\/>data) capture \{ std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) \};}
\DoxyCodeLine{117 \textcolor{preprocessor}{\#if defined(\_\_GNUG\_\_) \&\& !defined(\_\_clang\_\_) \&\& \_\_GNUC\_\_ >= 6}}
\DoxyCodeLine{118 \textcolor{preprocessor}{\#  pragma GCC diagnostic pop}}
\DoxyCodeLine{119 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{120             \textcolor{keywordflow}{if} (!std::is\_trivially\_destructible<Func>::value)}
\DoxyCodeLine{121                 rec-\/>free\_data = [](\mbox{\hyperlink{structfunction__record}{function\_record}} *\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}) \{ ((capture *) \&\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/>data)-\/>\string~capture(); \};}
\DoxyCodeLine{122         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{123             rec-\/>data[0] = \textcolor{keyword}{new} capture \{ std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) \};}
\DoxyCodeLine{124             rec-\/>free\_data = [](\mbox{\hyperlink{structfunction__record}{function\_record}} *\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}) \{ \textcolor{keyword}{delete} ((capture *) \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/>data[0]); \};}
\DoxyCodeLine{125         \}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127         \textcolor{comment}{/* Type casters for the function arguments and return value */}}
\DoxyCodeLine{128         \textcolor{keyword}{using} cast\_in = \mbox{\hyperlink{classargument__loader}{argument\_loader}}<Args...>;}
\DoxyCodeLine{129         \textcolor{keyword}{using} cast\_out = \mbox{\hyperlink{classtype__caster}{make\_caster}}<}
\DoxyCodeLine{130             \mbox{\hyperlink{detail_2common_8h_acdb0eff728aec08ed6fff07d2885ea9d}{conditional\_t<std::is\_void<Return>::value}}, \mbox{\hyperlink{structvoid__type}{void\_type}}, Return>}
\DoxyCodeLine{131         >;}
\DoxyCodeLine{132 }
\DoxyCodeLine{133         \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{attr_8h_aee8e512324ba0cf2dc1529f72b05c989}{expected\_num\_args}}<Extra...>(\textcolor{keyword}{sizeof}...(Args), cast\_in::has\_args, cast\_in::has\_kwargs),}
\DoxyCodeLine{134                       \textcolor{stringliteral}{"{}The number of argument annotations does not match the number of function arguments"{}});}
\DoxyCodeLine{135 }
\DoxyCodeLine{136         \textcolor{comment}{/* Dispatch code which converts function arguments and performs the actual function call */}}
\DoxyCodeLine{137         rec-\/>impl = [](\mbox{\hyperlink{structfunction__call}{function\_call}} \&call) -\/> \mbox{\hyperlink{classhandle}{handle}} \{}
\DoxyCodeLine{138             cast\_in args\_converter;}
\DoxyCodeLine{139 }
\DoxyCodeLine{140             \textcolor{comment}{/* Try to cast the function arguments into the C++ domain */}}
\DoxyCodeLine{141             \textcolor{keywordflow}{if} (!args\_converter.load\_args(call))}
\DoxyCodeLine{142                 \textcolor{keywordflow}{return} \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}};}
\DoxyCodeLine{143 }
\DoxyCodeLine{144             \textcolor{comment}{/* Invoke call policy pre-\/call hook */}}
\DoxyCodeLine{145             \mbox{\hyperlink{structprocess__attributes_a2b4b705a56f8d0e65fa269837f8cd148}{process\_attributes<Extra...>::precall}}(call);}
\DoxyCodeLine{146 }
\DoxyCodeLine{147             \textcolor{comment}{/* Get a pointer to the capture object */}}
\DoxyCodeLine{148             \textcolor{keyword}{auto} \mbox{\hyperlink{structdata}{data}} = (\textcolor{keyword}{sizeof}(capture) <= \textcolor{keyword}{sizeof}(call.func.data)}
\DoxyCodeLine{149                          ? \&call.func.data : call.func.data[0]);}
\DoxyCodeLine{150             capture *cap = \textcolor{keyword}{const\_cast<}capture *\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }capture *\textcolor{keyword}{>}(\mbox{\hyperlink{darknet_8h_a493583f6fc164cf849745e01e4c04ab5}{data}}));}
\DoxyCodeLine{151 }
\DoxyCodeLine{152             \textcolor{comment}{/* Override policy for rvalues -\/-\/ usually to enforce rvp::move on an rvalue */}}
\DoxyCodeLine{153             \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} policy = \mbox{\hyperlink{structreturn__value__policy__override_a65da8355449984fac8a8b4f5bfa70748}{return\_value\_policy\_override<Return>::policy}}(call.func.policy);}
\DoxyCodeLine{154 }
\DoxyCodeLine{155             \textcolor{comment}{/* Function scope guard -\/-\/ defaults to the compile-\/to-\/nothing `void\_type` */}}
\DoxyCodeLine{156             \textcolor{keyword}{using} Guard = \mbox{\hyperlink{attr_8h_a7dada60692094a388ec439ebac146123}{extract\_guard\_t}}<Extra...>;}
\DoxyCodeLine{157 }
\DoxyCodeLine{158             \textcolor{comment}{/* Perform the function call */}}
\DoxyCodeLine{159             \mbox{\hyperlink{classhandle}{handle}} result = \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{cast\_out::cast}}(}
\DoxyCodeLine{160                 std::move(args\_converter).\textcolor{keyword}{template} call<Return, Guard>(cap-\/>f), policy, call.parent);}
\DoxyCodeLine{161 }
\DoxyCodeLine{162             \textcolor{comment}{/* Invoke call policy post-\/call hook */}}
\DoxyCodeLine{163             \mbox{\hyperlink{structprocess__attributes_add46fd700add3f95c2175d9da79ceb86}{process\_attributes<Extra...>::postcall}}(call, result);}
\DoxyCodeLine{164 }
\DoxyCodeLine{165             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{166         \};}
\DoxyCodeLine{167 }
\DoxyCodeLine{168         \textcolor{comment}{/* Process any user-\/provided function attributes */}}
\DoxyCodeLine{169         \mbox{\hyperlink{structprocess__attributes_a27a45881631e93c2f3a126f8bd661a77}{process\_attributes<Extra...>::init}}(extra..., rec);}
\DoxyCodeLine{170 }
\DoxyCodeLine{171         \textcolor{comment}{/* Generate a readable signature describing the function's arguments and return value types */}}
\DoxyCodeLine{172         \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} signature = \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}("{}}) + cast\_in::arg\_names + \mbox{\hyperlink{descr_8h_a213ce974eda8bd2f9f542dc6e3135355}{\_}}(\textcolor{stringliteral}{"{}) -\/> "{}}) + cast\_out::name;}
\DoxyCodeLine{173         \mbox{\hyperlink{descr_8h_a1fa473d16c54256f9e61a9960f6fb5fd}{PYBIND11\_DESCR\_CONSTEXPR}} \textcolor{keyword}{auto} types = \textcolor{keyword}{decltype}(signature)::types();}
\DoxyCodeLine{174 }
\DoxyCodeLine{175         \textcolor{comment}{/* Register the function with Python from generic (non-\/templated) code */}}
\DoxyCodeLine{176         initialize\_generic(rec, signature.text, types.data(), \textcolor{keyword}{sizeof}...(Args));}
\DoxyCodeLine{177 }
\DoxyCodeLine{178         \textcolor{keywordflow}{if} (cast\_in::has\_args) rec-\/>has\_args = \textcolor{keyword}{true};}
\DoxyCodeLine{179         \textcolor{keywordflow}{if} (cast\_in::has\_kwargs) rec-\/>has\_kwargs = \textcolor{keyword}{true};}
\DoxyCodeLine{180 }
\DoxyCodeLine{181         \textcolor{comment}{/* Stash some additional information used by an important optimization in 'functional.h' */}}
\DoxyCodeLine{182         \textcolor{keyword}{using} FunctionType = Return (*)(Args...);}
\DoxyCodeLine{183         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} is\_function\_ptr =}
\DoxyCodeLine{184             std::is\_convertible<Func, FunctionType>::value \&\&}
\DoxyCodeLine{185             \textcolor{keyword}{sizeof}(capture) == \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void} *);}
\DoxyCodeLine{186         \textcolor{keywordflow}{if} (is\_function\_ptr) \{}
\DoxyCodeLine{187             rec-\/>is\_stateless = \textcolor{keyword}{true};}
\DoxyCodeLine{188             rec-\/>data[1] = \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{void} *\textcolor{keyword}{>}(\&\textcolor{keyword}{typeid}(FunctionType)));}
\DoxyCodeLine{189         \}}
\DoxyCodeLine{190     \}}
\DoxyCodeLine{191 }
\DoxyCodeLine{193     \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpp__function_a4120dff5c867829edb5ad1df929ec522}{initialize\_generic}}(detail::function\_record *rec, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *text,}
\DoxyCodeLine{194                             \textcolor{keyword}{const} std::type\_info *\textcolor{keyword}{const} *types, \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{classargs}{args}}) \{}
\DoxyCodeLine{195 }
\DoxyCodeLine{196         \textcolor{comment}{/* Create copies of all referenced C-\/style strings */}}
\DoxyCodeLine{197         rec-\/>name = strdup(rec-\/>name ? rec-\/>name : \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{198         \textcolor{keywordflow}{if} (rec-\/>doc) rec-\/>doc = strdup(rec-\/>doc);}
\DoxyCodeLine{199         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&a: rec-\/>args) \{}
\DoxyCodeLine{200             \textcolor{keywordflow}{if} (a.name)}
\DoxyCodeLine{201                 a.name = strdup(a.name);}
\DoxyCodeLine{202             \textcolor{keywordflow}{if} (a.descr)}
\DoxyCodeLine{203                 a.descr = strdup(a.descr);}
\DoxyCodeLine{204             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (a.value)}
\DoxyCodeLine{205                 a.descr = strdup(a.value.attr(\textcolor{stringliteral}{"{}\_\_repr\_\_"{}})().cast<std::string>().c\_str());}
\DoxyCodeLine{206         \}}
\DoxyCodeLine{207 }
\DoxyCodeLine{208         rec-\/>is\_constructor = !strcmp(rec-\/>name, \textcolor{stringliteral}{"{}\_\_init\_\_"{}}) || !strcmp(rec-\/>name, \textcolor{stringliteral}{"{}\_\_setstate\_\_"{}});}
\DoxyCodeLine{209 }
\DoxyCodeLine{210 \textcolor{preprocessor}{\#if !defined(NDEBUG) \&\& !defined(PYBIND11\_DISABLE\_NEW\_STYLE\_INIT\_WARNING)}}
\DoxyCodeLine{211         \textcolor{keywordflow}{if} (rec-\/>is\_constructor \&\& !rec-\/>is\_new\_style\_constructor) \{}
\DoxyCodeLine{212             \textcolor{keyword}{const} \textcolor{keyword}{auto} class\_name = std::string(((PyTypeObject *) rec-\/>scope.ptr())-\/>tp\_name);}
\DoxyCodeLine{213             \textcolor{keyword}{const} \textcolor{keyword}{auto} func\_name = std::string(rec-\/>name);}
\DoxyCodeLine{214             PyErr\_WarnEx(}
\DoxyCodeLine{215                 PyExc\_FutureWarning,}
\DoxyCodeLine{216                 (\textcolor{stringliteral}{"{}pybind11-\/bound class '"{}} + class\_name + \textcolor{stringliteral}{"{}' is using an old-\/style "{}}}
\DoxyCodeLine{217                  \textcolor{stringliteral}{"{}placement-\/new '"{}} + func\_name + \textcolor{stringliteral}{"{}' which has been deprecated. See "{}}}
\DoxyCodeLine{218                  \textcolor{stringliteral}{"{}the upgrade guide in pybind11's docs. This message is only visible "{}}}
\DoxyCodeLine{219                  \textcolor{stringliteral}{"{}when compiled in debug mode."{}}).\mbox{\hyperlink{internals_8h_ae139ca7042b502d77d304c4e0c744ec6}{c\_str}}(), 0}
\DoxyCodeLine{220             );}
\DoxyCodeLine{221         \}}
\DoxyCodeLine{222 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{223 }
\DoxyCodeLine{224         \textcolor{comment}{/* Generate a proper function signature */}}
\DoxyCodeLine{225         std::string signature;}
\DoxyCodeLine{226         \textcolor{keywordtype}{size\_t} type\_index = 0, arg\_index = 0;}
\DoxyCodeLine{227         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} *pc = text; *pc != \textcolor{charliteral}{'\(\backslash\)0'}; ++pc) \{}
\DoxyCodeLine{228             \textcolor{keyword}{const} \textcolor{keyword}{auto} c = *pc;}
\DoxyCodeLine{229 }
\DoxyCodeLine{230             \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\{'}) \{}
\DoxyCodeLine{231                 \textcolor{comment}{// Write arg name for everything except *args and **kwargs.}}
\DoxyCodeLine{232                 \textcolor{keywordflow}{if} (*(pc + 1) == \textcolor{charliteral}{'*'})}
\DoxyCodeLine{233                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{234 }
\DoxyCodeLine{235                 \textcolor{keywordflow}{if} (arg\_index < rec-\/>\mbox{\hyperlink{classargs}{args}}.\mbox{\hyperlink{classtuple_ab962c5f22da58f5d94f2107bec093f81}{size}}() \&\& rec-\/>args[arg\_index].name) \{}
\DoxyCodeLine{236                     signature += rec-\/>args[arg\_index].name;}
\DoxyCodeLine{237                 \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (arg\_index == 0 \&\& rec-\/>is\_method) \{}
\DoxyCodeLine{238                     signature += \textcolor{stringliteral}{"{}self"{}};}
\DoxyCodeLine{239                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{240                     signature += \textcolor{stringliteral}{"{}arg"{}} + std::to\_string(arg\_index -\/ (rec-\/>is\_method ? 1 : 0));}
\DoxyCodeLine{241                 \}}
\DoxyCodeLine{242                 signature += \textcolor{stringliteral}{"{}: "{}};}
\DoxyCodeLine{243             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\}'}) \{}
\DoxyCodeLine{244                 \textcolor{comment}{// Write default value if available.}}
\DoxyCodeLine{245                 \textcolor{keywordflow}{if} (arg\_index < rec-\/>\mbox{\hyperlink{classargs}{args}}.\mbox{\hyperlink{classtuple_ab962c5f22da58f5d94f2107bec093f81}{size}}() \&\& rec-\/>args[arg\_index].descr) \{}
\DoxyCodeLine{246                     signature += \textcolor{stringliteral}{"{} = "{}};}
\DoxyCodeLine{247                     signature += rec-\/>args[arg\_index].descr;}
\DoxyCodeLine{248                 \}}
\DoxyCodeLine{249                 arg\_index++;}
\DoxyCodeLine{250             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\%'}) \{}
\DoxyCodeLine{251                 \textcolor{keyword}{const} std::type\_info *t = types[type\_index++];}
\DoxyCodeLine{252                 \textcolor{keywordflow}{if} (!t)}
\DoxyCodeLine{253                     \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Internal error while parsing type signature (1)"{}});}
\DoxyCodeLine{254                 \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} tinfo = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(*t)) \{}
\DoxyCodeLine{255                     \mbox{\hyperlink{classhandle}{handle}} th((PyObject *) tinfo-\/>type);}
\DoxyCodeLine{256                     signature +=}
\DoxyCodeLine{257                         th.attr(\textcolor{stringliteral}{"{}\_\_module\_\_"{}}).\mbox{\hyperlink{classhandle_a8158ff37b59a73d48140ab4d718316b9}{cast}}<std::string>() + \textcolor{stringliteral}{"{}."{}} +}
\DoxyCodeLine{258                         th.attr(\textcolor{stringliteral}{"{}\_\_qualname\_\_"{}}).\mbox{\hyperlink{classhandle_a8158ff37b59a73d48140ab4d718316b9}{cast}}<std::string>(); \textcolor{comment}{// Python 3.3+, but we backport it to earlier versions}}
\DoxyCodeLine{259                 \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rec-\/>is\_new\_style\_constructor \&\& arg\_index == 0) \{}
\DoxyCodeLine{260                     \textcolor{comment}{// A new-\/style `\_\_init\_\_` takes `self` as `value\_and\_holder`.}}
\DoxyCodeLine{261                     \textcolor{comment}{// Rewrite it to the proper class type.}}
\DoxyCodeLine{262                     signature +=}
\DoxyCodeLine{263                         rec-\/>scope.attr(\textcolor{stringliteral}{"{}\_\_module\_\_"{}}).cast<std::string>() + \textcolor{stringliteral}{"{}."{}} +}
\DoxyCodeLine{264                         rec-\/>scope.attr(\textcolor{stringliteral}{"{}\_\_qualname\_\_"{}}).cast<std::string>();}
\DoxyCodeLine{265                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{266                     std::string tname(t-\/>name());}
\DoxyCodeLine{267                     \mbox{\hyperlink{typeid_8h_aab52845991c2e3ddb370e7723a6b0a75}{detail::clean\_type\_id}}(tname);}
\DoxyCodeLine{268                     signature += tname;}
\DoxyCodeLine{269                 \}}
\DoxyCodeLine{270             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{271                 signature += c;}
\DoxyCodeLine{272             \}}
\DoxyCodeLine{273         \}}
\DoxyCodeLine{274         \textcolor{keywordflow}{if} (arg\_index != \mbox{\hyperlink{classargs}{args}} || types[type\_index] != \textcolor{keyword}{nullptr})}
\DoxyCodeLine{275             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Internal error while parsing type signature (2)"{}});}
\DoxyCodeLine{276 }
\DoxyCodeLine{277 \textcolor{preprocessor}{\#if PY\_MAJOR\_VERSION < 3}}
\DoxyCodeLine{278         \textcolor{keywordflow}{if} (strcmp(rec-\/>name, \textcolor{stringliteral}{"{}\_\_next\_\_"{}}) == 0) \{}
\DoxyCodeLine{279             std::free(rec-\/>name);}
\DoxyCodeLine{280             rec-\/>name = strdup(\textcolor{stringliteral}{"{}next"{}});}
\DoxyCodeLine{281         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strcmp(rec-\/>name, \textcolor{stringliteral}{"{}\_\_bool\_\_"{}}) == 0) \{}
\DoxyCodeLine{282             std::free(rec-\/>name);}
\DoxyCodeLine{283             rec-\/>name = strdup(\textcolor{stringliteral}{"{}\_\_nonzero\_\_"{}});}
\DoxyCodeLine{284         \}}
\DoxyCodeLine{285 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{286         rec-\/>signature = strdup(signature.c\_str());}
\DoxyCodeLine{287         rec-\/>args.shrink\_to\_fit();}
\DoxyCodeLine{288         rec-\/>nargs = (std::uint16\_t) \mbox{\hyperlink{classargs}{args}};}
\DoxyCodeLine{289 }
\DoxyCodeLine{290         \textcolor{keywordflow}{if} (rec-\/>sibling \&\& \mbox{\hyperlink{detail_2common_8h_ac2aa5f531d7405461119b256eaf0141a}{PYBIND11\_INSTANCE\_METHOD\_CHECK}}(rec-\/>sibling.ptr()))}
\DoxyCodeLine{291             rec-\/>sibling = \mbox{\hyperlink{detail_2common_8h_a8d797ff274d1aab907997d9be7e944c1}{PYBIND11\_INSTANCE\_METHOD\_GET\_FUNCTION}}(rec-\/>sibling.ptr());}
\DoxyCodeLine{292 }
\DoxyCodeLine{293         detail::function\_record *chain = \textcolor{keyword}{nullptr}, *chain\_start = rec;}
\DoxyCodeLine{294         \textcolor{keywordflow}{if} (rec-\/>sibling) \{}
\DoxyCodeLine{295             \textcolor{keywordflow}{if} (PyCFunction\_Check(rec-\/>sibling.ptr())) \{}
\DoxyCodeLine{296                 \textcolor{keyword}{auto} rec\_capsule = reinterpret\_borrow<capsule>(PyCFunction\_GET\_SELF(rec-\/>sibling.ptr()));}
\DoxyCodeLine{297                 chain = (detail::function\_record *) rec\_capsule;}
\DoxyCodeLine{298                 \textcolor{comment}{/* Never append a method to an overload chain of a parent class;}}
\DoxyCodeLine{299 \textcolor{comment}{                   instead, hide the parent's overloads in this case */}}
\DoxyCodeLine{300                 \textcolor{keywordflow}{if} (!chain-\/>scope.is(rec-\/>scope))}
\DoxyCodeLine{301                     chain = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{302             \}}
\DoxyCodeLine{303             \textcolor{comment}{// Don't trigger for things like the default \_\_init\_\_, which are wrapper\_descriptors that we are intentionally replacing}}
\DoxyCodeLine{304             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!rec-\/>sibling.is\_none() \&\& rec-\/>name[0] != \textcolor{charliteral}{'\_'})}
\DoxyCodeLine{305                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Cannot overload existing non-\/function object \(\backslash\)"{}"{}} + std::string(rec-\/>name) +}
\DoxyCodeLine{306                         \textcolor{stringliteral}{"{}\(\backslash\)"{} with a function of the same name"{}});}
\DoxyCodeLine{307         \}}
\DoxyCodeLine{308 }
\DoxyCodeLine{309         \textcolor{keywordflow}{if} (!chain) \{}
\DoxyCodeLine{310             \textcolor{comment}{/* No existing overload was found, create a new function object */}}
\DoxyCodeLine{311             rec-\/>def = \textcolor{keyword}{new} PyMethodDef();}
\DoxyCodeLine{312             std::memset(rec-\/>def, 0, \textcolor{keyword}{sizeof}(PyMethodDef));}
\DoxyCodeLine{313             rec-\/>def-\/>ml\_name = rec-\/>name;}
\DoxyCodeLine{314             rec-\/>def-\/>ml\_meth = \textcolor{keyword}{reinterpret\_cast<}PyCFunction\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void} (*) (\textcolor{keywordtype}{void})\textcolor{keyword}{>}(*dispatcher));}
\DoxyCodeLine{315             rec-\/>def-\/>ml\_flags = METH\_VARARGS | METH\_KEYWORDS;}
\DoxyCodeLine{316 }
\DoxyCodeLine{317             \mbox{\hyperlink{classcapsule}{capsule}} rec\_capsule(rec, [](\textcolor{keywordtype}{void} *ptr) \{}
\DoxyCodeLine{318                 destruct((detail::function\_record *) ptr);}
\DoxyCodeLine{319             \});}
\DoxyCodeLine{320 }
\DoxyCodeLine{321             \textcolor{keywordtype}{object} scope\_module;}
\DoxyCodeLine{322             \textcolor{keywordflow}{if} (rec-\/>scope) \{}
\DoxyCodeLine{323                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gacc0a69f008d341c07ff939e0580c5985}{hasattr}}(rec-\/>scope, \textcolor{stringliteral}{"{}\_\_module\_\_"{}})) \{}
\DoxyCodeLine{324                     scope\_module = rec-\/>scope.attr(\textcolor{stringliteral}{"{}\_\_module\_\_"{}});}
\DoxyCodeLine{325                 \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gacc0a69f008d341c07ff939e0580c5985}{hasattr}}(rec-\/>scope, \textcolor{stringliteral}{"{}\_\_name\_\_"{}})) \{}
\DoxyCodeLine{326                     scope\_module = rec-\/>scope.attr(\textcolor{stringliteral}{"{}\_\_name\_\_"{}});}
\DoxyCodeLine{327                 \}}
\DoxyCodeLine{328             \}}
\DoxyCodeLine{329 }
\DoxyCodeLine{330             m\_ptr = PyCFunction\_NewEx(rec-\/>def, rec\_capsule.ptr(), scope\_module.ptr());}
\DoxyCodeLine{331             \textcolor{keywordflow}{if} (!m\_ptr)}
\DoxyCodeLine{332                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}cpp\_function::cpp\_function(): Could not allocate function object"{}});}
\DoxyCodeLine{333         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{334             \textcolor{comment}{/* Append at the end of the overload chain */}}
\DoxyCodeLine{335             m\_ptr = rec-\/>sibling.ptr();}
\DoxyCodeLine{336             inc\_ref();}
\DoxyCodeLine{337             chain\_start = chain;}
\DoxyCodeLine{338             \textcolor{keywordflow}{if} (chain-\/>is\_method != rec-\/>is\_method)}
\DoxyCodeLine{339                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}overloading a method with both static and instance methods is not supported; "{}}}
\DoxyCodeLine{340                     \#\textcolor{keywordflow}{if} defined(NDEBUG)}
\DoxyCodeLine{341                         \textcolor{stringliteral}{"{}compile in debug mode for more details"{}}}
\DoxyCodeLine{342                     \#\textcolor{keywordflow}{else}}
\DoxyCodeLine{343                         \textcolor{stringliteral}{"{}error while attempting to bind "{}} + std::string(rec-\/>is\_method ? \textcolor{stringliteral}{"{}instance"{}} : \textcolor{stringliteral}{"{}static"{}}) + \textcolor{stringliteral}{"{} method "{}} +}
\DoxyCodeLine{344                         std::string(pybind11::str(rec-\/>scope.attr(\textcolor{stringliteral}{"{}\_\_name\_\_"{}}))) + \textcolor{stringliteral}{"{}."{}} + std::string(rec-\/>name) + signature}
\DoxyCodeLine{345                     \#endif}
\DoxyCodeLine{346                 );}
\DoxyCodeLine{347             \textcolor{keywordflow}{while} (chain-\/>next)}
\DoxyCodeLine{348                 chain = chain-\/>next;}
\DoxyCodeLine{349             chain-\/>next = rec;}
\DoxyCodeLine{350         \}}
\DoxyCodeLine{351 }
\DoxyCodeLine{352         std::string signatures;}
\DoxyCodeLine{353         \textcolor{keywordtype}{int} index = 0;}
\DoxyCodeLine{354         \textcolor{comment}{/* Create a nice pydoc rec including all signatures and}}
\DoxyCodeLine{355 \textcolor{comment}{           docstrings of the functions in the overload chain */}}
\DoxyCodeLine{356         \textcolor{keywordflow}{if} (chain \&\& \mbox{\hyperlink{classoptions_af2fa374b06da8ecfaa06beaf3bfac1a9}{options::show\_function\_signatures}}()) \{}
\DoxyCodeLine{357             \textcolor{comment}{// First a generic signature}}
\DoxyCodeLine{358             signatures += rec-\/>name;}
\DoxyCodeLine{359             signatures += \textcolor{stringliteral}{"{}(*args, **kwargs)\(\backslash\)n"{}};}
\DoxyCodeLine{360             signatures += \textcolor{stringliteral}{"{}Overloaded function.\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{361         \}}
\DoxyCodeLine{362         \textcolor{comment}{// Then specific overload signatures}}
\DoxyCodeLine{363         \textcolor{keywordtype}{bool} first\_user\_def = \textcolor{keyword}{true};}
\DoxyCodeLine{364         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = chain\_start; it != \textcolor{keyword}{nullptr}; it = it-\/>next) \{}
\DoxyCodeLine{365             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classoptions_af2fa374b06da8ecfaa06beaf3bfac1a9}{options::show\_function\_signatures}}()) \{}
\DoxyCodeLine{366                 \textcolor{keywordflow}{if} (index > 0) signatures += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{367                 \textcolor{keywordflow}{if} (chain)}
\DoxyCodeLine{368                     signatures += std::to\_string(++index) + \textcolor{stringliteral}{"{}. "{}};}
\DoxyCodeLine{369                 signatures += rec-\/>name;}
\DoxyCodeLine{370                 signatures += it-\/>signature;}
\DoxyCodeLine{371                 signatures += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{372             \}}
\DoxyCodeLine{373             \textcolor{keywordflow}{if} (it-\/>doc \&\& strlen(it-\/>doc) > 0 \&\& \mbox{\hyperlink{classoptions_af812a48c76ad251894b1483c131c8fe8}{options::show\_user\_defined\_docstrings}}()) \{}
\DoxyCodeLine{374                 \textcolor{comment}{// If we're appending another docstring, and aren't printing function signatures, we}}
\DoxyCodeLine{375                 \textcolor{comment}{// need to append a newline first:}}
\DoxyCodeLine{376                 \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classoptions_af2fa374b06da8ecfaa06beaf3bfac1a9}{options::show\_function\_signatures}}()) \{}
\DoxyCodeLine{377                     \textcolor{keywordflow}{if} (first\_user\_def) first\_user\_def = \textcolor{keyword}{false};}
\DoxyCodeLine{378                     \textcolor{keywordflow}{else} signatures += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{379                 \}}
\DoxyCodeLine{380                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classoptions_af2fa374b06da8ecfaa06beaf3bfac1a9}{options::show\_function\_signatures}}()) signatures += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{381                 signatures += it-\/>doc;}
\DoxyCodeLine{382                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classoptions_af2fa374b06da8ecfaa06beaf3bfac1a9}{options::show\_function\_signatures}}()) signatures += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{383             \}}
\DoxyCodeLine{384         \}}
\DoxyCodeLine{385 }
\DoxyCodeLine{386         \textcolor{comment}{/* Install docstring */}}
\DoxyCodeLine{387         PyCFunctionObject *func = (PyCFunctionObject *) m\_ptr;}
\DoxyCodeLine{388         \textcolor{keywordflow}{if} (func-\/>m\_ml-\/>ml\_doc)}
\DoxyCodeLine{389             std::free(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(func-\/>m\_ml-\/>ml\_doc));}
\DoxyCodeLine{390         func-\/>m\_ml-\/>ml\_doc = strdup(signatures.c\_str());}
\DoxyCodeLine{391 }
\DoxyCodeLine{392         \textcolor{keywordflow}{if} (rec-\/>is\_method) \{}
\DoxyCodeLine{393             m\_ptr = \mbox{\hyperlink{detail_2common_8h_a05eadd9c179a396aaf7924f04d694f11}{PYBIND11\_INSTANCE\_METHOD\_NEW}}(m\_ptr, rec-\/>scope.ptr());}
\DoxyCodeLine{394             \textcolor{keywordflow}{if} (!m\_ptr)}
\DoxyCodeLine{395                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}cpp\_function::cpp\_function(): Could not allocate instance method object"{}});}
\DoxyCodeLine{396             Py\_DECREF(func);}
\DoxyCodeLine{397         \}}
\DoxyCodeLine{398     \}}
\DoxyCodeLine{399 }
\DoxyCodeLine{401     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classcpp__function_a61bdafab94b0fa0bad23c5161e7f9e59}{destruct}}(detail::function\_record *rec) \{}
\DoxyCodeLine{402         \textcolor{keywordflow}{while} (rec) \{}
\DoxyCodeLine{403             detail::function\_record *next = rec-\/>next;}
\DoxyCodeLine{404             \textcolor{keywordflow}{if} (rec-\/>free\_data)}
\DoxyCodeLine{405                 rec-\/>free\_data(rec);}
\DoxyCodeLine{406             std::free((\textcolor{keywordtype}{char} *) rec-\/>name);}
\DoxyCodeLine{407             std::free((\textcolor{keywordtype}{char} *) rec-\/>doc);}
\DoxyCodeLine{408             std::free((\textcolor{keywordtype}{char} *) rec-\/>signature);}
\DoxyCodeLine{409             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&\mbox{\hyperlink{structarg}{arg}}: rec-\/>args) \{}
\DoxyCodeLine{410                 std::free(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\mbox{\hyperlink{structarg}{arg}}.\mbox{\hyperlink{structarg_a19d6eebdcc5e2c4679c5f77760adb5dc}{name}}));}
\DoxyCodeLine{411                 std::free(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(\mbox{\hyperlink{structarg}{arg}}.descr));}
\DoxyCodeLine{412                 \mbox{\hyperlink{structarg}{arg}}.value.dec\_ref();}
\DoxyCodeLine{413             \}}
\DoxyCodeLine{414             \textcolor{keywordflow}{if} (rec-\/>def) \{}
\DoxyCodeLine{415                 std::free(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(rec-\/>def-\/>ml\_doc));}
\DoxyCodeLine{416                 \textcolor{keyword}{delete} rec-\/>def;}
\DoxyCodeLine{417             \}}
\DoxyCodeLine{418             \textcolor{keyword}{delete} rec;}
\DoxyCodeLine{419             rec = next;}
\DoxyCodeLine{420         \}}
\DoxyCodeLine{421     \}}
\DoxyCodeLine{422 }
\DoxyCodeLine{424     \textcolor{keyword}{static} PyObject *\mbox{\hyperlink{classcpp__function_a163f9490577dfa9822978b60bf8938b6}{dispatcher}}(PyObject *\mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}}, PyObject *args\_in, PyObject *kwargs\_in) \{}
\DoxyCodeLine{425         \textcolor{keyword}{using namespace }detail;}
\DoxyCodeLine{426 }
\DoxyCodeLine{427         \textcolor{comment}{/* Iterator over the list of potentially admissible overloads */}}
\DoxyCodeLine{428         \textcolor{keyword}{const} \mbox{\hyperlink{structfunction__record}{function\_record}} *overloads = (\mbox{\hyperlink{structfunction__record}{function\_record}} *) PyCapsule\_GetPointer(\mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}}, \textcolor{keyword}{nullptr}),}
\DoxyCodeLine{429                               *it = overloads;}
\DoxyCodeLine{430 }
\DoxyCodeLine{431         \textcolor{comment}{/* Need to know how many arguments + keyword arguments there are to pick the right overload */}}
\DoxyCodeLine{432         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} n\_args\_in = (\mbox{\hyperlink{detail_2common_8h_a801d6a451a01953ef8cbae6feb6a3638}{size\_t}}) PyTuple\_GET\_SIZE(args\_in);}
\DoxyCodeLine{433 }
\DoxyCodeLine{434         \mbox{\hyperlink{classhandle}{handle}} parent = n\_args\_in > 0 ? PyTuple\_GET\_ITEM(args\_in, 0) : \textcolor{keyword}{nullptr},}
\DoxyCodeLine{435                result = \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}};}
\DoxyCodeLine{436 }
\DoxyCodeLine{437         \textcolor{keyword}{auto} self\_value\_and\_holder = \mbox{\hyperlink{structvalue__and__holder}{value\_and\_holder}}();}
\DoxyCodeLine{438         \textcolor{keywordflow}{if} (overloads-\/>\mbox{\hyperlink{structfunction__record_aa014e3469d353ed93ffb67d626879a29}{is\_constructor}}) \{}
\DoxyCodeLine{439             \textcolor{keyword}{const} \textcolor{keyword}{auto} tinfo = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{get\_type\_info}}((PyTypeObject *) overloads-\/>\mbox{\hyperlink{structfunction__record_ad4112e6eb003c64f181968b2759a08af}{scope}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}());}
\DoxyCodeLine{440             \textcolor{keyword}{const} \textcolor{keyword}{auto} pi = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{structinstance}{instance}} *\textcolor{keyword}{>}(parent.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}());}
\DoxyCodeLine{441             self\_value\_and\_holder = pi-\/>\mbox{\hyperlink{structinstance_a33fb0acd9a08898baf6dfefc54477821}{get\_value\_and\_holder}}(tinfo, \textcolor{keyword}{false});}
\DoxyCodeLine{442 }
\DoxyCodeLine{443             \textcolor{keywordflow}{if} (!self\_value\_and\_holder.type || !self\_value\_and\_holder.inst) \{}
\DoxyCodeLine{444                 PyErr\_SetString(PyExc\_TypeError, \textcolor{stringliteral}{"{}\_\_init\_\_(self, ...) called with invalid `self` argument"{}});}
\DoxyCodeLine{445                 \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{446             \}}
\DoxyCodeLine{447 }
\DoxyCodeLine{448             \textcolor{comment}{// If this value is already registered it must mean \_\_init\_\_ is invoked multiple times;}}
\DoxyCodeLine{449             \textcolor{comment}{// we really can't support that in C++, so just ignore the second \_\_init\_\_.}}
\DoxyCodeLine{450             \textcolor{keywordflow}{if} (self\_value\_and\_holder.instance\_registered())}
\DoxyCodeLine{451                 \textcolor{keywordflow}{return} \mbox{\hyperlink{classnone}{none}}().\mbox{\hyperlink{classobject_a4ce66b1d44b37ae6b28e80228b075aae}{release}}().\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}();}
\DoxyCodeLine{452         \}}
\DoxyCodeLine{453 }
\DoxyCodeLine{454         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{455             \textcolor{comment}{// We do this in two passes: in the first pass, we load arguments with `convert=false`;}}
\DoxyCodeLine{456             \textcolor{comment}{// in the second, we allow conversion (except for arguments with an explicit}}
\DoxyCodeLine{457             \textcolor{comment}{// py::arg().noconvert()).  This lets us prefer calls without conversion, with}}
\DoxyCodeLine{458             \textcolor{comment}{// conversion as a fallback.}}
\DoxyCodeLine{459             std::vector<function\_call> second\_pass;}
\DoxyCodeLine{460 }
\DoxyCodeLine{461             \textcolor{comment}{// However, if there are no overloads, we can just skip the no-\/convert pass entirely}}
\DoxyCodeLine{462             \textcolor{keyword}{const} \textcolor{keywordtype}{bool} overloaded = it != \textcolor{keyword}{nullptr} \&\& it-\/>next != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{463 }
\DoxyCodeLine{464             \textcolor{keywordflow}{for} (; it != \textcolor{keyword}{nullptr}; it = it-\/>next) \{}
\DoxyCodeLine{465 }
\DoxyCodeLine{466                 \textcolor{comment}{/* For each overload:}}
\DoxyCodeLine{467 \textcolor{comment}{                   1. Copy all positional arguments we were given, also checking to make sure that}}
\DoxyCodeLine{468 \textcolor{comment}{                      named positional arguments weren't *also* specified via kwarg.}}
\DoxyCodeLine{469 \textcolor{comment}{                   2. If we weren't given enough, try to make up the omitted ones by checking}}
\DoxyCodeLine{470 \textcolor{comment}{                      whether they were provided by a kwarg matching the `py::arg("{}name"{})` name.  If}}
\DoxyCodeLine{471 \textcolor{comment}{                      so, use it (and remove it from kwargs; if not, see if the function binding}}
\DoxyCodeLine{472 \textcolor{comment}{                      provided a default that we can use.}}
\DoxyCodeLine{473 \textcolor{comment}{                   3. Ensure that either all keyword arguments were "{}consumed"{}, or that the function}}
\DoxyCodeLine{474 \textcolor{comment}{                      takes a kwargs argument to accept unconsumed kwargs.}}
\DoxyCodeLine{475 \textcolor{comment}{                   4. Any positional arguments still left get put into a tuple (for args), and any}}
\DoxyCodeLine{476 \textcolor{comment}{                      leftover kwargs get put into a dict.}}
\DoxyCodeLine{477 \textcolor{comment}{                   5. Pack everything into a vector; if we have py::args or py::kwargs, they are an}}
\DoxyCodeLine{478 \textcolor{comment}{                      extra tuple or dict at the end of the positional arguments.}}
\DoxyCodeLine{479 \textcolor{comment}{                   6. Call the function call dispatcher (function\_record::impl)}}
\DoxyCodeLine{480 \textcolor{comment}{}}
\DoxyCodeLine{481 \textcolor{comment}{                   If one of these fail, move on to the next overload and keep trying until we get a}}
\DoxyCodeLine{482 \textcolor{comment}{                   result other than PYBIND11\_TRY\_NEXT\_OVERLOAD.}}
\DoxyCodeLine{483 \textcolor{comment}{                 */}}
\DoxyCodeLine{484 }
\DoxyCodeLine{485                 \textcolor{keyword}{const} \mbox{\hyperlink{structfunction__record}{function\_record}} \&func = *it;}
\DoxyCodeLine{486                 \textcolor{keywordtype}{size\_t} pos\_args = func.\mbox{\hyperlink{structfunction__record_a8082876641e039386647a6b6b5118d41}{nargs}};    \textcolor{comment}{// Number of positional arguments that we need}}
\DoxyCodeLine{487                 \textcolor{keywordflow}{if} (func.\mbox{\hyperlink{structfunction__record_af05b5fc3d6d3b5bcec45bbd1c3e75f15}{has\_args}}) -\/-\/pos\_args;   \textcolor{comment}{// (but don't count py::args}}
\DoxyCodeLine{488                 \textcolor{keywordflow}{if} (func.\mbox{\hyperlink{structfunction__record_af72350bd8c047108e403ff873c0a1f7d}{has\_kwargs}}) -\/-\/pos\_args; \textcolor{comment}{//  or py::kwargs)}}
\DoxyCodeLine{489 }
\DoxyCodeLine{490                 \textcolor{keywordflow}{if} (!func.\mbox{\hyperlink{structfunction__record_af05b5fc3d6d3b5bcec45bbd1c3e75f15}{has\_args}} \&\& n\_args\_in > pos\_args)}
\DoxyCodeLine{491                     \textcolor{keywordflow}{continue}; \textcolor{comment}{// Too many arguments for this overload}}
\DoxyCodeLine{492 }
\DoxyCodeLine{493                 \textcolor{keywordflow}{if} (n\_args\_in < pos\_args \&\& func.\mbox{\hyperlink{structfunction__record_abc060d33223e10553cb15c879e326ef5}{args}}.size() < pos\_args)}
\DoxyCodeLine{494                     \textcolor{keywordflow}{continue}; \textcolor{comment}{// Not enough arguments given, and not enough defaults to fill in the blanks}}
\DoxyCodeLine{495 }
\DoxyCodeLine{496                 \mbox{\hyperlink{structfunction__call}{function\_call}} call(func, parent);}
\DoxyCodeLine{497 }
\DoxyCodeLine{498                 \textcolor{keywordtype}{size\_t} args\_to\_copy = (\mbox{\hyperlink{ldes_2fhog_8cpp_ac6afabdc09a49a433ee19d8a9486056d}{std::min}})(pos\_args, n\_args\_in); \textcolor{comment}{// Protect std::min with parentheses}}
\DoxyCodeLine{499                 \textcolor{keywordtype}{size\_t} args\_copied = 0;}
\DoxyCodeLine{500 }
\DoxyCodeLine{501                 \textcolor{comment}{// 0. Inject new-\/style `self` argument}}
\DoxyCodeLine{502                 \textcolor{keywordflow}{if} (func.\mbox{\hyperlink{structfunction__record_a2a002c9d435634209613d4be9f3d5d7c}{is\_new\_style\_constructor}}) \{}
\DoxyCodeLine{503                     \textcolor{comment}{// The `value` may have been preallocated by an old-\/style `\_\_init\_\_`}}
\DoxyCodeLine{504                     \textcolor{comment}{// if it was a preceding candidate for overload resolution.}}
\DoxyCodeLine{505                     \textcolor{keywordflow}{if} (self\_value\_and\_holder)}
\DoxyCodeLine{506                         self\_value\_and\_holder.type-\/>dealloc(self\_value\_and\_holder);}
\DoxyCodeLine{507 }
\DoxyCodeLine{508                     call.\mbox{\hyperlink{structfunction__call_a8f9e4659cf3ca4be507d2220420b9c00}{init\_self}} = PyTuple\_GET\_ITEM(args\_in, 0);}
\DoxyCodeLine{509                     call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.push\_back(\textcolor{keyword}{reinterpret\_cast<}PyObject *\textcolor{keyword}{>}(\&self\_value\_and\_holder));}
\DoxyCodeLine{510                     call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.push\_back(\textcolor{keyword}{false});}
\DoxyCodeLine{511                     ++args\_copied;}
\DoxyCodeLine{512                 \}}
\DoxyCodeLine{513 }
\DoxyCodeLine{514                 \textcolor{comment}{// 1. Copy any position arguments given.}}
\DoxyCodeLine{515                 \textcolor{keywordtype}{bool} bad\_arg = \textcolor{keyword}{false};}
\DoxyCodeLine{516                 \textcolor{keywordflow}{for} (; args\_copied < args\_to\_copy; ++args\_copied) \{}
\DoxyCodeLine{517                     \textcolor{keyword}{const} \mbox{\hyperlink{structargument__record}{argument\_record}} *arg\_rec = args\_copied < func.\mbox{\hyperlink{structfunction__record_abc060d33223e10553cb15c879e326ef5}{args}}.size() ? \&func.\mbox{\hyperlink{structfunction__record_abc060d33223e10553cb15c879e326ef5}{args}}[args\_copied] : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{518                     \textcolor{keywordflow}{if} (kwargs\_in \&\& arg\_rec \&\& arg\_rec-\/>\mbox{\hyperlink{structargument__record_ac9bb5bf320b8eb1de1ef5f9dcc808269}{name}} \&\& PyDict\_GetItemString(kwargs\_in, arg\_rec-\/>\mbox{\hyperlink{structargument__record_ac9bb5bf320b8eb1de1ef5f9dcc808269}{name}})) \{}
\DoxyCodeLine{519                         bad\_arg = \textcolor{keyword}{true};}
\DoxyCodeLine{520                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{521                     \}}
\DoxyCodeLine{522 }
\DoxyCodeLine{523                     \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structarg}{arg}}(PyTuple\_GET\_ITEM(args\_in, args\_copied));}
\DoxyCodeLine{524                     \textcolor{keywordflow}{if} (arg\_rec \&\& !arg\_rec-\/>\mbox{\hyperlink{structargument__record_a62c9d868218688cd4abde4634646848c}{none}} \&\& \mbox{\hyperlink{structarg}{arg}}.is\_none()) \{}
\DoxyCodeLine{525                         bad\_arg = \textcolor{keyword}{true};}
\DoxyCodeLine{526                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{527                     \}}
\DoxyCodeLine{528                     call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.push\_back(\mbox{\hyperlink{structarg}{arg}});}
\DoxyCodeLine{529                     call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.push\_back(arg\_rec ? arg\_rec-\/>\mbox{\hyperlink{structargument__record_ab885e9c26fb95309b6f3f03410f36d30}{convert}} : \textcolor{keyword}{true});}
\DoxyCodeLine{530                 \}}
\DoxyCodeLine{531                 \textcolor{keywordflow}{if} (bad\_arg)}
\DoxyCodeLine{532                     \textcolor{keywordflow}{continue}; \textcolor{comment}{// Maybe it was meant for another overload (issue \#688)}}
\DoxyCodeLine{533 }
\DoxyCodeLine{534                 \textcolor{comment}{// We'll need to copy this if we steal some kwargs for defaults}}
\DoxyCodeLine{535                 \mbox{\hyperlink{classdict}{dict}} \mbox{\hyperlink{classkwargs}{kwargs}} = reinterpret\_borrow<dict>(kwargs\_in);}
\DoxyCodeLine{536 }
\DoxyCodeLine{537                 \textcolor{comment}{// 2. Check kwargs and, failing that, defaults that may help complete the list}}
\DoxyCodeLine{538                 \textcolor{keywordflow}{if} (args\_copied < pos\_args) \{}
\DoxyCodeLine{539                     \textcolor{keywordtype}{bool} copied\_kwargs = \textcolor{keyword}{false};}
\DoxyCodeLine{540 }
\DoxyCodeLine{541                     \textcolor{keywordflow}{for} (; args\_copied < pos\_args; ++args\_copied) \{}
\DoxyCodeLine{542                         \textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{structarg}{arg}} = func.\mbox{\hyperlink{structfunction__record_abc060d33223e10553cb15c879e326ef5}{args}}[args\_copied];}
\DoxyCodeLine{543 }
\DoxyCodeLine{544                         \mbox{\hyperlink{classhandle}{handle}} value;}
\DoxyCodeLine{545                         \textcolor{keywordflow}{if} (kwargs\_in \&\& \mbox{\hyperlink{structarg}{arg}}.\mbox{\hyperlink{structarg_a19d6eebdcc5e2c4679c5f77760adb5dc}{name}})}
\DoxyCodeLine{546                             value = PyDict\_GetItemString(\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), \mbox{\hyperlink{structarg}{arg}}.\mbox{\hyperlink{structarg_a19d6eebdcc5e2c4679c5f77760adb5dc}{name}});}
\DoxyCodeLine{547 }
\DoxyCodeLine{548                         \textcolor{keywordflow}{if} (value) \{}
\DoxyCodeLine{549                             \textcolor{comment}{// Consume a kwargs value}}
\DoxyCodeLine{550                             \textcolor{keywordflow}{if} (!copied\_kwargs) \{}
\DoxyCodeLine{551                                 \mbox{\hyperlink{classkwargs}{kwargs}} = reinterpret\_steal<dict>(PyDict\_Copy(\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}()));}
\DoxyCodeLine{552                                 copied\_kwargs = \textcolor{keyword}{true};}
\DoxyCodeLine{553                             \}}
\DoxyCodeLine{554                             PyDict\_DelItemString(\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), \mbox{\hyperlink{structarg}{arg}}.\mbox{\hyperlink{structarg_a19d6eebdcc5e2c4679c5f77760adb5dc}{name}});}
\DoxyCodeLine{555                         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{structarg}{arg}}.value) \{}
\DoxyCodeLine{556                             value = \mbox{\hyperlink{structarg}{arg}}.value;}
\DoxyCodeLine{557                         \}}
\DoxyCodeLine{558 }
\DoxyCodeLine{559                         \textcolor{keywordflow}{if} (value) \{}
\DoxyCodeLine{560                             call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.push\_back(value);}
\DoxyCodeLine{561                             call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.push\_back(\mbox{\hyperlink{structarg}{arg}}.convert);}
\DoxyCodeLine{562                         \}}
\DoxyCodeLine{563                         \textcolor{keywordflow}{else}}
\DoxyCodeLine{564                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{565                     \}}
\DoxyCodeLine{566 }
\DoxyCodeLine{567                     \textcolor{keywordflow}{if} (args\_copied < pos\_args)}
\DoxyCodeLine{568                         \textcolor{keywordflow}{continue}; \textcolor{comment}{// Not enough arguments, defaults, or kwargs to fill the positional arguments}}
\DoxyCodeLine{569                 \}}
\DoxyCodeLine{570 }
\DoxyCodeLine{571                 \textcolor{comment}{// 3. Check everything was consumed (unless we have a kwargs arg)}}
\DoxyCodeLine{572                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classkwargs}{kwargs}} \&\& \mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classdict_a9be291f1c7d50a4ea786626593b8bee3}{size}}() > 0 \&\& !func.\mbox{\hyperlink{structfunction__record_af72350bd8c047108e403ff873c0a1f7d}{has\_kwargs}})}
\DoxyCodeLine{573                     \textcolor{keywordflow}{continue}; \textcolor{comment}{// Unconsumed kwargs, but no py::kwargs argument to accept them}}
\DoxyCodeLine{574 }
\DoxyCodeLine{575                 \textcolor{comment}{// 4a. If we have a py::args argument, create a new tuple with leftovers}}
\DoxyCodeLine{576                 \textcolor{keywordflow}{if} (func.\mbox{\hyperlink{structfunction__record_af05b5fc3d6d3b5bcec45bbd1c3e75f15}{has\_args}}) \{}
\DoxyCodeLine{577                     \mbox{\hyperlink{classtuple}{tuple}} extra\_args;}
\DoxyCodeLine{578                     \textcolor{keywordflow}{if} (args\_to\_copy == 0) \{}
\DoxyCodeLine{579                         \textcolor{comment}{// We didn't copy out any position arguments from the args\_in tuple, so we}}
\DoxyCodeLine{580                         \textcolor{comment}{// can reuse it directly without copying:}}
\DoxyCodeLine{581                         extra\_args = reinterpret\_borrow<tuple>(args\_in);}
\DoxyCodeLine{582                     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (args\_copied >= n\_args\_in) \{}
\DoxyCodeLine{583                         extra\_args = \mbox{\hyperlink{classtuple}{tuple}}(0);}
\DoxyCodeLine{584                     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{585                         \textcolor{keywordtype}{size\_t} args\_size = n\_args\_in -\/ args\_copied;}
\DoxyCodeLine{586                         extra\_args = \mbox{\hyperlink{classtuple}{tuple}}(args\_size);}
\DoxyCodeLine{587                         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < args\_size; ++i) \{}
\DoxyCodeLine{588                             extra\_args[i] = PyTuple\_GET\_ITEM(args\_in, args\_copied + i);}
\DoxyCodeLine{589                         \}}
\DoxyCodeLine{590                     \}}
\DoxyCodeLine{591                     call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.push\_back(extra\_args);}
\DoxyCodeLine{592                     call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.push\_back(\textcolor{keyword}{false});}
\DoxyCodeLine{593                     call.\mbox{\hyperlink{structfunction__call_a13ff878b84d1c7a41c0f28c62db36925}{args\_ref}} = std::move(extra\_args);}
\DoxyCodeLine{594                 \}}
\DoxyCodeLine{595 }
\DoxyCodeLine{596                 \textcolor{comment}{// 4b. If we have a py::kwargs, pass on any remaining kwargs}}
\DoxyCodeLine{597                 \textcolor{keywordflow}{if} (func.\mbox{\hyperlink{structfunction__record_af72350bd8c047108e403ff873c0a1f7d}{has\_kwargs}}) \{}
\DoxyCodeLine{598                     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}())}
\DoxyCodeLine{599                         \mbox{\hyperlink{classkwargs}{kwargs}} = \mbox{\hyperlink{classdict}{dict}}(); \textcolor{comment}{// If we didn't get one, send an empty one}}
\DoxyCodeLine{600                     call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.push\_back(\mbox{\hyperlink{classkwargs}{kwargs}});}
\DoxyCodeLine{601                     call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.push\_back(\textcolor{keyword}{false});}
\DoxyCodeLine{602                     call.\mbox{\hyperlink{structfunction__call_a1ae7a6c18887e3c791b6cb16b2cc98c0}{kwargs\_ref}} = std::move(\mbox{\hyperlink{classkwargs}{kwargs}});}
\DoxyCodeLine{603                 \}}
\DoxyCodeLine{604 }
\DoxyCodeLine{605                 \textcolor{comment}{// 5. Put everything in a vector.  Not technically step 5, we've been building it}}
\DoxyCodeLine{606                 \textcolor{comment}{// in `call.args` all along.}}
\DoxyCodeLine{607 \textcolor{preprocessor}{                \#if !defined(NDEBUG)}}
\DoxyCodeLine{608                 \textcolor{keywordflow}{if} (call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.size() != func.\mbox{\hyperlink{structfunction__record_a8082876641e039386647a6b6b5118d41}{nargs}} || call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.size() != func.\mbox{\hyperlink{structfunction__record_a8082876641e039386647a6b6b5118d41}{nargs}})}
\DoxyCodeLine{609                     \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Internal error: function call dispatcher inserted wrong number of arguments!"{}});}
\DoxyCodeLine{610 \textcolor{preprocessor}{                \#endif}}
\DoxyCodeLine{611 }
\DoxyCodeLine{612                 std::vector<bool> second\_pass\_convert;}
\DoxyCodeLine{613                 \textcolor{keywordflow}{if} (overloaded) \{}
\DoxyCodeLine{614                     \textcolor{comment}{// We're in the first no-\/convert pass, so swap out the conversion flags for a}}
\DoxyCodeLine{615                     \textcolor{comment}{// set of all-\/false flags.  If the call fails, we'll swap the flags back in for}}
\DoxyCodeLine{616                     \textcolor{comment}{// the conversion-\/allowed call below.}}
\DoxyCodeLine{617                     second\_pass\_convert.resize(func.\mbox{\hyperlink{structfunction__record_a8082876641e039386647a6b6b5118d41}{nargs}}, \textcolor{keyword}{false});}
\DoxyCodeLine{618                     call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.swap(second\_pass\_convert);}
\DoxyCodeLine{619                 \}}
\DoxyCodeLine{620 }
\DoxyCodeLine{621                 \textcolor{comment}{// 6. Call the function.}}
\DoxyCodeLine{622                 \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{623                     \mbox{\hyperlink{classloader__life__support}{loader\_life\_support}} guard\{\};}
\DoxyCodeLine{624                     result = func.\mbox{\hyperlink{structfunction__record_a0e6a4fd6fef173a1958f8c14c6610ac9}{impl}}(call);}
\DoxyCodeLine{625                 \} \textcolor{keywordflow}{catch} (reference\_cast\_error \&) \{}
\DoxyCodeLine{626                     result = \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}};}
\DoxyCodeLine{627                 \}}
\DoxyCodeLine{628 }
\DoxyCodeLine{629                 \textcolor{keywordflow}{if} (result.ptr() != \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}})}
\DoxyCodeLine{630                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{631 }
\DoxyCodeLine{632                 \textcolor{keywordflow}{if} (overloaded) \{}
\DoxyCodeLine{633                     \textcolor{comment}{// The (overloaded) call failed; if the call has at least one argument that}}
\DoxyCodeLine{634                     \textcolor{comment}{// permits conversion (i.e. it hasn't been explicitly specified `.noconvert()`)}}
\DoxyCodeLine{635                     \textcolor{comment}{// then add this call to the list of second pass overloads to try.}}
\DoxyCodeLine{636                     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = func.\mbox{\hyperlink{structfunction__record_aaad664f057b3151927053a855ec3aea0}{is\_method}} ? 1 : 0; i < pos\_args; i++) \{}
\DoxyCodeLine{637                         \textcolor{keywordflow}{if} (second\_pass\_convert[i]) \{}
\DoxyCodeLine{638                             \textcolor{comment}{// Found one: swap the converting flags back in and store the call for}}
\DoxyCodeLine{639                             \textcolor{comment}{// the second pass.}}
\DoxyCodeLine{640                             call.\mbox{\hyperlink{structfunction__call_aef756a1f9206af0d2e3fdb684b2d6b5f}{args\_convert}}.swap(second\_pass\_convert);}
\DoxyCodeLine{641                             second\_pass.push\_back(std::move(call));}
\DoxyCodeLine{642                             \textcolor{keywordflow}{break};}
\DoxyCodeLine{643                         \}}
\DoxyCodeLine{644                     \}}
\DoxyCodeLine{645                 \}}
\DoxyCodeLine{646             \}}
\DoxyCodeLine{647 }
\DoxyCodeLine{648             \textcolor{keywordflow}{if} (overloaded \&\& !second\_pass.empty() \&\& result.ptr() == \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}}) \{}
\DoxyCodeLine{649                 \textcolor{comment}{// The no-\/conversion pass finished without success, try again with conversion allowed}}
\DoxyCodeLine{650                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&call : second\_pass) \{}
\DoxyCodeLine{651                     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{652                         \mbox{\hyperlink{classloader__life__support}{loader\_life\_support}} guard\{\};}
\DoxyCodeLine{653                         result = call.func.impl(call);}
\DoxyCodeLine{654                     \} \textcolor{keywordflow}{catch} (reference\_cast\_error \&) \{}
\DoxyCodeLine{655                         result = \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}};}
\DoxyCodeLine{656                     \}}
\DoxyCodeLine{657 }
\DoxyCodeLine{658                     \textcolor{keywordflow}{if} (result.ptr() != \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}}) \{}
\DoxyCodeLine{659                         \textcolor{comment}{// The error reporting logic below expects 'it' to be valid, as it would be}}
\DoxyCodeLine{660                         \textcolor{comment}{// if we'd encountered this failure in the first-\/pass loop.}}
\DoxyCodeLine{661                         \textcolor{keywordflow}{if} (!result)}
\DoxyCodeLine{662                             it = \&call.func;}
\DoxyCodeLine{663                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{664                     \}}
\DoxyCodeLine{665                 \}}
\DoxyCodeLine{666             \}}
\DoxyCodeLine{667         \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{classerror__already__set}{error\_already\_set}} \&e) \{}
\DoxyCodeLine{668             e.\mbox{\hyperlink{classerror__already__set_a751b231e5c796447d867cf30007a7fc0}{restore}}();}
\DoxyCodeLine{669             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{670 \textcolor{preprocessor}{\#if defined(\_\_GNUG\_\_) \&\& !defined(\_\_clang\_\_)}}
\DoxyCodeLine{671         \} \textcolor{keywordflow}{catch} ( abi::\_\_forced\_unwind\& ) \{}
\DoxyCodeLine{672             \textcolor{keywordflow}{throw};}
\DoxyCodeLine{673 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{674         \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{675             \textcolor{comment}{/* When an exception is caught, give each registered exception}}
\DoxyCodeLine{676 \textcolor{comment}{               translator a chance to translate it to a Python exception}}
\DoxyCodeLine{677 \textcolor{comment}{               in reverse order of registration.}}
\DoxyCodeLine{678 \textcolor{comment}{}}
\DoxyCodeLine{679 \textcolor{comment}{               A translator may choose to do one of the following:}}
\DoxyCodeLine{680 \textcolor{comment}{}}
\DoxyCodeLine{681 \textcolor{comment}{                -\/ catch the exception and call PyErr\_SetString or PyErr\_SetObject}}
\DoxyCodeLine{682 \textcolor{comment}{                  to set a standard (or custom) Python exception, or}}
\DoxyCodeLine{683 \textcolor{comment}{                -\/ do nothing and let the exception fall through to the next translator, or}}
\DoxyCodeLine{684 \textcolor{comment}{                -\/ delegate translation to the next translator by throwing a new type of exception. */}}
\DoxyCodeLine{685 }
\DoxyCodeLine{686             \textcolor{keyword}{auto} last\_exception = std::current\_exception();}
\DoxyCodeLine{687             \textcolor{keyword}{auto} \&registered\_exception\_translators = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().\mbox{\hyperlink{structinternals_a77114b8520f529d44be95aa700a7cd29}{registered\_exception\_translators}};}
\DoxyCodeLine{688             \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& translator : registered\_exception\_translators) \{}
\DoxyCodeLine{689                 \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{690                     translator(last\_exception);}
\DoxyCodeLine{691                 \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{692                     last\_exception = std::current\_exception();}
\DoxyCodeLine{693                     \textcolor{keywordflow}{continue};}
\DoxyCodeLine{694                 \}}
\DoxyCodeLine{695                 \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{696             \}}
\DoxyCodeLine{697             PyErr\_SetString(PyExc\_SystemError, \textcolor{stringliteral}{"{}Exception escaped from default exception translator!"{}});}
\DoxyCodeLine{698             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{699         \}}
\DoxyCodeLine{700 }
\DoxyCodeLine{701         \textcolor{keyword}{auto} append\_note\_if\_missing\_header\_is\_suspected = [](std::string \&msg) \{}
\DoxyCodeLine{702             \textcolor{keywordflow}{if} (msg.find(\textcolor{stringliteral}{"{}std::"{}}) != std::string::npos) \{}
\DoxyCodeLine{703                 msg += \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}}}
\DoxyCodeLine{704                        \textcolor{stringliteral}{"{}Did you forget to `\#include <pybind11/stl.h>`? Or <pybind11/complex.h>,\(\backslash\)n"{}}}
\DoxyCodeLine{705                        \textcolor{stringliteral}{"{}<pybind11/functional.h>, <pybind11/chrono.h>, etc. Some automatic\(\backslash\)n"{}}}
\DoxyCodeLine{706                        \textcolor{stringliteral}{"{}conversions are optional and require extra headers to be included\(\backslash\)n"{}}}
\DoxyCodeLine{707                        \textcolor{stringliteral}{"{}when compiling your pybind11 module."{}};}
\DoxyCodeLine{708             \}}
\DoxyCodeLine{709         \};}
\DoxyCodeLine{710 }
\DoxyCodeLine{711         \textcolor{keywordflow}{if} (result.ptr() == \mbox{\hyperlink{detail_2common_8h_a9ef9b3cf8c17303988038a07390b6f8d}{PYBIND11\_TRY\_NEXT\_OVERLOAD}}) \{}
\DoxyCodeLine{712             \textcolor{keywordflow}{if} (overloads-\/>\mbox{\hyperlink{structfunction__record_ab57608549c3d2c71771feda7808a2595}{is\_operator}})}
\DoxyCodeLine{713                 \textcolor{keywordflow}{return} \mbox{\hyperlink{classhandle}{handle}}(Py\_NotImplemented).\mbox{\hyperlink{classhandle_a1a13c72238d8df4d42c1656e446fbfcb}{inc\_ref}}().\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}();}
\DoxyCodeLine{714 }
\DoxyCodeLine{715             std::string msg = std::string(overloads-\/>\mbox{\hyperlink{structfunction__record_a55d760eb0046c3beec8a20d94ed1d07c}{name}}) + \textcolor{stringliteral}{"{}(): incompatible "{}} +}
\DoxyCodeLine{716                 std::string(overloads-\/>\mbox{\hyperlink{structfunction__record_aa014e3469d353ed93ffb67d626879a29}{is\_constructor}} ? \textcolor{stringliteral}{"{}constructor"{}} : \textcolor{stringliteral}{"{}function"{}}) +}
\DoxyCodeLine{717                 \textcolor{stringliteral}{"{} arguments. The following argument types are supported:\(\backslash\)n"{}};}
\DoxyCodeLine{718 }
\DoxyCodeLine{719             \textcolor{keywordtype}{int} ctr = 0;}
\DoxyCodeLine{720             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structfunction__record}{function\_record}} *it2 = overloads; it2 != \textcolor{keyword}{nullptr}; it2 = it2-\/>\mbox{\hyperlink{structfunction__record_a141b30999d54286b04d06ad6180dbf99}{next}}) \{}
\DoxyCodeLine{721                 msg += \textcolor{stringliteral}{"{}    "{}}+ std::to\_string(++ctr) + \textcolor{stringliteral}{"{}. "{}};}
\DoxyCodeLine{722 }
\DoxyCodeLine{723                 \textcolor{keywordtype}{bool} wrote\_sig = \textcolor{keyword}{false};}
\DoxyCodeLine{724                 \textcolor{keywordflow}{if} (overloads-\/>\mbox{\hyperlink{structfunction__record_aa014e3469d353ed93ffb67d626879a29}{is\_constructor}}) \{}
\DoxyCodeLine{725                     \textcolor{comment}{// For a constructor, rewrite `(self: Object, arg0, ...) -\/> NoneType` as `Object(arg0, ...)`}}
\DoxyCodeLine{726                     std::string sig = it2-\/>signature;}
\DoxyCodeLine{727                     \textcolor{keywordtype}{size\_t} start = sig.find(\textcolor{charliteral}{'('}) + 7; \textcolor{comment}{// skip "{}(self: "{}}}
\DoxyCodeLine{728                     \textcolor{keywordflow}{if} (start < sig.size()) \{}
\DoxyCodeLine{729                         \textcolor{comment}{// End at the , for the next argument}}
\DoxyCodeLine{730                         \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} = sig.find(\textcolor{stringliteral}{"{}, "{}}), next = \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} + 2;}
\DoxyCodeLine{731                         \textcolor{keywordtype}{size\_t} ret = sig.rfind(\textcolor{stringliteral}{"{} -\/> "{}});}
\DoxyCodeLine{732                         \textcolor{comment}{// Or the ), if there is no comma:}}
\DoxyCodeLine{733                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} >= sig.size()) next = \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} = sig.find(\textcolor{charliteral}{')'});}
\DoxyCodeLine{734                         \textcolor{keywordflow}{if} (start < \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} \&\& next < sig.size()) \{}
\DoxyCodeLine{735                             msg.append(sig, start, \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{end}} -\/ start);}
\DoxyCodeLine{736                             msg += \textcolor{charliteral}{'('};}
\DoxyCodeLine{737                             msg.append(sig, next, ret -\/ next);}
\DoxyCodeLine{738                             wrote\_sig = \textcolor{keyword}{true};}
\DoxyCodeLine{739                         \}}
\DoxyCodeLine{740                     \}}
\DoxyCodeLine{741                 \}}
\DoxyCodeLine{742                 \textcolor{keywordflow}{if} (!wrote\_sig) msg += it2-\/>signature;}
\DoxyCodeLine{743 }
\DoxyCodeLine{744                 msg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{745             \}}
\DoxyCodeLine{746             msg += \textcolor{stringliteral}{"{}\(\backslash\)nInvoked with: "{}};}
\DoxyCodeLine{747             \textcolor{keyword}{auto} args\_ = reinterpret\_borrow<tuple>(args\_in);}
\DoxyCodeLine{748             \textcolor{keywordtype}{bool} some\_args = \textcolor{keyword}{false};}
\DoxyCodeLine{749             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} ti = overloads-\/>\mbox{\hyperlink{structfunction__record_aa014e3469d353ed93ffb67d626879a29}{is\_constructor}} ? 1 : 0; ti < args\_.size(); ++ti) \{}
\DoxyCodeLine{750                 \textcolor{keywordflow}{if} (!some\_args) some\_args = \textcolor{keyword}{true};}
\DoxyCodeLine{751                 \textcolor{keywordflow}{else} msg += \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{752                 msg += \mbox{\hyperlink{group__python__builtins_ga7118ad0f420ebd4a3aa3debbc834e7d7}{pybind11::repr}}(args\_[ti]);}
\DoxyCodeLine{753             \}}
\DoxyCodeLine{754             \textcolor{keywordflow}{if} (kwargs\_in) \{}
\DoxyCodeLine{755                 \textcolor{keyword}{auto} \mbox{\hyperlink{classkwargs}{kwargs}} = reinterpret\_borrow<dict>(kwargs\_in);}
\DoxyCodeLine{756                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classdict_a9be291f1c7d50a4ea786626593b8bee3}{size}}() > 0) \{}
\DoxyCodeLine{757                     \textcolor{keywordflow}{if} (some\_args) msg += \textcolor{stringliteral}{"{}; "{}};}
\DoxyCodeLine{758                     msg += \textcolor{stringliteral}{"{}kwargs: "{}};}
\DoxyCodeLine{759                     \textcolor{keywordtype}{bool} \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}} = \textcolor{keyword}{true};}
\DoxyCodeLine{760                     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kwarg : \mbox{\hyperlink{classkwargs}{kwargs}}) \{}
\DoxyCodeLine{761                         \textcolor{keywordflow}{if} (\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}) \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}} = \textcolor{keyword}{false};}
\DoxyCodeLine{762                         \textcolor{keywordflow}{else} msg += \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{763                         msg += pybind11::str(\textcolor{stringliteral}{"{}\{\}=\{!r\}"{}}).format(kwarg.first, kwarg.second);}
\DoxyCodeLine{764                     \}}
\DoxyCodeLine{765                 \}}
\DoxyCodeLine{766             \}}
\DoxyCodeLine{767 }
\DoxyCodeLine{768             append\_note\_if\_missing\_header\_is\_suspected(msg);}
\DoxyCodeLine{769             PyErr\_SetString(PyExc\_TypeError, msg.c\_str());}
\DoxyCodeLine{770             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{771         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!result) \{}
\DoxyCodeLine{772             std::string msg = \textcolor{stringliteral}{"{}Unable to convert function return value to a "{}}}
\DoxyCodeLine{773                               \textcolor{stringliteral}{"{}Python type! The signature was\(\backslash\)n\(\backslash\)t"{}};}
\DoxyCodeLine{774             msg += it-\/>signature;}
\DoxyCodeLine{775             append\_note\_if\_missing\_header\_is\_suspected(msg);}
\DoxyCodeLine{776             PyErr\_SetString(PyExc\_TypeError, msg.c\_str());}
\DoxyCodeLine{777             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{778         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{779             \textcolor{keywordflow}{if} (overloads-\/>\mbox{\hyperlink{structfunction__record_aa014e3469d353ed93ffb67d626879a29}{is\_constructor}} \&\& !self\_value\_and\_holder.holder\_constructed()) \{}
\DoxyCodeLine{780                 \textcolor{keyword}{auto} *pi = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{structinstance}{instance}} *\textcolor{keyword}{>}(parent.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}());}
\DoxyCodeLine{781                 self\_value\_and\_holder.type-\/>init\_instance(pi, \textcolor{keyword}{nullptr});}
\DoxyCodeLine{782             \}}
\DoxyCodeLine{783             \textcolor{keywordflow}{return} result.ptr();}
\DoxyCodeLine{784         \}}
\DoxyCodeLine{785     \}}
\DoxyCodeLine{786 \};}
\DoxyCodeLine{787 }
\DoxyCodeLine{789 \textcolor{keyword}{class }\mbox{\hyperlink{classmodule}{module}} : \textcolor{keyword}{public} \mbox{\hyperlink{classobject}{object}} \{}
\DoxyCodeLine{790 \textcolor{keyword}{public}:}
\DoxyCodeLine{791     \mbox{\hyperlink{pytypes_8h_a358db65eea2be228232617d1353daff7}{PYBIND11\_OBJECT\_DEFAULT}}(\mbox{\hyperlink{classmodule}{module}}, \textcolor{keywordtype}{object}, PyModule\_Check)}
\DoxyCodeLine{792 }
\DoxyCodeLine{793     }
\DoxyCodeLine{794     explicit \mbox{\hyperlink{classmodule}{module}}(const \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, const \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdoc}{doc}} = \textcolor{keywordtype}{nullptr}) \{}
\DoxyCodeLine{795         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classoptions_af812a48c76ad251894b1483c131c8fe8}{options::show\_user\_defined\_docstrings}}()) \mbox{\hyperlink{structdoc}{doc}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{796 \textcolor{preprocessor}{\#if PY\_MAJOR\_VERSION >= 3}}
\DoxyCodeLine{797         PyModuleDef *\mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}} = \textcolor{keyword}{new} PyModuleDef();}
\DoxyCodeLine{798         std::memset(\mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}}, 0, \textcolor{keyword}{sizeof}(PyModuleDef));}
\DoxyCodeLine{799         \mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}}-\/>m\_name = \mbox{\hyperlink{structname}{name}};}
\DoxyCodeLine{800         \mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}}-\/>m\_doc = \mbox{\hyperlink{structdoc}{doc}};}
\DoxyCodeLine{801         \mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}}-\/>m\_size = -\/1;}
\DoxyCodeLine{802         Py\_INCREF(\mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}});}
\DoxyCodeLine{803         \mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}} = PyModule\_Create(\mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}});}
\DoxyCodeLine{804 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{805         \mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}} = Py\_InitModule3(\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{nullptr}, \mbox{\hyperlink{structdoc}{doc}});}
\DoxyCodeLine{806 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{807         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}} == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{808             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Internal error in module::module()"{}});}
\DoxyCodeLine{809         \mbox{\hyperlink{classhandle_a1a13c72238d8df4d42c1656e446fbfcb}{inc\_ref}}();}
\DoxyCodeLine{810     \}}
\DoxyCodeLine{811 }
\DoxyCodeLine{817     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{818     \mbox{\hyperlink{classmodule}{module}} \&\mbox{\hyperlink{classmodule_abac1ba5760d31b50b3132fc2add47650}{def}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name\_, Func \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, \textcolor{keyword}{const} Extra\& ... extra) \{}
\DoxyCodeLine{819         \mbox{\hyperlink{classcpp__function}{cpp\_function}} func(std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}), \mbox{\hyperlink{structname}{name}}(name\_), \mbox{\hyperlink{structscope}{scope}}(*\textcolor{keyword}{this}),}
\DoxyCodeLine{820                           \mbox{\hyperlink{structsibling}{sibling}}(\mbox{\hyperlink{group__python__builtins_ga6343b45dbc05aa5698562c291766743a}{getattr}}(*\textcolor{keyword}{this}, name\_, \mbox{\hyperlink{classnone}{none}}())), extra...);}
\DoxyCodeLine{821         \textcolor{comment}{// NB: allow overwriting here because cpp\_function sets up a chain with the intention of}}
\DoxyCodeLine{822         \textcolor{comment}{// overwriting (and has already checked internally that it isn't overwriting non-\/functions).}}
\DoxyCodeLine{823         \mbox{\hyperlink{classmodule_a96d24a509c6c0fc2beb7afa62dc9eb18}{add\_object}}(name\_, func, \textcolor{keyword}{true} \textcolor{comment}{/* overwrite */});}
\DoxyCodeLine{824         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{825     \}}
\DoxyCodeLine{826 }
\DoxyCodeLine{837     \mbox{\hyperlink{classmodule}{module}} \mbox{\hyperlink{classmodule_a0e559dd7ef70d0edd90d0327ddbd0c12}{def\_submodule}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdoc}{doc}} = \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{838         std::string full\_name = std::string(PyModule\_GetName(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}))}
\DoxyCodeLine{839             + std::string(\textcolor{stringliteral}{"{}."{}}) + std::string(\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{840         \textcolor{keyword}{auto} result = reinterpret\_borrow<module>(PyImport\_AddModule(full\_name.c\_str()));}
\DoxyCodeLine{841         \textcolor{keywordflow}{if} (\mbox{\hyperlink{structdoc}{doc}} \&\& \mbox{\hyperlink{classoptions_af812a48c76ad251894b1483c131c8fe8}{options::show\_user\_defined\_docstrings}}())}
\DoxyCodeLine{842             result.attr(\textcolor{stringliteral}{"{}\_\_doc\_\_"{}}) = pybind11::str(\mbox{\hyperlink{structdoc}{doc}});}
\DoxyCodeLine{843         attr(\mbox{\hyperlink{structname}{name}}) = result;}
\DoxyCodeLine{844         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{845     \}}
\DoxyCodeLine{846 }
\DoxyCodeLine{848     \textcolor{keyword}{static} \mbox{\hyperlink{classmodule}{module}} \textcolor{keyword}{import}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}) \{}
\DoxyCodeLine{849         PyObject *obj = PyImport\_ImportModule(\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{850         \textcolor{keywordflow}{if} (!obj)}
\DoxyCodeLine{851             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{852         \textcolor{keywordflow}{return} reinterpret\_steal<module>(obj);}
\DoxyCodeLine{853     \}}
\DoxyCodeLine{854 }
\DoxyCodeLine{856     \textcolor{keywordtype}{void} \mbox{\hyperlink{classmodule_a6ca13662c15143718888ae5cb13094b0}{reload}}() \{}
\DoxyCodeLine{857         PyObject *obj = PyImport\_ReloadModule(\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}());}
\DoxyCodeLine{858         \textcolor{keywordflow}{if} (!obj)}
\DoxyCodeLine{859             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{860         *\textcolor{keyword}{this} = reinterpret\_steal<module>(obj);}
\DoxyCodeLine{861     \}}
\DoxyCodeLine{862 }
\DoxyCodeLine{863     \textcolor{comment}{// Adds an object to the module using the given name.  Throws if an object with the given name}}
\DoxyCodeLine{864     \textcolor{comment}{// already exists.}}
\DoxyCodeLine{865     \textcolor{comment}{//}}
\DoxyCodeLine{866     \textcolor{comment}{// overwrite should almost always be false: attempting to overwrite objects that pybind11 has}}
\DoxyCodeLine{867     \textcolor{comment}{// established will, in most cases, break things.}}
\DoxyCodeLine{868     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classmodule_a96d24a509c6c0fc2beb7afa62dc9eb18}{add\_object}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{classhandle}{handle}} obj, \textcolor{keywordtype}{bool} overwrite = \textcolor{keyword}{false}) \{}
\DoxyCodeLine{869         \textcolor{keywordflow}{if} (!overwrite \&\& \mbox{\hyperlink{group__python__builtins_gacc0a69f008d341c07ff939e0580c5985}{hasattr}}(*\textcolor{keyword}{this}, \mbox{\hyperlink{structname}{name}}))}
\DoxyCodeLine{870             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Error during initialization: multiple incompatible definitions with name \(\backslash\)"{}"{}} +}
\DoxyCodeLine{871                     std::string(\mbox{\hyperlink{structname}{name}}) + \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{872 }
\DoxyCodeLine{873         PyModule\_AddObject(\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), \mbox{\hyperlink{structname}{name}}, obj.\mbox{\hyperlink{classhandle_a1a13c72238d8df4d42c1656e446fbfcb}{inc\_ref}}().\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}() \textcolor{comment}{/* steals a reference */});}
\DoxyCodeLine{874     \}}
\DoxyCodeLine{875 \};}
\DoxyCodeLine{876 }
\DoxyCodeLine{880 \textcolor{keyword}{inline} \mbox{\hyperlink{classdict}{dict}} \mbox{\hyperlink{group__python__builtins_ga0be04c9e8c8a6833cabae628e2243b6c}{globals}}() \{}
\DoxyCodeLine{881     PyObject *p = PyEval\_GetGlobals();}
\DoxyCodeLine{882     \textcolor{keywordflow}{return} reinterpret\_borrow<dict>(p ? p : \mbox{\hyperlink{classmodule_a40817edef0ded5727701534bcded9982}{module::import}}(\textcolor{stringliteral}{"{}\_\_main\_\_"{}}).attr(\textcolor{stringliteral}{"{}\_\_dict\_\_"{}}).ptr());}
\DoxyCodeLine{883 \}}
\DoxyCodeLine{884 }
\DoxyCodeLine{885 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{887 class generic\_type : public \textcolor{keywordtype}{object} \{}
\DoxyCodeLine{888     \textcolor{keyword}{template} <\textcolor{keyword}{typename}...> \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classgeneric__type_a978adea7a2c683287b544ebc130469fb}{class\_}};}
\DoxyCodeLine{889 \textcolor{keyword}{public}:}
\DoxyCodeLine{890     \mbox{\hyperlink{pytypes_8h_a358db65eea2be228232617d1353daff7}{PYBIND11\_OBJECT\_DEFAULT}}(generic\_type, \textcolor{keywordtype}{object}, PyType\_Check)}
\DoxyCodeLine{891 \textcolor{keyword}{protected}:}
\DoxyCodeLine{892     \textcolor{keywordtype}{void} \mbox{\hyperlink{classgeneric__type_a0eaa0586a2e56b3e69d296572ca7091e}{initialize}}(\textcolor{keyword}{const} \mbox{\hyperlink{structtype__record}{type\_record}} \&rec) \{}
\DoxyCodeLine{893         \textcolor{keywordflow}{if} (rec.\mbox{\hyperlink{structtype__record_ab188820ddf461b3b49818f34885c5687}{scope}} \&\& \mbox{\hyperlink{group__python__builtins_gacc0a69f008d341c07ff939e0580c5985}{hasattr}}(rec.\mbox{\hyperlink{structtype__record_ab188820ddf461b3b49818f34885c5687}{scope}}, rec.\mbox{\hyperlink{structtype__record_aaf93cf029bb1a9686fd5e72c16ea81a8}{name}}))}
\DoxyCodeLine{894             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}generic\_type: cannot initialize type \(\backslash\)"{}"{}} + std::string(rec.\mbox{\hyperlink{structtype__record_aaf93cf029bb1a9686fd5e72c16ea81a8}{name}}) +}
\DoxyCodeLine{895                           \textcolor{stringliteral}{"{}\(\backslash\)"{}: an object with that name is already defined"{}});}
\DoxyCodeLine{896 }
\DoxyCodeLine{897         \textcolor{keywordflow}{if} (rec.\mbox{\hyperlink{structtype__record_a6a5eaf1332f8278dc0f41643fd6783a7}{module\_local}} ? \mbox{\hyperlink{cast_8h_afde5400b79034f8a3f234a8c69f408d4}{get\_local\_type\_info}}(*rec.\mbox{\hyperlink{structtype__record_a9b25042abe2522e477656878280c5368}{type}}) : \mbox{\hyperlink{cast_8h_ac4200faa8f80249732d6ffaf0f610855}{get\_global\_type\_info}}(*rec.\mbox{\hyperlink{structtype__record_a9b25042abe2522e477656878280c5368}{type}}))}
\DoxyCodeLine{898             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}generic\_type: type \(\backslash\)"{}"{}} + std::string(rec.\mbox{\hyperlink{structtype__record_aaf93cf029bb1a9686fd5e72c16ea81a8}{name}}) +}
\DoxyCodeLine{899                           \textcolor{stringliteral}{"{}\(\backslash\)"{} is already registered!"{}});}
\DoxyCodeLine{900 }
\DoxyCodeLine{901         m\_ptr = \mbox{\hyperlink{class_8h_ac2c7eb657b9c55f6268263435c20ee41}{make\_new\_python\_type}}(rec);}
\DoxyCodeLine{902 }
\DoxyCodeLine{903         \textcolor{comment}{/* Register supplemental type information in C++ dict */}}
\DoxyCodeLine{904         \textcolor{keyword}{auto} *tinfo = \textcolor{keyword}{new} detail::type\_info();}
\DoxyCodeLine{905         tinfo-\/>type = (PyTypeObject *) m\_ptr;}
\DoxyCodeLine{906         tinfo-\/>cpptype = rec.\mbox{\hyperlink{structtype__record_a9b25042abe2522e477656878280c5368}{type}};}
\DoxyCodeLine{907         tinfo-\/>type\_size = rec.\mbox{\hyperlink{structtype__record_aa49cb21026b070945a61a29f081a2442}{type\_size}};}
\DoxyCodeLine{908         tinfo-\/>type\_align = rec.\mbox{\hyperlink{structtype__record_acfe9a04defba752df8501040167c4382}{type\_align}};}
\DoxyCodeLine{909         tinfo-\/>operator\_new = rec.\mbox{\hyperlink{structtype__record_a52a90ac5511e86ff2a00f09af81b78bb}{operator\_new}};}
\DoxyCodeLine{910         tinfo-\/>holder\_size\_in\_ptrs = \mbox{\hyperlink{detail_2common_8h_a1a767b0d9e7dcc29e74c67c50bfb1ea9}{size\_in\_ptrs}}(rec.\mbox{\hyperlink{structtype__record_a5d94102cfaacdfcf2de248e00fe1afcd}{holder\_size}});}
\DoxyCodeLine{911         tinfo-\/>init\_instance = rec.\mbox{\hyperlink{structtype__record_ad1d597c02ba9ac676f2c98c96c3ccc54}{init\_instance}};}
\DoxyCodeLine{912         tinfo-\/>dealloc = rec.\mbox{\hyperlink{structtype__record_ab2b5fe93f5c5d047014164e931c53c41}{dealloc}};}
\DoxyCodeLine{913         tinfo-\/>simple\_type = \textcolor{keyword}{true};}
\DoxyCodeLine{914         tinfo-\/>simple\_ancestors = \textcolor{keyword}{true};}
\DoxyCodeLine{915         tinfo-\/>default\_holder = rec.\mbox{\hyperlink{structtype__record_a22be67a2d89db4dcf7ea338dc435f5e3}{default\_holder}};}
\DoxyCodeLine{916         tinfo-\/>module\_local = rec.\mbox{\hyperlink{structtype__record_a6a5eaf1332f8278dc0f41643fd6783a7}{module\_local}};}
\DoxyCodeLine{917 }
\DoxyCodeLine{918         \textcolor{keyword}{auto} \&\mbox{\hyperlink{structinternals}{internals}} = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}();}
\DoxyCodeLine{919         \textcolor{keyword}{auto} tindex = std::type\_index(*rec.\mbox{\hyperlink{structtype__record_a9b25042abe2522e477656878280c5368}{type}});}
\DoxyCodeLine{920         tinfo-\/>direct\_conversions = \&\mbox{\hyperlink{structinternals}{internals}}.\mbox{\hyperlink{structinternals_acec753819721884fcd4a650dcdfa40d2}{direct\_conversions}}[tindex];}
\DoxyCodeLine{921         \textcolor{keywordflow}{if} (rec.\mbox{\hyperlink{structtype__record_a6a5eaf1332f8278dc0f41643fd6783a7}{module\_local}})}
\DoxyCodeLine{922             \mbox{\hyperlink{internals_8h_a2cf7ebb13338f02b4c5ee103dcfdf417}{registered\_local\_types\_cpp}}()[tindex] = tinfo;}
\DoxyCodeLine{923         \textcolor{keywordflow}{else}}
\DoxyCodeLine{924             \mbox{\hyperlink{structinternals}{internals}}.\mbox{\hyperlink{structinternals_a55c8874ee4ee135c2ed8b3f5a958e6a3}{registered\_types\_cpp}}[tindex] = tinfo;}
\DoxyCodeLine{925         \mbox{\hyperlink{structinternals}{internals}}.\mbox{\hyperlink{structinternals_a6148bb4956e17d8a61f410cac7227d04}{registered\_types\_py}}[(PyTypeObject *) m\_ptr] = \{ tinfo \};}
\DoxyCodeLine{926 }
\DoxyCodeLine{927         \textcolor{keywordflow}{if} (rec.\mbox{\hyperlink{structtype__record_ae84dc75887eb2af0bd2b3d1bcfe5496c}{bases}}.\mbox{\hyperlink{structlist_a3b03adad0c0429bae9493667ff366dc2}{size}}() > 1 || rec.\mbox{\hyperlink{structtype__record_a13c1d8df682426b1de648c1231979231}{multiple\_inheritance}}) \{}
\DoxyCodeLine{928             mark\_parents\_nonsimple(tinfo-\/>type);}
\DoxyCodeLine{929             tinfo-\/>simple\_ancestors = \textcolor{keyword}{false};}
\DoxyCodeLine{930         \}}
\DoxyCodeLine{931         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rec.\mbox{\hyperlink{structtype__record_ae84dc75887eb2af0bd2b3d1bcfe5496c}{bases}}.\mbox{\hyperlink{structlist_a3b03adad0c0429bae9493667ff366dc2}{size}}() == 1) \{}
\DoxyCodeLine{932             \textcolor{keyword}{auto} parent\_tinfo = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{get\_type\_info}}((PyTypeObject *) rec.\mbox{\hyperlink{structtype__record_ae84dc75887eb2af0bd2b3d1bcfe5496c}{bases}}[0].\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}());}
\DoxyCodeLine{933             tinfo-\/>simple\_ancestors = parent\_tinfo-\/>simple\_ancestors;}
\DoxyCodeLine{934         \}}
\DoxyCodeLine{935 }
\DoxyCodeLine{936         \textcolor{keywordflow}{if} (rec.\mbox{\hyperlink{structtype__record_a6a5eaf1332f8278dc0f41643fd6783a7}{module\_local}}) \{}
\DoxyCodeLine{937             \textcolor{comment}{// Stash the local typeinfo and loader so that external modules can access it.}}
\DoxyCodeLine{938             tinfo-\/>module\_local\_load = \&\mbox{\hyperlink{classtype__caster__generic_a6ae0e686d4f4161d6d8f3ec1e283ce8f}{type\_caster\_generic::local\_load}};}
\DoxyCodeLine{939             \mbox{\hyperlink{group__python__builtins_ga786700afa0e3e4bd67530355c4c5dec9}{setattr}}(m\_ptr, \mbox{\hyperlink{internals_8h_a4b53f6b732a7f457c9bd615b5a42d89e}{PYBIND11\_MODULE\_LOCAL\_ID}}, \mbox{\hyperlink{classcapsule}{capsule}}(tinfo));}
\DoxyCodeLine{940         \}}
\DoxyCodeLine{941     \}}
\DoxyCodeLine{942 }
\DoxyCodeLine{944     \textcolor{keywordtype}{void} \mbox{\hyperlink{classgeneric__type_aa102cbe989b604345c02dcd821f6c5b2}{mark\_parents\_nonsimple}}(PyTypeObject *value) \{}
\DoxyCodeLine{945         \textcolor{keyword}{auto} t = reinterpret\_borrow<tuple>(value-\/>tp\_bases);}
\DoxyCodeLine{946         \textcolor{keywordflow}{for} (\mbox{\hyperlink{classhandle}{handle}} h : t) \{}
\DoxyCodeLine{947             \textcolor{keyword}{auto} tinfo2 = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{get\_type\_info}}((PyTypeObject *) h.ptr());}
\DoxyCodeLine{948             \textcolor{keywordflow}{if} (tinfo2)}
\DoxyCodeLine{949                 tinfo2-\/>simple\_type = \textcolor{keyword}{false};}
\DoxyCodeLine{950             mark\_parents\_nonsimple((PyTypeObject *) h.ptr());}
\DoxyCodeLine{951         \}}
\DoxyCodeLine{952     \}}
\DoxyCodeLine{953 }
\DoxyCodeLine{954     \textcolor{keywordtype}{void} \mbox{\hyperlink{classgeneric__type_abc4faaa9d97d488abb99634dc3f0b88f}{install\_buffer\_funcs}}(}
\DoxyCodeLine{955             \mbox{\hyperlink{structbuffer__info}{buffer\_info}} *(*get\_buffer)(PyObject *, \textcolor{keywordtype}{void} *),}
\DoxyCodeLine{956             \textcolor{keywordtype}{void} *get\_buffer\_data) \{}
\DoxyCodeLine{957         PyHeapTypeObject *type = (PyHeapTypeObject*) m\_ptr;}
\DoxyCodeLine{958         \textcolor{keyword}{auto} tinfo = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(\&type-\/>ht\_type);}
\DoxyCodeLine{959 }
\DoxyCodeLine{960         \textcolor{keywordflow}{if} (!type-\/>ht\_type.tp\_as\_buffer)}
\DoxyCodeLine{961             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(}
\DoxyCodeLine{962                 \textcolor{stringliteral}{"{}To be able to register buffer protocol support for the type '"{}} +}
\DoxyCodeLine{963                 std::string(tinfo-\/>type-\/>tp\_name) +}
\DoxyCodeLine{964                 \textcolor{stringliteral}{"{}' the associated class<>(..) invocation must "{}}}
\DoxyCodeLine{965                 \textcolor{stringliteral}{"{}include the pybind11::buffer\_protocol() annotation!"{}});}
\DoxyCodeLine{966 }
\DoxyCodeLine{967         tinfo-\/>get\_buffer = get\_buffer;}
\DoxyCodeLine{968         tinfo-\/>get\_buffer\_data = get\_buffer\_data;}
\DoxyCodeLine{969     \}}
\DoxyCodeLine{970 }
\DoxyCodeLine{971     \textcolor{comment}{// rec\_func must be set for either fget or fset.}}
\DoxyCodeLine{972     \textcolor{keywordtype}{void} \mbox{\hyperlink{classgeneric__type_af4b8e335e3a6f25b38c522c2c4f4c692}{def\_property\_static\_impl}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}},}
\DoxyCodeLine{973                                   \mbox{\hyperlink{classhandle}{handle}} fget, \mbox{\hyperlink{classhandle}{handle}} fset,}
\DoxyCodeLine{974                                   detail::function\_record *rec\_func) \{}
\DoxyCodeLine{975         \textcolor{keyword}{const} \textcolor{keyword}{auto} is\_static = rec\_func \&\& !(rec\_func-\/>is\_method \&\& rec\_func-\/>scope);}
\DoxyCodeLine{976         \textcolor{keyword}{const} \textcolor{keyword}{auto} has\_doc = rec\_func \&\& rec\_func-\/>doc \&\& pybind11::options::show\_user\_defined\_docstrings();}
\DoxyCodeLine{977         \textcolor{keyword}{auto} \textcolor{keyword}{property} = \mbox{\hyperlink{classhandle}{handle}}((PyObject *) (is\_static ? \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().static\_property\_type}
\DoxyCodeLine{978                                                        : \&PyProperty\_Type));}
\DoxyCodeLine{979         attr(\mbox{\hyperlink{structname}{name}}) = property(fget.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}() ? fget : \mbox{\hyperlink{classnone}{none}}(),}
\DoxyCodeLine{980                               fset.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}() ? fset : \mbox{\hyperlink{classnone}{none}}(),}
\DoxyCodeLine{981                               \textcolor{comment}{/*deleter*/}\mbox{\hyperlink{classnone}{none}}(),}
\DoxyCodeLine{982                               pybind11::str(has\_doc ? rec\_func-\/>doc : \textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{983     \}}
\DoxyCodeLine{984 \};}
\DoxyCodeLine{985 }
\DoxyCodeLine{987 template <typename T, typename = void\_t<decltype(static\_cast<void *(*)(size\_t)>(T::operator \textcolor{keyword}{new}))>>}
\DoxyCodeLine{988 \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_ae55b858834fdd3c6adb5e8b9615b49b6}{set\_operator\_new}}(\mbox{\hyperlink{structtype__record}{type\_record}} *\mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}) \{ \mbox{\hyperlink{namespacenvinfer1_ad3e635d1f15cdaca5d23251c775ef725}{r}}-\/>operator\_new = \&T::operator \textcolor{keyword}{new}; \}}
\DoxyCodeLine{989 }
\DoxyCodeLine{990 \textcolor{keyword}{template} <\textcolor{keyword}{typename}> \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_ae55b858834fdd3c6adb5e8b9615b49b6}{set\_operator\_new}}(...) \{ \}}
\DoxyCodeLine{991 }
\DoxyCodeLine{992 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename} SFINAE = \textcolor{keywordtype}{void}> \textcolor{keyword}{struct }\mbox{\hyperlink{structhas__operator__delete}{has\_operator\_delete}} : std::false\_type \{ \};}
\DoxyCodeLine{993 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structhas__operator__delete}{has\_operator\_delete}}<T, \mbox{\hyperlink{detail_2common_8h_ac5ff2a64cfcadadd23f8559c46cfcbda}{void\_t}}<decltype(static\_cast<void (*)(\textcolor{keywordtype}{void} *)>(T::operator \textcolor{keyword}{delete}))>>}
\DoxyCodeLine{994     : std::true\_type \{ \};}
\DoxyCodeLine{995 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keyword}{typename} SFINAE = \textcolor{keywordtype}{void}> \textcolor{keyword}{struct }\mbox{\hyperlink{structhas__operator__delete__size}{has\_operator\_delete\_size}} : std::false\_type \{ \};}
\DoxyCodeLine{996 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structhas__operator__delete__size}{has\_operator\_delete\_size}}<T, \mbox{\hyperlink{detail_2common_8h_ac5ff2a64cfcadadd23f8559c46cfcbda}{void\_t}}<decltype(static\_cast<void (*)(\textcolor{keywordtype}{void} *, \textcolor{keywordtype}{size\_t})>(T::operator \textcolor{keyword}{delete}))>>}
\DoxyCodeLine{997     : std::true\_type \{ \};}
\DoxyCodeLine{999 template <typename T, enable\_if\_t<has\_operator\_delete<T>::value, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{1000 \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a4f9edb48e1b7e9f3cf1dfa835cc39be2}{call\_operator\_delete}}(T *p, \textcolor{keywordtype}{size\_t}, \textcolor{keywordtype}{size\_t}) \{ T::operator \textcolor{keyword}{delete}(p); \}}
\DoxyCodeLine{1001 template <typename T, enable\_if\_t<!has\_operator\_delete<T>::value \&\& \mbox{\hyperlink{structhas__operator__delete__size}{has\_operator\_delete\_size<T>::value}}, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{1002 \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a4f9edb48e1b7e9f3cf1dfa835cc39be2}{call\_operator\_delete}}(T *p, \textcolor{keywordtype}{size\_t} s, \textcolor{keywordtype}{size\_t}) \{ T::operator \textcolor{keyword}{delete}(p, s); \}}
\DoxyCodeLine{1003 }
\DoxyCodeLine{1004 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a4f9edb48e1b7e9f3cf1dfa835cc39be2}{call\_operator\_delete}}(\textcolor{keywordtype}{void} *p, \textcolor{keywordtype}{size\_t} s, \textcolor{keywordtype}{size\_t} a) \{}
\DoxyCodeLine{1005     (void)s; (void)a;}
\DoxyCodeLine{1006 \textcolor{preprocessor}{    \#if defined(\_\_cpp\_aligned\_new) \&\& (!defined(\_MSC\_VER) || \_MSC\_VER >= 1912)}}
\DoxyCodeLine{1007         \textcolor{keywordflow}{if} (a > \_\_STDCPP\_DEFAULT\_NEW\_ALIGNMENT\_\_) \{}
\DoxyCodeLine{1008 \textcolor{preprocessor}{            \#ifdef \_\_cpp\_sized\_deallocation}}
\DoxyCodeLine{1009                 ::operator \textcolor{keyword}{delete}(p, s, std::align\_val\_t(a));}
\DoxyCodeLine{1010 \textcolor{preprocessor}{            \#else}}
\DoxyCodeLine{1011                 ::operator \textcolor{keyword}{delete}(p, std::align\_val\_t(a));}
\DoxyCodeLine{1012 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{1013             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1014         \}}
\DoxyCodeLine{1015 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{1016 \textcolor{preprocessor}{    \#ifdef \_\_cpp\_sized\_deallocation}}
\DoxyCodeLine{1017         ::operator \textcolor{keyword}{delete}(p, s);}
\DoxyCodeLine{1018 \textcolor{preprocessor}{    \#else}}
\DoxyCodeLine{1019         ::operator \textcolor{keyword}{delete}(p);}
\DoxyCodeLine{1020 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{1021 \}}
\DoxyCodeLine{1022 }
\DoxyCodeLine{1023 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{1024 }
\DoxyCodeLine{1025 }
\DoxyCodeLine{1027 \textcolor{keyword}{template} <\textcolor{keyword}{typename} \textcolor{comment}{/*Derived*/}, \textcolor{keyword}{typename} F>}
\DoxyCodeLine{1028 \textcolor{keyword}{auto} \mbox{\hyperlink{pybind11_8h_a133120592be1caf7036580978b5bd6dd}{method\_adaptor}}(F \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) -\/> \textcolor{keyword}{decltype}(std::forward<F>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})) \{ \textcolor{keywordflow}{return} std::forward<F>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}); \}}
\DoxyCodeLine{1029 }
\DoxyCodeLine{1030 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Derived, \textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1031 \textcolor{keyword}{auto} \mbox{\hyperlink{pybind11_8h_a133120592be1caf7036580978b5bd6dd}{method\_adaptor}}(Return (Class::*pmf)(Args...)) -\/> Return (Derived::*)(Args...) \{}
\DoxyCodeLine{1032     \textcolor{keyword}{static\_assert}(detail::is\_accessible\_base\_of<Class, Derived>::value,}
\DoxyCodeLine{1033         \textcolor{stringliteral}{"{}Cannot bind an inaccessible base class method; use a lambda definition instead"{}});}
\DoxyCodeLine{1034     \textcolor{keywordflow}{return} pmf;}
\DoxyCodeLine{1035 \}}
\DoxyCodeLine{1036 }
\DoxyCodeLine{1037 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Derived, \textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1038 \textcolor{keyword}{auto} \mbox{\hyperlink{pybind11_8h_a133120592be1caf7036580978b5bd6dd}{method\_adaptor}}(Return (Class::*pmf)(Args...) \textcolor{keyword}{const}) -\/> Return (Derived::*)(Args...) \textcolor{keyword}{const} \{}
\DoxyCodeLine{1039     \textcolor{keyword}{static\_assert}(detail::is\_accessible\_base\_of<Class, Derived>::value,}
\DoxyCodeLine{1040         \textcolor{stringliteral}{"{}Cannot bind an inaccessible base class method; use a lambda definition instead"{}});}
\DoxyCodeLine{1041     \textcolor{keywordflow}{return} pmf;}
\DoxyCodeLine{1042 \}}
\DoxyCodeLine{1043 }
\DoxyCodeLine{1044 \textcolor{keyword}{template} <\textcolor{keyword}{typename} type\_, \textcolor{keyword}{typename}... \mbox{\hyperlink{classoptions}{options}}>}
\DoxyCodeLine{1045 \textcolor{keyword}{class }\mbox{\hyperlink{classclass__}{class\_}} : \textcolor{keyword}{public} detail::generic\_type \{}
\DoxyCodeLine{1046     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{using} \mbox{\hyperlink{classclass___a2e54cec004893ee1c17924e21882aef8}{is\_holder}} = detail::is\_holder\_type<type\_, T>;}
\DoxyCodeLine{1047     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{using} \mbox{\hyperlink{classclass___af8959b802a53c37b63f3ea5634d569f0}{is\_subtype}} = detail::is\_strict\_base\_of<type\_, T>;}
\DoxyCodeLine{1048     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{using} \mbox{\hyperlink{classclass___a1e7080ed67b323eba06206098e688cab}{is\_base}} = detail::is\_strict\_base\_of<T, type\_>;}
\DoxyCodeLine{1049     \textcolor{comment}{// struct instead of using here to help MSVC:}}
\DoxyCodeLine{1050     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structclass___1_1is__valid__class__option}{is\_valid\_class\_option}} :}
\DoxyCodeLine{1051         \mbox{\hyperlink{detail_2common_8h_a9fc2947c6f247b5bf1696117d6a46f5c}{detail::any\_of}}<is\_holder<T>, is\_subtype<T>, is\_base<T>> \{\};}
\DoxyCodeLine{1052 }
\DoxyCodeLine{1053 \textcolor{keyword}{public}:}
\DoxyCodeLine{1054     \textcolor{keyword}{using} \mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} = type\_;}
\DoxyCodeLine{1055     \textcolor{keyword}{using} \mbox{\hyperlink{classclass___a18716f57a4db37eb2e5482309e5253c4}{type\_alias}} = \mbox{\hyperlink{detail_2common_8h_a9ec2c72f4073efb0fb0bd007b0616f0a}{detail::exactly\_one\_t}}<\mbox{\hyperlink{classclass___af8959b802a53c37b63f3ea5634d569f0}{is\_subtype}}, void, \mbox{\hyperlink{classoptions}{options}}...>;}
\DoxyCodeLine{1056     \textcolor{keyword}{constexpr} \textcolor{keyword}{static} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classclass___ad98ce9926c534c9e8859a144f50d2b59}{has\_alias}} = !std::is\_void<type\_alias>::value;}
\DoxyCodeLine{1057     \textcolor{keyword}{using} \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} = detail::exactly\_one\_t<is\_holder, std::unique\_ptr<type>, \mbox{\hyperlink{classoptions}{options}}...>;}
\DoxyCodeLine{1058 }
\DoxyCodeLine{1059     \textcolor{keyword}{static\_assert}(detail::all\_of<is\_valid\_class\_option<options>...>::value,}
\DoxyCodeLine{1060             \textcolor{stringliteral}{"{}Unknown/invalid class\_ template parameters provided"{}});}
\DoxyCodeLine{1061 }
\DoxyCodeLine{1062     \textcolor{keyword}{static\_assert}(!\mbox{\hyperlink{classclass___ad98ce9926c534c9e8859a144f50d2b59}{has\_alias}} || std::is\_polymorphic<type>::value,}
\DoxyCodeLine{1063             \textcolor{stringliteral}{"{}Cannot use an alias class with a non-\/polymorphic type"{}});}
\DoxyCodeLine{1064 }
\DoxyCodeLine{1065     \mbox{\hyperlink{pytypes_8h_ad4b7fc54168d44c54c0ca9863af90858}{PYBIND11\_OBJECT}}(\mbox{\hyperlink{classclass__}{class\_}}, generic\_type, PyType\_Check)}
\DoxyCodeLine{1066 }
\DoxyCodeLine{1067     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1068     \mbox{\hyperlink{classclass___a0c0ddf3d9d90319b5ca87ebdcac4cf28}{class\_}}(\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structscope}{scope}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Extra \&... extra) \{}
\DoxyCodeLine{1069         \textcolor{keyword}{using namespace }detail;}
\DoxyCodeLine{1070 }
\DoxyCodeLine{1071         \textcolor{comment}{// MI can only be specified via class\_ template options, not constructor parameters}}
\DoxyCodeLine{1072         \textcolor{keyword}{static\_assert}(}
\DoxyCodeLine{1073             \mbox{\hyperlink{structnegation}{none\_of<is\_pyobject<Extra>}}...>::value || \textcolor{comment}{// no base class arguments, or:}}
\DoxyCodeLine{1074             (   \mbox{\hyperlink{detail_2common_8h_a8b3721f762a0f4ae4319f682c8fa7026}{constexpr\_sum}}(\mbox{\hyperlink{pytypes_8h_a41ef7089a656c80c4319844f62409f7d}{is\_pyobject<Extra>::value}}...) == 1 \&\& \textcolor{comment}{// Exactly one base}}
\DoxyCodeLine{1075                 \mbox{\hyperlink{detail_2common_8h_a8b3721f762a0f4ae4319f682c8fa7026}{constexpr\_sum}}(\mbox{\hyperlink{classclass___a1e7080ed67b323eba06206098e688cab}{is\_base<options>::value}}...)   == 0 \&\& \textcolor{comment}{// no template option bases}}
\DoxyCodeLine{1076                 \mbox{\hyperlink{structnegation}{none\_of<std::is\_same<multiple\_inheritance, Extra>}}...>::value), \textcolor{comment}{// no multiple\_inheritance attr}}
\DoxyCodeLine{1077             \textcolor{stringliteral}{"{}Error: multiple inheritance bases must be specified via class\_ template options"{}});}
\DoxyCodeLine{1078 }
\DoxyCodeLine{1079         \mbox{\hyperlink{structtype__record}{type\_record}} record;}
\DoxyCodeLine{1080         record.\mbox{\hyperlink{structtype__record_ab188820ddf461b3b49818f34885c5687}{scope}} = \mbox{\hyperlink{structscope}{scope}};}
\DoxyCodeLine{1081         record.\mbox{\hyperlink{structtype__record_aaf93cf029bb1a9686fd5e72c16ea81a8}{name}} = \mbox{\hyperlink{structname}{name}};}
\DoxyCodeLine{1082         record.\mbox{\hyperlink{structtype__record_a9b25042abe2522e477656878280c5368}{type}} = \&\textcolor{keyword}{typeid}(\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}});}
\DoxyCodeLine{1083         record.\mbox{\hyperlink{structtype__record_aa49cb21026b070945a61a29f081a2442}{type\_size}} = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{detail_2common_8h_acdb0eff728aec08ed6fff07d2885ea9d}{conditional\_t<has\_alias, type\_alias, type>}});}
\DoxyCodeLine{1084         record.\mbox{\hyperlink{structtype__record_acfe9a04defba752df8501040167c4382}{type\_align}} = \textcolor{keyword}{alignof}(\mbox{\hyperlink{detail_2common_8h_acdb0eff728aec08ed6fff07d2885ea9d}{conditional\_t<has\_alias, type\_alias, type>}}\&);}
\DoxyCodeLine{1085         record.\mbox{\hyperlink{structtype__record_a5d94102cfaacdfcf2de248e00fe1afcd}{holder\_size}} = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}});}
\DoxyCodeLine{1086         record.\mbox{\hyperlink{structtype__record_ad1d597c02ba9ac676f2c98c96c3ccc54}{init\_instance}} = \mbox{\hyperlink{classclass___a20391d006c3476cc8f0317a7e82dccfe}{init\_instance}};}
\DoxyCodeLine{1087         record.\mbox{\hyperlink{structtype__record_ab2b5fe93f5c5d047014164e931c53c41}{dealloc}} = \mbox{\hyperlink{classclass___a6b1260e369fcbc36da23cc813c88d163}{dealloc}};}
\DoxyCodeLine{1088         record.\mbox{\hyperlink{structtype__record_a22be67a2d89db4dcf7ea338dc435f5e3}{default\_holder}} = detail::is\_instantiation<std::unique\_ptr, holder\_type>::value;}
\DoxyCodeLine{1089 }
\DoxyCodeLine{1090         set\_operator\_new<type>(\&record);}
\DoxyCodeLine{1091 }
\DoxyCodeLine{1092         \textcolor{comment}{/* Register base classes specified via template arguments to class\_, if any */}}
\DoxyCodeLine{1093         \mbox{\hyperlink{detail_2common_8h_a3d7c7853f6ac53a5a12c09c57dbf9ce4}{PYBIND11\_EXPAND\_SIDE\_EFFECTS}}(add\_base<options>(record));}
\DoxyCodeLine{1094 }
\DoxyCodeLine{1095         \textcolor{comment}{/* Process optional arguments, if any */}}
\DoxyCodeLine{1096         \mbox{\hyperlink{structprocess__attributes_a27a45881631e93c2f3a126f8bd661a77}{process\_attributes<Extra...>::init}}(extra..., \&record);}
\DoxyCodeLine{1097 }
\DoxyCodeLine{1098         \mbox{\hyperlink{classgeneric__type_a0eaa0586a2e56b3e69d296572ca7091e}{generic\_type::initialize}}(record);}
\DoxyCodeLine{1099 }
\DoxyCodeLine{1100         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classclass___ad98ce9926c534c9e8859a144f50d2b59}{has\_alias}}) \{}
\DoxyCodeLine{1101             \textcolor{keyword}{auto} \&instances = record.\mbox{\hyperlink{structtype__record_a6a5eaf1332f8278dc0f41643fd6783a7}{module\_local}} ? \mbox{\hyperlink{internals_8h_a2cf7ebb13338f02b4c5ee103dcfdf417}{registered\_local\_types\_cpp}}() : \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().\mbox{\hyperlink{structinternals_a55c8874ee4ee135c2ed8b3f5a958e6a3}{registered\_types\_cpp}};}
\DoxyCodeLine{1102             instances[std::type\_index(\textcolor{keyword}{typeid}(\mbox{\hyperlink{classclass___a18716f57a4db37eb2e5482309e5253c4}{type\_alias}}))] = instances[std::type\_index(\textcolor{keyword}{typeid}(\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}}))];}
\DoxyCodeLine{1103         \}}
\DoxyCodeLine{1104     \}}
\DoxyCodeLine{1105 }
\DoxyCodeLine{1106     template <typename Base, detail::enable\_if\_t<is\_base<Base>::value, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{1107     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___a118815a833b1fe76c91536afdfc1f305}{add\_base}}(detail::type\_record \&rec) \{}
\DoxyCodeLine{1108         rec.add\_base(\textcolor{keyword}{typeid}(Base), [](\textcolor{keywordtype}{void} *src) -\/> \textcolor{keywordtype}{void} * \{}
\DoxyCodeLine{1109             \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}Base *\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} *\textcolor{keyword}{>}(src));}
\DoxyCodeLine{1110         \});}
\DoxyCodeLine{1111     \}}
\DoxyCodeLine{1112 }
\DoxyCodeLine{1113     template <typename Base, detail::enable\_if\_t<!is\_base<Base>::value, \textcolor{keywordtype}{int}> = 0>}
\DoxyCodeLine{1114     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___a3e06e8a15ef89f19a08a9ca0bf8277de}{add\_base}}(detail::type\_record \&) \{ \}}
\DoxyCodeLine{1115 }
\DoxyCodeLine{1116     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1117     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a784165521ee3567aad69c3bce78a999a}{def}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name\_, Func\&\& \mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1118         \mbox{\hyperlink{classcpp__function}{cpp\_function}} cf(method\_adaptor<type>(std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})), \mbox{\hyperlink{structname}{name}}(name\_), \mbox{\hyperlink{structis__method}{is\_method}}(*\textcolor{keyword}{this}),}
\DoxyCodeLine{1119                         \mbox{\hyperlink{structsibling}{sibling}}(\mbox{\hyperlink{group__python__builtins_ga6343b45dbc05aa5698562c291766743a}{getattr}}(*\textcolor{keyword}{this}, name\_, \mbox{\hyperlink{classnone}{none}}())), extra...);}
\DoxyCodeLine{1120         attr(cf.\mbox{\hyperlink{classcpp__function_a5d8bcdd6781aa6da434299589c68013e}{name}}()) = cf;}
\DoxyCodeLine{1121         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1122     \}}
\DoxyCodeLine{1123 }
\DoxyCodeLine{1124     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename}... Extra> \mbox{\hyperlink{classclass__}{class\_}} \&}
\DoxyCodeLine{1125     \mbox{\hyperlink{classclass___afbedb96f5ea956877b4a35908c2a7056}{def\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name\_, Func \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1126         \textcolor{keyword}{static\_assert}(!std::is\_member\_function\_pointer<Func>::value,}
\DoxyCodeLine{1127                 \textcolor{stringliteral}{"{}def\_static(...) called with a non-\/static member function pointer"{}});}
\DoxyCodeLine{1128         \mbox{\hyperlink{classcpp__function}{cpp\_function}} cf(std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}), \mbox{\hyperlink{structname}{name}}(name\_), \mbox{\hyperlink{structscope}{scope}}(*\textcolor{keyword}{this}),}
\DoxyCodeLine{1129                         \mbox{\hyperlink{structsibling}{sibling}}(\mbox{\hyperlink{group__python__builtins_ga6343b45dbc05aa5698562c291766743a}{getattr}}(*\textcolor{keyword}{this}, name\_, \mbox{\hyperlink{classnone}{none}}())), extra...);}
\DoxyCodeLine{1130         attr(cf.\mbox{\hyperlink{classcpp__function_a5d8bcdd6781aa6da434299589c68013e}{name}}()) = \mbox{\hyperlink{classstaticmethod}{staticmethod}}(cf);}
\DoxyCodeLine{1131         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1132     \}}
\DoxyCodeLine{1133 }
\DoxyCodeLine{1134     \textcolor{keyword}{template} <\mbox{\hyperlink{operators_8h_af7a0dcf3b52966a31277a5e8e18bacb5}{detail::op\_id}} id, \mbox{\hyperlink{operators_8h_ae1bc65aa25538fc2163cdc822a45a71d}{detail::op\_type}} ot, \textcolor{keyword}{typename} L, \textcolor{keyword}{typename} R, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1135     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a10990032ec17303f408b610a4f11b576}{def}}(\textcolor{keyword}{const} detail::op\_<id, ot, L, R> \&op, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1136         op.execute(*\textcolor{keyword}{this}, extra...);}
\DoxyCodeLine{1137         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1138     \}}
\DoxyCodeLine{1139 }
\DoxyCodeLine{1140     \textcolor{keyword}{template} <\mbox{\hyperlink{operators_8h_af7a0dcf3b52966a31277a5e8e18bacb5}{detail::op\_id}} id, \mbox{\hyperlink{operators_8h_ae1bc65aa25538fc2163cdc822a45a71d}{detail::op\_type}} ot, \textcolor{keyword}{typename} L, \textcolor{keyword}{typename} R, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1141     \mbox{\hyperlink{classclass__}{class\_}} \& \mbox{\hyperlink{classclass___acbc1de38178058d0c97a424890e4d063}{def\_cast}}(\textcolor{keyword}{const} detail::op\_<id, ot, L, R> \&op, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1142         op.execute\_cast(*\textcolor{keyword}{this}, extra...);}
\DoxyCodeLine{1143         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1144     \}}
\DoxyCodeLine{1145 }
\DoxyCodeLine{1146     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1147     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___ac49be9817aa3fd8b62d51460d6ecfde4}{def}}(\textcolor{keyword}{const} detail::initimpl::constructor<Args...> \&\mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1148         \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}.execute(*\textcolor{keyword}{this}, extra...);}
\DoxyCodeLine{1149         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1150     \}}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1152     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1153     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a045cda9a73c7a18af063eaecd80dd39b}{def}}(\textcolor{keyword}{const} detail::initimpl::alias\_constructor<Args...> \&\mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1154         \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}.execute(*\textcolor{keyword}{this}, extra...);}
\DoxyCodeLine{1155         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1156     \}}
\DoxyCodeLine{1157 }
\DoxyCodeLine{1158     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1159     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___aa46b5f0f393d31f9115dd84fc48cd006}{def}}(detail::initimpl::factory<Args...> \&\&\mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1160         std::move(\mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}).execute(*\textcolor{keyword}{this}, extra...);}
\DoxyCodeLine{1161         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1162     \}}
\DoxyCodeLine{1163 }
\DoxyCodeLine{1164     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1165     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a02783adf3c5c335778b979222da0c158}{def}}(detail::initimpl::pickle\_factory<Args...> \&\&pf, \textcolor{keyword}{const} Extra \&...extra) \{}
\DoxyCodeLine{1166         std::move(pf).execute(*\textcolor{keyword}{this}, extra...);}
\DoxyCodeLine{1167         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1168     \}}
\DoxyCodeLine{1169 }
\DoxyCodeLine{1170     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func> \mbox{\hyperlink{classclass__}{class\_}}\& \mbox{\hyperlink{classclass___aba19cd111a96b9ae9101b088f40421f4}{def\_buffer}}(Func \&\&func) \{}
\DoxyCodeLine{1171         \textcolor{keyword}{struct }capture \{ Func func; \};}
\DoxyCodeLine{1172         capture *ptr = \textcolor{keyword}{new} capture \{ std::forward<Func>(func) \};}
\DoxyCodeLine{1173         install\_buffer\_funcs([](PyObject *obj, \textcolor{keywordtype}{void} *ptr) -\/> \mbox{\hyperlink{structbuffer__info}{buffer\_info}}* \{}
\DoxyCodeLine{1174             detail::make\_caster<type> caster;}
\DoxyCodeLine{1175             \textcolor{keywordflow}{if} (!caster.load(obj, \textcolor{keyword}{false}))}
\DoxyCodeLine{1176                 \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1177             \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{structbuffer__info}{buffer\_info}}(((capture *) ptr)-\/>func(caster));}
\DoxyCodeLine{1178         \}, ptr);}
\DoxyCodeLine{1179         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1180     \}}
\DoxyCodeLine{1181 }
\DoxyCodeLine{1182     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1183     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a55c508857d691d7cdd28d8f8694649c8}{def\_buffer}}(Return (Class::*func)(Args...)) \{}
\DoxyCodeLine{1184         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___aba19cd111a96b9ae9101b088f40421f4}{def\_buffer}}([func] (\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} \&obj) \{ \textcolor{keywordflow}{return} (obj.*func)(); \});}
\DoxyCodeLine{1185     \}}
\DoxyCodeLine{1186 }
\DoxyCodeLine{1187     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Return, \textcolor{keyword}{typename} Class, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1188     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a738ca7565670cafc37e15ad9805f4667}{def\_buffer}}(Return (Class::*func)(Args...) \textcolor{keyword}{const}) \{}
\DoxyCodeLine{1189         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___aba19cd111a96b9ae9101b088f40421f4}{def\_buffer}}([func] (\textcolor{keyword}{const} \mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} \&obj) \{ \textcolor{keywordflow}{return} (obj.*func)(); \});}
\DoxyCodeLine{1190     \}}
\DoxyCodeLine{1191 }
\DoxyCodeLine{1192     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, \textcolor{keyword}{typename} D, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1193     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a6f34c2fe63f3aa5e7b5cfa7f65194923}{def\_readwrite}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, D C::*\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}, \textcolor{keyword}{const} Extra\&... extra) \{}
\DoxyCodeLine{1194         \textcolor{keyword}{static\_assert}(std::is\_same<C, type>::value || std::is\_base\_of<C, type>::value, \textcolor{stringliteral}{"{}def\_readwrite() requires a class member (or base class member)"{}});}
\DoxyCodeLine{1195         \mbox{\hyperlink{classcpp__function}{cpp\_function}} fget([\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}](\textcolor{keyword}{const} \mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} \&c) -\/> \textcolor{keyword}{const} D \&\{ \textcolor{keywordflow}{return} c.*\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}; \}, \mbox{\hyperlink{structis__method}{is\_method}}(*\textcolor{keyword}{this})),}
\DoxyCodeLine{1196                      fset([\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}](\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} \&c, \textcolor{keyword}{const} D \&value) \{ c.*\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}} = value; \}, \mbox{\hyperlink{structis__method}{is\_method}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{1197         \mbox{\hyperlink{classclass___a941d2d1856e9666b3791d36c165b485e}{def\_property}}(\mbox{\hyperlink{structname}{name}}, fget, fset, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}}, extra...);}
\DoxyCodeLine{1198         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1199     \}}
\DoxyCodeLine{1200 }
\DoxyCodeLine{1201     \textcolor{keyword}{template} <\textcolor{keyword}{typename} C, \textcolor{keyword}{typename} D, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1202     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a55f6176998559b72eb6a1f3ee6f74748}{def\_readonly}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} D C::*\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1203         \textcolor{keyword}{static\_assert}(std::is\_same<C, type>::value || std::is\_base\_of<C, type>::value, \textcolor{stringliteral}{"{}def\_readonly() requires a class member (or base class member)"{}});}
\DoxyCodeLine{1204         \mbox{\hyperlink{classcpp__function}{cpp\_function}} fget([\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}](\textcolor{keyword}{const} \mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}} \&c) -\/> \textcolor{keyword}{const} D \&\{ \textcolor{keywordflow}{return} c.*\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}; \}, \mbox{\hyperlink{structis__method}{is\_method}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{1205         \mbox{\hyperlink{classclass___a993dfb170163f966348841230687badc}{def\_property\_readonly}}(\mbox{\hyperlink{structname}{name}}, fget, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}}, extra...);}
\DoxyCodeLine{1206         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1207     \}}
\DoxyCodeLine{1208 }
\DoxyCodeLine{1209     \textcolor{keyword}{template} <\textcolor{keyword}{typename} D, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1210     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a743ae8f423c75b2895184d0f6014e664}{def\_readwrite\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, D *\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1211         \mbox{\hyperlink{classcpp__function}{cpp\_function}} fget([\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}](\textcolor{keywordtype}{object}) -\/> \textcolor{keyword}{const} D \&\{ \textcolor{keywordflow}{return} *\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}; \}, \mbox{\hyperlink{structscope}{scope}}(*\textcolor{keyword}{this})),}
\DoxyCodeLine{1212                      fset([\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}](\textcolor{keywordtype}{object}, \textcolor{keyword}{const} D \&value) \{ *\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}} = value; \}, \mbox{\hyperlink{structscope}{scope}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{1213         \mbox{\hyperlink{classclass___a391c5aac5bed88bdf450ca94e3d31566}{def\_property\_static}}(\mbox{\hyperlink{structname}{name}}, fget, fset, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841ab8af13ea9c8fe890c9979a1fa8dbde22}{return\_value\_policy::reference}}, extra...);}
\DoxyCodeLine{1214         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1215     \}}
\DoxyCodeLine{1216 }
\DoxyCodeLine{1217     \textcolor{keyword}{template} <\textcolor{keyword}{typename} D, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1218     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a1aaad7064688f3bf0053f5d22ca6bb1c}{def\_readonly\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} D *\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1219         \mbox{\hyperlink{classcpp__function}{cpp\_function}} fget([\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}](\textcolor{keywordtype}{object}) -\/> \textcolor{keyword}{const} D \&\{ \textcolor{keywordflow}{return} *\mbox{\hyperlink{blas_8h_a50faafc66cb2a46626f678e7c23b31a4}{pm}}; \}, \mbox{\hyperlink{structscope}{scope}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{1220         \mbox{\hyperlink{classclass___ad25b439ba08cf5f1022e49ec704be249}{def\_property\_readonly\_static}}(\mbox{\hyperlink{structname}{name}}, fget, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841ab8af13ea9c8fe890c9979a1fa8dbde22}{return\_value\_policy::reference}}, extra...);}
\DoxyCodeLine{1221         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1222     \}}
\DoxyCodeLine{1223 }
\DoxyCodeLine{1225     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Getter, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1226     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a993dfb170163f966348841230687badc}{def\_property\_readonly}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Getter \&fget, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1227         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a993dfb170163f966348841230687badc}{def\_property\_readonly}}(\mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{classcpp__function}{cpp\_function}}(method\_adaptor<type>(fget)),}
\DoxyCodeLine{1228                                      \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}}, extra...);}
\DoxyCodeLine{1229     \}}
\DoxyCodeLine{1230 }
\DoxyCodeLine{1232     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1233     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a7eddb6e2d43bf3785748cea473672af4}{def\_property\_readonly}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fget, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1234         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a941d2d1856e9666b3791d36c165b485e}{def\_property}}(\mbox{\hyperlink{structname}{name}}, fget, \textcolor{keyword}{nullptr}, extra...);}
\DoxyCodeLine{1235     \}}
\DoxyCodeLine{1236 }
\DoxyCodeLine{1238     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Getter, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1239     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___ad25b439ba08cf5f1022e49ec704be249}{def\_property\_readonly\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Getter \&fget, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1240         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___ad25b439ba08cf5f1022e49ec704be249}{def\_property\_readonly\_static}}(\mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{classcpp__function}{cpp\_function}}(fget), \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841ab8af13ea9c8fe890c9979a1fa8dbde22}{return\_value\_policy::reference}}, extra...);}
\DoxyCodeLine{1241     \}}
\DoxyCodeLine{1242 }
\DoxyCodeLine{1244     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1245     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a0846bd038588481373d8b978d9295e4b}{def\_property\_readonly\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fget, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1246         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a391c5aac5bed88bdf450ca94e3d31566}{def\_property\_static}}(\mbox{\hyperlink{structname}{name}}, fget, \textcolor{keyword}{nullptr}, extra...);}
\DoxyCodeLine{1247     \}}
\DoxyCodeLine{1248 }
\DoxyCodeLine{1250     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Getter, \textcolor{keyword}{typename} Setter, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1251     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a941d2d1856e9666b3791d36c165b485e}{def\_property}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Getter \&fget, \textcolor{keyword}{const} Setter \&fset, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1252         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a941d2d1856e9666b3791d36c165b485e}{def\_property}}(\mbox{\hyperlink{structname}{name}}, fget, \mbox{\hyperlink{classcpp__function}{cpp\_function}}(method\_adaptor<type>(fset)), extra...);}
\DoxyCodeLine{1253     \}}
\DoxyCodeLine{1254     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Getter, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1255     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a5db8b164b1c4153ffc61b4a1c0cbb231}{def\_property}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Getter \&fget, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fset, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1256         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a941d2d1856e9666b3791d36c165b485e}{def\_property}}(\mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{classcpp__function}{cpp\_function}}(method\_adaptor<type>(fget)), fset,}
\DoxyCodeLine{1257                             \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}}, extra...);}
\DoxyCodeLine{1258     \}}
\DoxyCodeLine{1259 }
\DoxyCodeLine{1261     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1262     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a2c4033db43cd633826dd5b130cda953a}{def\_property}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fget, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fset, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1263         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a391c5aac5bed88bdf450ca94e3d31566}{def\_property\_static}}(\mbox{\hyperlink{structname}{name}}, fget, fset, \mbox{\hyperlink{structis__method}{is\_method}}(*\textcolor{keyword}{this}), extra...);}
\DoxyCodeLine{1264     \}}
\DoxyCodeLine{1265 }
\DoxyCodeLine{1267     \textcolor{keyword}{template} <\textcolor{keyword}{typename} Getter, \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1268     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a391c5aac5bed88bdf450ca94e3d31566}{def\_property\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Getter \&fget, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fset, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1269         \textcolor{keywordflow}{return} \mbox{\hyperlink{classclass___a391c5aac5bed88bdf450ca94e3d31566}{def\_property\_static}}(\mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{classcpp__function}{cpp\_function}}(fget), fset, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841ab8af13ea9c8fe890c9979a1fa8dbde22}{return\_value\_policy::reference}}, extra...);}
\DoxyCodeLine{1270     \}}
\DoxyCodeLine{1271 }
\DoxyCodeLine{1273     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1274     \mbox{\hyperlink{classclass__}{class\_}} \&\mbox{\hyperlink{classclass___a5b28e6b665da59a9a98bcb21921e2bf0}{def\_property\_static}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fget, \textcolor{keyword}{const} \mbox{\hyperlink{classcpp__function}{cpp\_function}} \&fset, \textcolor{keyword}{const} Extra\& ...extra) \{}
\DoxyCodeLine{1275         \textcolor{keyword}{static\_assert}( 0 == \mbox{\hyperlink{detail_2common_8h_a8b3721f762a0f4ae4319f682c8fa7026}{detail::constexpr\_sum}}(std::is\_base\_of<arg, Extra>::value...),}
\DoxyCodeLine{1276                       \textcolor{stringliteral}{"{}Argument annotations are not allowed for properties"{}});}
\DoxyCodeLine{1277         \textcolor{keyword}{auto} rec\_fget = \mbox{\hyperlink{classclass___a37d12d329ff10a184ea8b9b74b56bd9b}{get\_function\_record}}(fget), rec\_fset = \mbox{\hyperlink{classclass___a37d12d329ff10a184ea8b9b74b56bd9b}{get\_function\_record}}(fset);}
\DoxyCodeLine{1278         \textcolor{keyword}{auto} *rec\_active = rec\_fget;}
\DoxyCodeLine{1279         \textcolor{keywordflow}{if} (rec\_fget) \{}
\DoxyCodeLine{1280            \textcolor{keywordtype}{char} *doc\_prev = rec\_fget-\/>doc; \textcolor{comment}{/* 'extra' field may include a property-\/specific documentation string */}}
\DoxyCodeLine{1281            \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{detail::process\_attributes<Extra...>::init}}(extra..., rec\_fget);}
\DoxyCodeLine{1282            \textcolor{keywordflow}{if} (rec\_fget-\/>doc \&\& rec\_fget-\/>doc != doc\_prev) \{}
\DoxyCodeLine{1283               free(doc\_prev);}
\DoxyCodeLine{1284               rec\_fget-\/>doc = strdup(rec\_fget-\/>doc);}
\DoxyCodeLine{1285            \}}
\DoxyCodeLine{1286         \}}
\DoxyCodeLine{1287         \textcolor{keywordflow}{if} (rec\_fset) \{}
\DoxyCodeLine{1288             \textcolor{keywordtype}{char} *doc\_prev = rec\_fset-\/>doc;}
\DoxyCodeLine{1289             \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{detail::process\_attributes<Extra...>::init}}(extra..., rec\_fset);}
\DoxyCodeLine{1290             \textcolor{keywordflow}{if} (rec\_fset-\/>doc \&\& rec\_fset-\/>doc != doc\_prev) \{}
\DoxyCodeLine{1291                 free(doc\_prev);}
\DoxyCodeLine{1292                 rec\_fset-\/>doc = strdup(rec\_fset-\/>doc);}
\DoxyCodeLine{1293             \}}
\DoxyCodeLine{1294             \textcolor{keywordflow}{if} (! rec\_active) rec\_active = rec\_fset;}
\DoxyCodeLine{1295         \}}
\DoxyCodeLine{1296         def\_property\_static\_impl(\mbox{\hyperlink{structname}{name}}, fget, fset, rec\_active);}
\DoxyCodeLine{1297         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1298     \}}
\DoxyCodeLine{1299 }
\DoxyCodeLine{1300 \textcolor{keyword}{private}:}
\DoxyCodeLine{1302     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1303     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___a0b9fc3852fd1fd8959fa58f3a9d9b92f}{init\_holder}}(detail::instance *inst, detail::value\_and\_holder \&v\_h,}
\DoxyCodeLine{1304             \textcolor{keyword}{const} \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} * \textcolor{comment}{/* unused */}, \textcolor{keyword}{const} std::enable\_shared\_from\_this<T> * \textcolor{comment}{/* dummy */}) \{}
\DoxyCodeLine{1305         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{1306             \textcolor{keyword}{auto} sh = std::dynamic\_pointer\_cast<typename holder\_type::element\_type>(}
\DoxyCodeLine{1307                     v\_h.value\_ptr<\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}}>()-\/>shared\_from\_this());}
\DoxyCodeLine{1308             \textcolor{keywordflow}{if} (sh) \{}
\DoxyCodeLine{1309                 \textcolor{keyword}{new} (std::addressof(v\_h.holder<\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}>())) \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}(std::move(sh));}
\DoxyCodeLine{1310                 v\_h.set\_holder\_constructed();}
\DoxyCodeLine{1311             \}}
\DoxyCodeLine{1312         \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::bad\_weak\_ptr \&) \{\}}
\DoxyCodeLine{1313 }
\DoxyCodeLine{1314         \textcolor{keywordflow}{if} (!v\_h.holder\_constructed() \&\& inst-\/>owned) \{}
\DoxyCodeLine{1315             \textcolor{keyword}{new} (std::addressof(v\_h.holder<\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}>())) \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}(v\_h.value\_ptr<\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}}>());}
\DoxyCodeLine{1316             v\_h.set\_holder\_constructed();}
\DoxyCodeLine{1317         \}}
\DoxyCodeLine{1318     \}}
\DoxyCodeLine{1319 }
\DoxyCodeLine{1320     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___abc6798d9cce39b2bff9a32200c67f036}{init\_holder\_from\_existing}}(\textcolor{keyword}{const} detail::value\_and\_holder \&v\_h,}
\DoxyCodeLine{1321             \textcolor{keyword}{const} \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} *holder\_ptr, std::true\_type \textcolor{comment}{/*is\_copy\_constructible*/}) \{}
\DoxyCodeLine{1322         \textcolor{keyword}{new} (std::addressof(v\_h.holder<\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}>())) \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}(*\textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} *\textcolor{keyword}{>}(holder\_ptr));}
\DoxyCodeLine{1323     \}}
\DoxyCodeLine{1324 }
\DoxyCodeLine{1325     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___ae9aea4b6092c2d1d3fd70205ce06a2ec}{init\_holder\_from\_existing}}(\textcolor{keyword}{const} detail::value\_and\_holder \&v\_h,}
\DoxyCodeLine{1326             \textcolor{keyword}{const} \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} *holder\_ptr, std::false\_type \textcolor{comment}{/*is\_copy\_constructible*/}) \{}
\DoxyCodeLine{1327         \textcolor{keyword}{new} (std::addressof(v\_h.holder<\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}>())) \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}(std::move(*\textcolor{keyword}{const\_cast<}\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} *\textcolor{keyword}{>}(holder\_ptr)));}
\DoxyCodeLine{1328     \}}
\DoxyCodeLine{1329 }
\DoxyCodeLine{1331     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___adeece97080849a4a259d82c5bf3a7a8e}{init\_holder}}(detail::instance *inst, detail::value\_and\_holder \&v\_h,}
\DoxyCodeLine{1332             \textcolor{keyword}{const} \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} *holder\_ptr, \textcolor{keyword}{const} \textcolor{keywordtype}{void} * \textcolor{comment}{/* dummy -\/-\/ not enable\_shared\_from\_this<T>) */}) \{}
\DoxyCodeLine{1333         \textcolor{keywordflow}{if} (holder\_ptr) \{}
\DoxyCodeLine{1334             \mbox{\hyperlink{classclass___abc6798d9cce39b2bff9a32200c67f036}{init\_holder\_from\_existing}}(v\_h, holder\_ptr, std::is\_copy\_constructible<holder\_type>());}
\DoxyCodeLine{1335             v\_h.set\_holder\_constructed();}
\DoxyCodeLine{1336         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inst-\/>owned || detail::always\_construct\_holder<holder\_type>::value) \{}
\DoxyCodeLine{1337             \textcolor{keyword}{new} (std::addressof(v\_h.holder<\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}>())) \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}(v\_h.value\_ptr<\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}}>());}
\DoxyCodeLine{1338             v\_h.set\_holder\_constructed();}
\DoxyCodeLine{1339         \}}
\DoxyCodeLine{1340     \}}
\DoxyCodeLine{1341 }
\DoxyCodeLine{1346     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___a20391d006c3476cc8f0317a7e82dccfe}{init\_instance}}(detail::instance *inst, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *holder\_ptr) \{}
\DoxyCodeLine{1347         \textcolor{keyword}{auto} v\_h = inst-\/>get\_value\_and\_holder(\mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(\textcolor{keyword}{typeid}(\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}})));}
\DoxyCodeLine{1348         \textcolor{keywordflow}{if} (!v\_h.instance\_registered()) \{}
\DoxyCodeLine{1349             \mbox{\hyperlink{class_8h_a6dd9d77b6860f791d6c520484f039da9}{register\_instance}}(inst, v\_h.value\_ptr(), v\_h.type);}
\DoxyCodeLine{1350             v\_h.set\_instance\_registered();}
\DoxyCodeLine{1351         \}}
\DoxyCodeLine{1352         \mbox{\hyperlink{classclass___a0b9fc3852fd1fd8959fa58f3a9d9b92f}{init\_holder}}(inst, v\_h, (\textcolor{keyword}{const} \mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}} *) holder\_ptr, v\_h.value\_ptr<\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}}>());}
\DoxyCodeLine{1353     \}}
\DoxyCodeLine{1354 }
\DoxyCodeLine{1356     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{classclass___a6b1260e369fcbc36da23cc813c88d163}{dealloc}}(detail::value\_and\_holder \&v\_h) \{}
\DoxyCodeLine{1357         \textcolor{keywordflow}{if} (v\_h.holder\_constructed()) \{}
\DoxyCodeLine{1358             v\_h.holder<\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}>().\string~\mbox{\hyperlink{classclass___ad22258342739bda577366b3a13a98796}{holder\_type}}();}
\DoxyCodeLine{1359             v\_h.set\_holder\_constructed(\textcolor{keyword}{false});}
\DoxyCodeLine{1360         \}}
\DoxyCodeLine{1361         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1362             \mbox{\hyperlink{pybind11_8h_a4f9edb48e1b7e9f3cf1dfa835cc39be2}{detail::call\_operator\_delete}}(v\_h.value\_ptr<\mbox{\hyperlink{classclass___a90e08a4ecffb596c1f1055f47747ad91}{type}}>(),}
\DoxyCodeLine{1363                 v\_h.type-\/>type\_size,}
\DoxyCodeLine{1364                 v\_h.type-\/>type\_align}
\DoxyCodeLine{1365             );}
\DoxyCodeLine{1366         \}}
\DoxyCodeLine{1367         v\_h.value\_ptr() = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1368     \}}
\DoxyCodeLine{1369 }
\DoxyCodeLine{1370     \textcolor{keyword}{static} detail::function\_record *\mbox{\hyperlink{classclass___a37d12d329ff10a184ea8b9b74b56bd9b}{get\_function\_record}}(\mbox{\hyperlink{classhandle}{handle}} h) \{}
\DoxyCodeLine{1371         h = \mbox{\hyperlink{pytypes_8h_a1e02a729a8736412f4c310004d34c105}{detail::get\_function}}(h);}
\DoxyCodeLine{1372         \textcolor{keywordflow}{return} h ? (detail::function\_record *) reinterpret\_borrow<capsule>(PyCFunction\_GET\_SELF(h.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}()))}
\DoxyCodeLine{1373                  : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1374     \}}
\DoxyCodeLine{1375 \};}
\DoxyCodeLine{1376 }
\DoxyCodeLine{1378 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args> detail::initimpl::constructor<Args...> \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}() \{ \textcolor{keywordflow}{return} \{\}; \}}
\DoxyCodeLine{1381 \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Args> detail::initimpl::alias\_constructor<Args...> \mbox{\hyperlink{pybind11_8h_a40c2c8e69bf2708e60893e060b172d3a}{init\_alias}}() \{ \textcolor{keywordflow}{return} \{\}; \}}
\DoxyCodeLine{1382 }
\DoxyCodeLine{1384 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Func, \textcolor{keyword}{typename} Ret = detail::initimpl::factory<Func>>}
\DoxyCodeLine{1385 Ret \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}(Func \&\&\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}}) \{ \textcolor{keywordflow}{return} \{std::forward<Func>(\mbox{\hyperlink{rings_8cpp_a77369fc4d5326a16d2c603e032023528}{f}})\}; \}}
\DoxyCodeLine{1386 }
\DoxyCodeLine{1389 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CFunc, \textcolor{keyword}{typename} AFunc, \textcolor{keyword}{typename} Ret = detail::initimpl::factory<CFunc, AFunc>>}
\DoxyCodeLine{1390 Ret \mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}(CFunc \&\&c, AFunc \&\&a) \{}
\DoxyCodeLine{1391     \textcolor{keywordflow}{return} \{std::forward<CFunc>(c), std::forward<AFunc>(a)\};}
\DoxyCodeLine{1392 \}}
\DoxyCodeLine{1393 }
\DoxyCodeLine{1396 \textcolor{keyword}{template} <\textcolor{keyword}{typename} GetState, \textcolor{keyword}{typename} SetState>}
\DoxyCodeLine{1397 detail::initimpl::pickle\_factory<GetState, SetState> \mbox{\hyperlink{pybind11_8h_ac6c6b96e22a5ef72511d5aac6988c8e5}{pickle}}(GetState \&\&\mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}}, SetState \&\&s) \{}
\DoxyCodeLine{1398     \textcolor{keywordflow}{return} \{std::forward<GetState>(\mbox{\hyperlink{rings_8cpp_aa9df5aa3976a89a96a5f1c7611d42938}{g}}), std::forward<SetState>(s)\};}
\DoxyCodeLine{1399 \}}
\DoxyCodeLine{1400 }
\DoxyCodeLine{1401 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{1402 struct \mbox{\hyperlink{structenum__base}{enum\_base}} \{}
\DoxyCodeLine{1403     \mbox{\hyperlink{structenum__base_a4798327fe83475e6f117dc5d03709d70}{enum\_base}}(\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structbase}{base}}, \mbox{\hyperlink{classhandle}{handle}} parent) : m\_base(\mbox{\hyperlink{structbase}{base}}), m\_parent(parent) \{ \}}
\DoxyCodeLine{1404 }
\DoxyCodeLine{1405     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} \mbox{\hyperlink{structenum__base_a0c6afbca40877b86be3840947b39596c}{init}}(\textcolor{keywordtype}{bool} is\_arithmetic, \textcolor{keywordtype}{bool} is\_convertible) \{}
\DoxyCodeLine{1406         m\_base.attr(\textcolor{stringliteral}{"{}\_\_entries"{}}) = \mbox{\hyperlink{classdict}{dict}}();}
\DoxyCodeLine{1407         \textcolor{keyword}{auto} \textcolor{keyword}{property} = \mbox{\hyperlink{classhandle}{handle}}((PyObject *) \&PyProperty\_Type);}
\DoxyCodeLine{1408         \textcolor{keyword}{auto} static\_property = \mbox{\hyperlink{classhandle}{handle}}((PyObject *) \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().static\_property\_type);}
\DoxyCodeLine{1409 }
\DoxyCodeLine{1410         m\_base.attr(\textcolor{stringliteral}{"{}\_\_repr\_\_"{}}) = \mbox{\hyperlink{classcpp__function}{cpp\_function}}(}
\DoxyCodeLine{1411             [](\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structarg}{arg}}) -\/> \mbox{\hyperlink{classstr}{str}} \{}
\DoxyCodeLine{1412                 \mbox{\hyperlink{classhandle}{handle}} type = \mbox{\hyperlink{structarg}{arg}}.get\_type();}
\DoxyCodeLine{1413                 \textcolor{keywordtype}{object} type\_name = type.attr(\textcolor{stringliteral}{"{}\_\_name\_\_"{}});}
\DoxyCodeLine{1414                 \mbox{\hyperlink{classdict}{dict}} entries = type.attr(\textcolor{stringliteral}{"{}\_\_entries"{}});}
\DoxyCodeLine{1415                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&kv : entries) \{}
\DoxyCodeLine{1416                     \textcolor{keywordtype}{object} other = kv.second[\mbox{\hyperlink{classint__}{int\_}}(0)];}
\DoxyCodeLine{1417                     \textcolor{keywordflow}{if} (other.equal(\mbox{\hyperlink{structarg}{arg}}))}
\DoxyCodeLine{1418                         \textcolor{keywordflow}{return} pybind11::str(\textcolor{stringliteral}{"{}\{\}.\{\}"{}}).format(type\_name, kv.first);}
\DoxyCodeLine{1419                 \}}
\DoxyCodeLine{1420                 \textcolor{keywordflow}{return} pybind11::str(\textcolor{stringliteral}{"{}\{\}.???"{}}).format(type\_name);}
\DoxyCodeLine{1421             \}, \mbox{\hyperlink{structis__method}{is\_method}}(m\_base)}
\DoxyCodeLine{1422         );}
\DoxyCodeLine{1423 }
\DoxyCodeLine{1424         m\_base.attr(\textcolor{stringliteral}{"{}name"{}}) = property(\mbox{\hyperlink{classcpp__function}{cpp\_function}}(}
\DoxyCodeLine{1425             [](\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structarg}{arg}}) -\/> \mbox{\hyperlink{classstr}{str}} \{}
\DoxyCodeLine{1426                 \mbox{\hyperlink{classdict}{dict}} entries = \mbox{\hyperlink{structarg}{arg}}.get\_type().attr(\textcolor{stringliteral}{"{}\_\_entries"{}});}
\DoxyCodeLine{1427                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&kv : entries) \{}
\DoxyCodeLine{1428                     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classhandle}{handle}}(kv.second[\mbox{\hyperlink{classint__}{int\_}}(0)]).equal(\mbox{\hyperlink{structarg}{arg}}))}
\DoxyCodeLine{1429                         \textcolor{keywordflow}{return} pybind11::str(kv.first);}
\DoxyCodeLine{1430                 \}}
\DoxyCodeLine{1431                 \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}???"{}};}
\DoxyCodeLine{1432             \}, \mbox{\hyperlink{structis__method}{is\_method}}(m\_base)}
\DoxyCodeLine{1433         ));}
\DoxyCodeLine{1434 }
\DoxyCodeLine{1435         m\_base.attr(\textcolor{stringliteral}{"{}\_\_doc\_\_"{}}) = static\_property(\mbox{\hyperlink{classcpp__function}{cpp\_function}}(}
\DoxyCodeLine{1436             [](\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structarg}{arg}}) -\/> std::string \{}
\DoxyCodeLine{1437                 std::string docstring;}
\DoxyCodeLine{1438                 \mbox{\hyperlink{classdict}{dict}} entries = \mbox{\hyperlink{structarg}{arg}}.attr(\textcolor{stringliteral}{"{}\_\_entries"{}});}
\DoxyCodeLine{1439                 \textcolor{keywordflow}{if} (((PyTypeObject *) \mbox{\hyperlink{structarg}{arg}}.ptr())-\/>tp\_doc)}
\DoxyCodeLine{1440                     docstring += std::string(((PyTypeObject *) \mbox{\hyperlink{structarg}{arg}}.ptr())-\/>tp\_doc) + \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{1441                 docstring += \textcolor{stringliteral}{"{}Members:"{}};}
\DoxyCodeLine{1442                 for (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&kv : entries) \{}
\DoxyCodeLine{1443                     \textcolor{keyword}{auto} key = std::string(pybind11::str(kv.first));}
\DoxyCodeLine{1444                     \textcolor{keyword}{auto} comment = kv.second[\mbox{\hyperlink{classint__}{int\_}}(1)];}
\DoxyCodeLine{1445                     docstring += \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n  "{}} + key;}
\DoxyCodeLine{1446                     \textcolor{keywordflow}{if} (!comment.is\_none())}
\DoxyCodeLine{1447                         docstring += \textcolor{stringliteral}{"{} : "{}} + (std::string) pybind11::str(comment);}
\DoxyCodeLine{1448                 \}}
\DoxyCodeLine{1449                 \textcolor{keywordflow}{return} docstring;}
\DoxyCodeLine{1450             \}}
\DoxyCodeLine{1451         ), \mbox{\hyperlink{classnone}{none}}(), \mbox{\hyperlink{classnone}{none}}(), \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{1452 }
\DoxyCodeLine{1453         m\_base.attr(\textcolor{stringliteral}{"{}\_\_members\_\_"{}}) = static\_property(\mbox{\hyperlink{classcpp__function}{cpp\_function}}(}
\DoxyCodeLine{1454             [](\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structarg}{arg}}) -\/> \mbox{\hyperlink{classdict}{dict}} \{}
\DoxyCodeLine{1455                 \mbox{\hyperlink{classdict}{dict}} entries = \mbox{\hyperlink{structarg}{arg}}.attr(\textcolor{stringliteral}{"{}\_\_entries"{}}), m;}
\DoxyCodeLine{1456                 \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&kv : entries)}
\DoxyCodeLine{1457                     m[kv.first] = kv.second[\mbox{\hyperlink{classint__}{int\_}}(0)];}
\DoxyCodeLine{1458                 \textcolor{keywordflow}{return} m;}
\DoxyCodeLine{1459             \}), \mbox{\hyperlink{classnone}{none}}(), \mbox{\hyperlink{classnone}{none}}(), \textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{1460         );}
\DoxyCodeLine{1461 }
\DoxyCodeLine{1462 \textcolor{preprocessor}{        \#define PYBIND11\_ENUM\_OP\_STRICT(op, expr, strict\_behavior)                     \(\backslash\)}}
\DoxyCodeLine{1463 \textcolor{preprocessor}{            m\_base.attr(op) = cpp\_function(                                            \(\backslash\)}}
\DoxyCodeLine{1464 \textcolor{preprocessor}{                [](object a, object b) \{                                               \(\backslash\)}}
\DoxyCodeLine{1465 \textcolor{preprocessor}{                    if (!a.get\_type().is(b.get\_type()))                                \(\backslash\)}}
\DoxyCodeLine{1466 \textcolor{preprocessor}{                        strict\_behavior;                                               \(\backslash\)}}
\DoxyCodeLine{1467 \textcolor{preprocessor}{                    return expr;                                                       \(\backslash\)}}
\DoxyCodeLine{1468 \textcolor{preprocessor}{                \},                                                                     \(\backslash\)}}
\DoxyCodeLine{1469 \textcolor{preprocessor}{                is\_method(m\_base))}}
\DoxyCodeLine{1470 }
\DoxyCodeLine{1471 \textcolor{preprocessor}{        \#define PYBIND11\_ENUM\_OP\_CONV(op, expr)                                        \(\backslash\)}}
\DoxyCodeLine{1472 \textcolor{preprocessor}{            m\_base.attr(op) = cpp\_function(                                            \(\backslash\)}}
\DoxyCodeLine{1473 \textcolor{preprocessor}{                [](object a\_, object b\_) \{                                             \(\backslash\)}}
\DoxyCodeLine{1474 \textcolor{preprocessor}{                    int\_ a(a\_), b(b\_);                                                 \(\backslash\)}}
\DoxyCodeLine{1475 \textcolor{preprocessor}{                    return expr;                                                       \(\backslash\)}}
\DoxyCodeLine{1476 \textcolor{preprocessor}{                \},                                                                     \(\backslash\)}}
\DoxyCodeLine{1477 \textcolor{preprocessor}{                is\_method(m\_base))}}
\DoxyCodeLine{1478 }
\DoxyCodeLine{1479 \textcolor{preprocessor}{        \#define PYBIND11\_ENUM\_OP\_CONV\_LHS(op, expr)                                    \(\backslash\)}}
\DoxyCodeLine{1480 \textcolor{preprocessor}{            m\_base.attr(op) = cpp\_function(                                            \(\backslash\)}}
\DoxyCodeLine{1481 \textcolor{preprocessor}{                [](object a\_, object b) \{                                              \(\backslash\)}}
\DoxyCodeLine{1482 \textcolor{preprocessor}{                    int\_ a(a\_);                                                        \(\backslash\)}}
\DoxyCodeLine{1483 \textcolor{preprocessor}{                    return expr;                                                       \(\backslash\)}}
\DoxyCodeLine{1484 \textcolor{preprocessor}{                \},                                                                     \(\backslash\)}}
\DoxyCodeLine{1485 \textcolor{preprocessor}{                is\_method(m\_base))}}
\DoxyCodeLine{1486 }
\DoxyCodeLine{1487         \textcolor{keywordflow}{if} (is\_convertible) \{}
\DoxyCodeLine{1488             \mbox{\hyperlink{pybind11_8h_a1af9d4d51bae345dfc06b6c6fcfd9fdb}{PYBIND11\_ENUM\_OP\_CONV\_LHS}}(\textcolor{stringliteral}{"{}\_\_eq\_\_"{}}, !b.is\_none() \&\&  a.equal(b));}
\DoxyCodeLine{1489             \mbox{\hyperlink{pybind11_8h_a1af9d4d51bae345dfc06b6c6fcfd9fdb}{PYBIND11\_ENUM\_OP\_CONV\_LHS}}(\textcolor{stringliteral}{"{}\_\_ne\_\_"{}},  b.is\_none() || !a.equal(b));}
\DoxyCodeLine{1490 }
\DoxyCodeLine{1491             \textcolor{keywordflow}{if} (is\_arithmetic) \{}
\DoxyCodeLine{1492                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_lt\_\_"{}},   a <  b);}
\DoxyCodeLine{1493                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_gt\_\_"{}},   a >  b);}
\DoxyCodeLine{1494                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_le\_\_"{}},   a <= b);}
\DoxyCodeLine{1495                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_ge\_\_"{}},   a >= b);}
\DoxyCodeLine{1496                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_and\_\_"{}},  a \&  b);}
\DoxyCodeLine{1497                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_rand\_\_"{}}, a \&  b);}
\DoxyCodeLine{1498                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_or\_\_"{}},   a |  b);}
\DoxyCodeLine{1499                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_ror\_\_"{}},  a |  b);}
\DoxyCodeLine{1500                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_xor\_\_"{}},  a \string^  b);}
\DoxyCodeLine{1501                 \mbox{\hyperlink{pybind11_8h_a91fd1ef72c39ba18ce5223e17d8a1caa}{PYBIND11\_ENUM\_OP\_CONV}}(\textcolor{stringliteral}{"{}\_\_rxor\_\_"{}}, a \string^  b);}
\DoxyCodeLine{1502                 m\_base.attr(\textcolor{stringliteral}{"{}\_\_invert\_\_"{}}) = \mbox{\hyperlink{classcpp__function}{cpp\_function}}(}
\DoxyCodeLine{1503                     [](\textcolor{keywordtype}{object} \mbox{\hyperlink{structarg}{arg}}) \{ \textcolor{keywordflow}{return} \string~(\mbox{\hyperlink{classint__}{int\_}}(\mbox{\hyperlink{structarg}{arg}})); \}, \mbox{\hyperlink{structis__method}{is\_method}}(m\_base));}
\DoxyCodeLine{1504             \}}
\DoxyCodeLine{1505         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1506             \mbox{\hyperlink{pybind11_8h_adade02474502609b96c61b2054218bcf}{PYBIND11\_ENUM\_OP\_STRICT}}(\textcolor{stringliteral}{"{}\_\_eq\_\_"{}},  \mbox{\hyperlink{classint__}{int\_}}(a).equal(\mbox{\hyperlink{classint__}{int\_}}(b)), \textcolor{keywordflow}{return} \textcolor{keyword}{false});}
\DoxyCodeLine{1507             \mbox{\hyperlink{pybind11_8h_adade02474502609b96c61b2054218bcf}{PYBIND11\_ENUM\_OP\_STRICT}}(\textcolor{stringliteral}{"{}\_\_ne\_\_"{}}, !\mbox{\hyperlink{classint__}{int\_}}(a).equal(\mbox{\hyperlink{classint__}{int\_}}(b)), \textcolor{keywordflow}{return} \textcolor{keyword}{true});}
\DoxyCodeLine{1508 }
\DoxyCodeLine{1509             \textcolor{keywordflow}{if} (is\_arithmetic) \{}
\DoxyCodeLine{1510 \textcolor{preprocessor}{                \#define PYBIND11\_THROW throw type\_error("{}Expected an enumeration of matching type!"{}});}
\DoxyCodeLine{1511                 \mbox{\hyperlink{pybind11_8h_adade02474502609b96c61b2054218bcf}{PYBIND11\_ENUM\_OP\_STRICT}}(\textcolor{stringliteral}{"{}\_\_lt\_\_"{}}, \mbox{\hyperlink{classint__}{int\_}}(a) <  \mbox{\hyperlink{classint__}{int\_}}(b), \mbox{\hyperlink{pybind11_8h_acc16e5b178730313f1372d6e1be4e414}{PYBIND11\_THROW}});}
\DoxyCodeLine{1512                 \mbox{\hyperlink{pybind11_8h_adade02474502609b96c61b2054218bcf}{PYBIND11\_ENUM\_OP\_STRICT}}(\textcolor{stringliteral}{"{}\_\_gt\_\_"{}}, \mbox{\hyperlink{classint__}{int\_}}(a) >  \mbox{\hyperlink{classint__}{int\_}}(b), \mbox{\hyperlink{pybind11_8h_acc16e5b178730313f1372d6e1be4e414}{PYBIND11\_THROW}});}
\DoxyCodeLine{1513                 \mbox{\hyperlink{pybind11_8h_adade02474502609b96c61b2054218bcf}{PYBIND11\_ENUM\_OP\_STRICT}}(\textcolor{stringliteral}{"{}\_\_le\_\_"{}}, \mbox{\hyperlink{classint__}{int\_}}(a) <= \mbox{\hyperlink{classint__}{int\_}}(b), \mbox{\hyperlink{pybind11_8h_acc16e5b178730313f1372d6e1be4e414}{PYBIND11\_THROW}});}
\DoxyCodeLine{1514                 \mbox{\hyperlink{pybind11_8h_adade02474502609b96c61b2054218bcf}{PYBIND11\_ENUM\_OP\_STRICT}}(\textcolor{stringliteral}{"{}\_\_ge\_\_"{}}, \mbox{\hyperlink{classint__}{int\_}}(a) >= \mbox{\hyperlink{classint__}{int\_}}(b), \mbox{\hyperlink{pybind11_8h_acc16e5b178730313f1372d6e1be4e414}{PYBIND11\_THROW}});}
\DoxyCodeLine{1515 \textcolor{preprocessor}{                \#undef PYBIND11\_THROW}}
\DoxyCodeLine{1516             \}}
\DoxyCodeLine{1517         \}}
\DoxyCodeLine{1518 }
\DoxyCodeLine{1519 \textcolor{preprocessor}{        \#undef PYBIND11\_ENUM\_OP\_CONV\_LHS}}
\DoxyCodeLine{1520 \textcolor{preprocessor}{        \#undef PYBIND11\_ENUM\_OP\_CONV}}
\DoxyCodeLine{1521 \textcolor{preprocessor}{        \#undef PYBIND11\_ENUM\_OP\_STRICT}}
\DoxyCodeLine{1522 }
\DoxyCodeLine{1523         \textcolor{keywordtype}{object} getstate = \mbox{\hyperlink{classcpp__function}{cpp\_function}}(}
\DoxyCodeLine{1524             [](\textcolor{keywordtype}{object} \mbox{\hyperlink{structarg}{arg}}) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classint__}{int\_}}(\mbox{\hyperlink{structarg}{arg}}); \}, \mbox{\hyperlink{structis__method}{is\_method}}(m\_base));}
\DoxyCodeLine{1525 }
\DoxyCodeLine{1526         m\_base.attr(\textcolor{stringliteral}{"{}\_\_getstate\_\_"{}}) = getstate;}
\DoxyCodeLine{1527         m\_base.attr(\textcolor{stringliteral}{"{}\_\_hash\_\_"{}}) = getstate;}
\DoxyCodeLine{1528     \}}
\DoxyCodeLine{1529 }
\DoxyCodeLine{1530     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} \mbox{\hyperlink{structenum__base_a93a70f7b4e3397302a97d42f7d941793}{value}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* name\_, \textcolor{keywordtype}{object} value, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdoc}{doc}} = \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{1531         \mbox{\hyperlink{classdict}{dict}} entries = m\_base.attr(\textcolor{stringliteral}{"{}\_\_entries"{}});}
\DoxyCodeLine{1532         \mbox{\hyperlink{classstr}{str}} \mbox{\hyperlink{structname}{name}}(name\_);}
\DoxyCodeLine{1533         \textcolor{keywordflow}{if} (entries.\mbox{\hyperlink{classdict_a2f38b348815bbbc385042b249b4177bc}{contains}}(\mbox{\hyperlink{structname}{name}})) \{}
\DoxyCodeLine{1534             std::string type\_name = (std::string) \mbox{\hyperlink{classstr}{str}}(m\_base.attr(\textcolor{stringliteral}{"{}\_\_name\_\_"{}}));}
\DoxyCodeLine{1535             \textcolor{keywordflow}{throw} value\_error(type\_name + \textcolor{stringliteral}{"{}: element \(\backslash\)"{}"{}} + std::string(name\_) + \textcolor{stringliteral}{"{}\(\backslash\)"{} already exists!"{}});}
\DoxyCodeLine{1536         \}}
\DoxyCodeLine{1537 }
\DoxyCodeLine{1538         entries[\mbox{\hyperlink{structname}{name}}] = std::make\_pair(value, \mbox{\hyperlink{structdoc}{doc}});}
\DoxyCodeLine{1539         m\_base.attr(\mbox{\hyperlink{structname}{name}}) = value;}
\DoxyCodeLine{1540     \}}
\DoxyCodeLine{1541 }
\DoxyCodeLine{1542     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} \mbox{\hyperlink{structenum__base_aceb25051fa6f046399a3c6c1c43f1b27}{export\_values}}() \{}
\DoxyCodeLine{1543         \mbox{\hyperlink{classdict}{dict}} entries = m\_base.attr(\textcolor{stringliteral}{"{}\_\_entries"{}});}
\DoxyCodeLine{1544         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&kv : entries)}
\DoxyCodeLine{1545             m\_parent.attr(kv.first) = kv.second[\mbox{\hyperlink{classint__}{int\_}}(0)];}
\DoxyCodeLine{1546     \}}
\DoxyCodeLine{1547 }
\DoxyCodeLine{1548     \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structenum__base_a11a00d03ae8a8f8e302a63f9cee5e5c3}{m\_base}};}
\DoxyCodeLine{1549     \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structenum__base_ac56daf79223e3ac3068558b19a56ede9}{m\_parent}};}
\DoxyCodeLine{1550 \};}
\DoxyCodeLine{1551 }
\DoxyCodeLine{1552 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{1553 }
\DoxyCodeLine{1554 }
\DoxyCodeLine{1555 template <typename Type> class \mbox{\hyperlink{classenum__}{enum\_}} : public \mbox{\hyperlink{classclass__}{class\_}}<Type> \{}
\DoxyCodeLine{1556 \textcolor{keyword}{public}:}
\DoxyCodeLine{1557     \textcolor{keyword}{using} \mbox{\hyperlink{classclass__}{Base}} = \mbox{\hyperlink{classclass__}{class\_<Type>}};}
\DoxyCodeLine{1558     \textcolor{keyword}{using} Base::def;}
\DoxyCodeLine{1559     \textcolor{keyword}{using} Base::attr;}
\DoxyCodeLine{1560     \textcolor{keyword}{using} Base::def\_property\_readonly;}
\DoxyCodeLine{1561     \textcolor{keyword}{using} Base::def\_property\_readonly\_static;}
\DoxyCodeLine{1562     \textcolor{keyword}{using} \mbox{\hyperlink{classenum___a1825e262342ffd5e7ea411185c9d5bd7}{Scalar}} = \textcolor{keyword}{typename} std::underlying\_type<Type>::type;}
\DoxyCodeLine{1563 }
\DoxyCodeLine{1564     \textcolor{keyword}{template} <\textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1565     \mbox{\hyperlink{classenum___a91101e5ded2dc0b8ef0405a7197f1cf1}{enum\_}}(\textcolor{keyword}{const} \mbox{\hyperlink{classhandle}{handle}} \&\mbox{\hyperlink{structscope}{scope}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, \textcolor{keyword}{const} Extra\&... extra)}
\DoxyCodeLine{1566       : \mbox{\hyperlink{classclass__}{class\_}}<Type>(\mbox{\hyperlink{structscope}{scope}}, \mbox{\hyperlink{structname}{name}}, extra...), m\_base(*this, \mbox{\hyperlink{structscope}{scope}}) \{}
\DoxyCodeLine{1567         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} is\_arithmetic = detail::any\_of<std::is\_same<arithmetic, Extra>...>::value;}
\DoxyCodeLine{1568         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} is\_convertible = std::is\_convertible<Type, Scalar>::value;}
\DoxyCodeLine{1569         m\_base.init(is\_arithmetic, is\_convertible);}
\DoxyCodeLine{1570 }
\DoxyCodeLine{1571         def(\mbox{\hyperlink{pybind11_8h_ac4274fb6697bc2dee6b5e3d1170525c0}{init}}([](\mbox{\hyperlink{classenum___a1825e262342ffd5e7ea411185c9d5bd7}{Scalar}} i) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}Type\textcolor{keyword}{>}(i); \}));}
\DoxyCodeLine{1572         def(\textcolor{stringliteral}{"{}\_\_int\_\_"{}}, [](Type value) \{ \textcolor{keywordflow}{return} (\mbox{\hyperlink{classenum___a1825e262342ffd5e7ea411185c9d5bd7}{Scalar}}) value; \});}
\DoxyCodeLine{1573 \textcolor{preprocessor}{        \#if PY\_MAJOR\_VERSION < 3}}
\DoxyCodeLine{1574             def(\textcolor{stringliteral}{"{}\_\_long\_\_"{}}, [](Type value) \{ \textcolor{keywordflow}{return} (\mbox{\hyperlink{classenum___a1825e262342ffd5e7ea411185c9d5bd7}{Scalar}}) value; \});}
\DoxyCodeLine{1575 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{1576 \textcolor{preprocessor}{        \#if PY\_MAJOR\_VERSION > 3 || (PY\_MAJOR\_VERSION == 3 \&\& PY\_MINOR\_VERSION >= 8)}}
\DoxyCodeLine{1577             def(\textcolor{stringliteral}{"{}\_\_index\_\_"{}}, [](Type value) \{ \textcolor{keywordflow}{return} (\mbox{\hyperlink{classenum___a1825e262342ffd5e7ea411185c9d5bd7}{Scalar}}) value; \});}
\DoxyCodeLine{1578 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{1579 }
\DoxyCodeLine{1580         \mbox{\hyperlink{classcpp__function}{cpp\_function}} \mbox{\hyperlink{init_8h_a005bacb0e5e81128b884c04241ccdeb5}{setstate}}(}
\DoxyCodeLine{1581             [](Type \&value, \mbox{\hyperlink{classenum___a1825e262342ffd5e7ea411185c9d5bd7}{Scalar}} \mbox{\hyperlink{structarg}{arg}}) \{ value = \textcolor{keyword}{static\_cast<}Type\textcolor{keyword}{>}(\mbox{\hyperlink{structarg}{arg}}); \},}
\DoxyCodeLine{1582             \mbox{\hyperlink{structis__method}{is\_method}}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{1583         attr(\textcolor{stringliteral}{"{}\_\_setstate\_\_"{}}) = \mbox{\hyperlink{init_8h_a005bacb0e5e81128b884c04241ccdeb5}{setstate}};}
\DoxyCodeLine{1584     \}}
\DoxyCodeLine{1585 }
\DoxyCodeLine{1587     \mbox{\hyperlink{classenum__}{enum\_}}\& \mbox{\hyperlink{classenum___a71773c69cf347efab6f5958ae534e933}{export\_values}}() \{}
\DoxyCodeLine{1588         m\_base.\mbox{\hyperlink{classenum___a71773c69cf347efab6f5958ae534e933}{export\_values}}();}
\DoxyCodeLine{1589         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1590     \}}
\DoxyCodeLine{1591 }
\DoxyCodeLine{1593     \mbox{\hyperlink{classenum__}{enum\_}}\& \mbox{\hyperlink{classenum___a2f2399661dfba16f132c38883977051b}{value}}(\textcolor{keywordtype}{char} \textcolor{keyword}{const}* \mbox{\hyperlink{structname}{name}}, Type value, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structdoc}{doc}} = \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{1594         m\_base.\mbox{\hyperlink{classenum___a2f2399661dfba16f132c38883977051b}{value}}(\mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{pybind11::cast}}(value, \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a12cba3ee81cf4a793796a51b6327c678}{return\_value\_policy::copy}}), \mbox{\hyperlink{structdoc}{doc}});}
\DoxyCodeLine{1595         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{1596     \}}
\DoxyCodeLine{1597 }
\DoxyCodeLine{1598 \textcolor{keyword}{private}:}
\DoxyCodeLine{1599     detail::enum\_base \mbox{\hyperlink{classenum___a1cccd4ad105c9a7023fe6404a9a6dfb0}{m\_base}};}
\DoxyCodeLine{1600 \};}
\DoxyCodeLine{1601 }
\DoxyCodeLine{1602 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{1603 }
\DoxyCodeLine{1604 }
\DoxyCodeLine{1605 inline \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a8930f52c7348c6cf3c2c9195abbb3964}{keep\_alive\_impl}}(\mbox{\hyperlink{classhandle}{handle}} nurse, \mbox{\hyperlink{classhandle}{handle}} patient) \{}
\DoxyCodeLine{1606     \textcolor{keywordflow}{if} (!nurse || !patient)}
\DoxyCodeLine{1607         \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Could not activate keep\_alive!"{}});}
\DoxyCodeLine{1608 }
\DoxyCodeLine{1609     \textcolor{keywordflow}{if} (patient.is\_none() || nurse.is\_none())}
\DoxyCodeLine{1610         \textcolor{keywordflow}{return}; \textcolor{comment}{/* Nothing to keep alive or nothing to be kept alive by */}}
\DoxyCodeLine{1611 }
\DoxyCodeLine{1612     \textcolor{keyword}{auto} tinfo = \mbox{\hyperlink{cast_8h_a9e6ac7e7af67150d979668c1451ae2bf}{all\_type\_info}}(Py\_TYPE(nurse.ptr()));}
\DoxyCodeLine{1613     \textcolor{keywordflow}{if} (!tinfo.empty()) \{}
\DoxyCodeLine{1614         \textcolor{comment}{/* It's a pybind-\/registered type, so we can store the patient in the}}
\DoxyCodeLine{1615 \textcolor{comment}{         * internal list. */}}
\DoxyCodeLine{1616         \mbox{\hyperlink{class_8h_ad51f8b39fe425fd3d4cb873ad3e59999}{add\_patient}}(nurse.ptr(), patient.ptr());}
\DoxyCodeLine{1617     \}}
\DoxyCodeLine{1618     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1619         \textcolor{comment}{/* Fall back to clever approach based on weak references taken from}}
\DoxyCodeLine{1620 \textcolor{comment}{         * Boost.Python. This is not used for pybind-\/registered types because}}
\DoxyCodeLine{1621 \textcolor{comment}{         * the objects can be destroyed out-\/of-\/order in a GC pass. */}}
\DoxyCodeLine{1622         \mbox{\hyperlink{classcpp__function}{cpp\_function}} disable\_lifesupport(}
\DoxyCodeLine{1623             [patient](\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{classweakref}{weakref}}) \{ patient.dec\_ref(); \mbox{\hyperlink{classweakref}{weakref}}.\mbox{\hyperlink{classhandle_a4bd9642229b0b331172c37b02aa73eda}{dec\_ref}}(); \});}
\DoxyCodeLine{1624 }
\DoxyCodeLine{1625         \mbox{\hyperlink{classweakref}{weakref}} \mbox{\hyperlink{namespacenvinfer1_adb7e28fc142f6b26d9988688f9267dbb}{wr}}(nurse, disable\_lifesupport);}
\DoxyCodeLine{1626 }
\DoxyCodeLine{1627         patient.inc\_ref(); \textcolor{comment}{/* reference patient and leak the weak reference */}}
\DoxyCodeLine{1628         (void) \mbox{\hyperlink{namespacenvinfer1_adb7e28fc142f6b26d9988688f9267dbb}{wr}}.release();}
\DoxyCodeLine{1629     \}}
\DoxyCodeLine{1630 \}}
\DoxyCodeLine{1631 }
\DoxyCodeLine{1632 \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a8930f52c7348c6cf3c2c9195abbb3964}{keep\_alive\_impl}}(\textcolor{keywordtype}{size\_t} Nurse, \textcolor{keywordtype}{size\_t} Patient, \mbox{\hyperlink{structfunction__call}{function\_call}} \&call, \mbox{\hyperlink{classhandle}{handle}} ret) \{}
\DoxyCodeLine{1633     \textcolor{keyword}{auto} get\_arg = [\&](\textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{1634         \textcolor{keywordflow}{if} (n == 0)}
\DoxyCodeLine{1635             \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{1636         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n == 1 \&\& call.\mbox{\hyperlink{structfunction__call_a8f9e4659cf3ca4be507d2220420b9c00}{init\_self}})}
\DoxyCodeLine{1637             \textcolor{keywordflow}{return} call.\mbox{\hyperlink{structfunction__call_a8f9e4659cf3ca4be507d2220420b9c00}{init\_self}};}
\DoxyCodeLine{1638         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (n <= call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}.size())}
\DoxyCodeLine{1639             \textcolor{keywordflow}{return} call.\mbox{\hyperlink{structfunction__call_ae77a8a65a8ae5ebbbd2eb17bc9ff54d3}{args}}[n -\/ 1];}
\DoxyCodeLine{1640         \textcolor{keywordflow}{return} \mbox{\hyperlink{classhandle}{handle}}();}
\DoxyCodeLine{1641     \};}
\DoxyCodeLine{1642 }
\DoxyCodeLine{1643     \mbox{\hyperlink{pybind11_8h_a8930f52c7348c6cf3c2c9195abbb3964}{keep\_alive\_impl}}(get\_arg(Nurse), get\_arg(Patient));}
\DoxyCodeLine{1644 \}}
\DoxyCodeLine{1645 }
\DoxyCodeLine{1646 \textcolor{keyword}{inline} std::pair<\textcolor{keyword}{decltype}(\mbox{\hyperlink{structinternals_a6148bb4956e17d8a61f410cac7227d04}{internals::registered\_types\_py}})\mbox{\hyperlink{classiterator}{::iterator}}, \textcolor{keywordtype}{bool}> \mbox{\hyperlink{pybind11_8h_aef025a4af8a46127594ecb41de1094e4}{all\_type\_info\_get\_cache}}(PyTypeObject *type) \{}
\DoxyCodeLine{1647     \textcolor{keyword}{auto} res = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().\mbox{\hyperlink{structinternals_a6148bb4956e17d8a61f410cac7227d04}{registered\_types\_py}}}
\DoxyCodeLine{1648 \textcolor{preprocessor}{\#ifdef \_\_cpp\_lib\_unordered\_map\_try\_emplace}}
\DoxyCodeLine{1649         .try\_emplace(type);}
\DoxyCodeLine{1650 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1651         .emplace(type, std::vector<detail::type\_info *>());}
\DoxyCodeLine{1652 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1653     \textcolor{keywordflow}{if} (res.second) \{}
\DoxyCodeLine{1654         \textcolor{comment}{// New cache entry created; set up a weak reference to automatically remove it if the type}}
\DoxyCodeLine{1655         \textcolor{comment}{// gets destroyed:}}
\DoxyCodeLine{1656         \mbox{\hyperlink{classweakref}{weakref}}((PyObject *) type, \mbox{\hyperlink{classcpp__function}{cpp\_function}}([type](\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{namespacenvinfer1_adb7e28fc142f6b26d9988688f9267dbb}{wr}}) \{}
\DoxyCodeLine{1657             \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{get\_internals}}().\mbox{\hyperlink{structinternals_a6148bb4956e17d8a61f410cac7227d04}{registered\_types\_py}}.erase(type);}
\DoxyCodeLine{1658             \mbox{\hyperlink{namespacenvinfer1_adb7e28fc142f6b26d9988688f9267dbb}{wr}}.dec\_ref();}
\DoxyCodeLine{1659         \})).\mbox{\hyperlink{classobject_a4ce66b1d44b37ae6b28e80228b075aae}{release}}();}
\DoxyCodeLine{1660     \}}
\DoxyCodeLine{1661 }
\DoxyCodeLine{1662     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{1663 \}}
\DoxyCodeLine{1664 }
\DoxyCodeLine{1665 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iterator, \textcolor{keyword}{typename} Sentinel, \textcolor{keywordtype}{bool} KeyIterator, return\_value\_policy Policy>}
\DoxyCodeLine{1666 \textcolor{keyword}{struct }\mbox{\hyperlink{structiterator__state}{iterator\_state}} \{}
\DoxyCodeLine{1667     Iterator \mbox{\hyperlink{structiterator__state_a0d013710bcb43a9d705d82d30fa37aea}{it}};}
\DoxyCodeLine{1668     Sentinel \mbox{\hyperlink{structiterator__state_ae41094904bdf5b2357845a8283cca692}{end}};}
\DoxyCodeLine{1669     \textcolor{keywordtype}{bool} \mbox{\hyperlink{structiterator__state_a466f9a59dcdaefb00103814afbe8fae7}{first\_or\_done}};}
\DoxyCodeLine{1670 \};}
\DoxyCodeLine{1671 }
\DoxyCodeLine{1672 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{1673 }
\DoxyCodeLine{1674 }
\DoxyCodeLine{1675 \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} Policy = \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}},}
\DoxyCodeLine{1676           \textcolor{keyword}{typename} Iterator,}
\DoxyCodeLine{1677           \textcolor{keyword}{typename} Sentinel,}
\DoxyCodeLine{1678           \textcolor{keyword}{typename} ValueType = \textcolor{keyword}{decltype}(*std::declval<Iterator>()),}
\DoxyCodeLine{1679           \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1680 \mbox{\hyperlink{classiterator}{iterator}} \mbox{\hyperlink{pybind11_8h_aaa00ecd4f616ff84b63e81c8e17e457d}{make\_iterator}}(Iterator \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}, Sentinel \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}}, Extra \&\&... extra) \{}
\DoxyCodeLine{1681     \textcolor{keyword}{typedef} detail::iterator\_state<Iterator, Sentinel, false, Policy> state;}
\DoxyCodeLine{1682 }
\DoxyCodeLine{1683     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(\textcolor{keyword}{typeid}(state), \textcolor{keyword}{false})) \{}
\DoxyCodeLine{1684         \mbox{\hyperlink{classclass__}{class\_<state>}}(\mbox{\hyperlink{classhandle}{handle}}(), \textcolor{stringliteral}{"{}iterator"{}}, pybind11::module\_local())}
\DoxyCodeLine{1685             .\mbox{\hyperlink{classclass___a784165521ee3567aad69c3bce78a999a}{def}}(\textcolor{stringliteral}{"{}\_\_iter\_\_"{}}, [](state \&s) -\/> state\& \{ \textcolor{keywordflow}{return} s; \})}
\DoxyCodeLine{1686             .def(\textcolor{stringliteral}{"{}\_\_next\_\_"{}}, [](state \&s) -\/> ValueType \{}
\DoxyCodeLine{1687                 \textcolor{keywordflow}{if} (!s.first\_or\_done)}
\DoxyCodeLine{1688                     ++s.it;}
\DoxyCodeLine{1689                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1690                     s.first\_or\_done = \textcolor{keyword}{false};}
\DoxyCodeLine{1691                 if (s.it == s.end) \{}
\DoxyCodeLine{1692                     s.first\_or\_done = true;}
\DoxyCodeLine{1693                     throw stop\_iteration();}
\DoxyCodeLine{1694                 \}}
\DoxyCodeLine{1695                 \textcolor{keywordflow}{return} *s.it;}
\DoxyCodeLine{1696             \}, std::forward<Extra>(extra)..., Policy);}
\DoxyCodeLine{1697     \}}
\DoxyCodeLine{1698 }
\DoxyCodeLine{1699     \textcolor{keywordflow}{return} \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{cast}}(state\{\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}, \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}}, \textcolor{keyword}{true}\});}
\DoxyCodeLine{1700 \}}
\DoxyCodeLine{1701 }
\DoxyCodeLine{1704 \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} Policy = \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}},}
\DoxyCodeLine{1705           \textcolor{keyword}{typename} Iterator,}
\DoxyCodeLine{1706           \textcolor{keyword}{typename} Sentinel,}
\DoxyCodeLine{1707           \textcolor{keyword}{typename} KeyType = \textcolor{keyword}{decltype}((*std::declval<Iterator>()).\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}),}
\DoxyCodeLine{1708           \textcolor{keyword}{typename}... Extra>}
\DoxyCodeLine{1709 \mbox{\hyperlink{classiterator}{iterator}} \mbox{\hyperlink{pybind11_8h_a53d442f04a8921c7dcc4407b05420752}{make\_key\_iterator}}(Iterator \mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}, Sentinel \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}}, Extra \&\&... extra) \{}
\DoxyCodeLine{1710     \textcolor{keyword}{typedef} detail::iterator\_state<Iterator, Sentinel, true, Policy> state;}
\DoxyCodeLine{1711 }
\DoxyCodeLine{1712     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(\textcolor{keyword}{typeid}(state), \textcolor{keyword}{false})) \{}
\DoxyCodeLine{1713         \mbox{\hyperlink{classclass__}{class\_<state>}}(\mbox{\hyperlink{classhandle}{handle}}(), \textcolor{stringliteral}{"{}iterator"{}}, pybind11::module\_local())}
\DoxyCodeLine{1714             .\mbox{\hyperlink{classclass___a784165521ee3567aad69c3bce78a999a}{def}}(\textcolor{stringliteral}{"{}\_\_iter\_\_"{}}, [](state \&s) -\/> state\& \{ \textcolor{keywordflow}{return} s; \})}
\DoxyCodeLine{1715             .def(\textcolor{stringliteral}{"{}\_\_next\_\_"{}}, [](state \&s) -\/> KeyType \{}
\DoxyCodeLine{1716                 \textcolor{keywordflow}{if} (!s.first\_or\_done)}
\DoxyCodeLine{1717                     ++s.it;}
\DoxyCodeLine{1718                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{1719                     s.first\_or\_done = \textcolor{keyword}{false};}
\DoxyCodeLine{1720                 if (s.it == s.end) \{}
\DoxyCodeLine{1721                     s.first\_or\_done = true;}
\DoxyCodeLine{1722                     throw stop\_iteration();}
\DoxyCodeLine{1723                 \}}
\DoxyCodeLine{1724                 return (*s.it).first;}
\DoxyCodeLine{1725             \}, std::forward<Extra>(extra)..., Policy);}
\DoxyCodeLine{1726     \}}
\DoxyCodeLine{1727 }
\DoxyCodeLine{1728     \textcolor{keywordflow}{return} \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{cast}}(state\{\mbox{\hyperlink{detail_2common_8h_a71226eea81f24762754f1413e2ead78f}{first}}, \mbox{\hyperlink{detail_2common_8h_a16195acbb4bd947bbd0f805af9f2670b}{last}}, \textcolor{keyword}{true}\});}
\DoxyCodeLine{1729 \}}
\DoxyCodeLine{1730 }
\DoxyCodeLine{1733 \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} Policy = \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}},}
\DoxyCodeLine{1734           \textcolor{keyword}{typename} Type, \textcolor{keyword}{typename}... Extra> \mbox{\hyperlink{classiterator}{iterator}} \mbox{\hyperlink{pybind11_8h_aaa00ecd4f616ff84b63e81c8e17e457d}{make\_iterator}}(Type \&value, Extra\&\&... extra) \{}
\DoxyCodeLine{1735     \textcolor{keywordflow}{return} make\_iterator<Policy>(std::begin(value), \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{std::end}}(value), extra...);}
\DoxyCodeLine{1736 \}}
\DoxyCodeLine{1737 }
\DoxyCodeLine{1740 \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} Policy = \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841aa39bc0596cb125c1605a78fbd287df7f}{return\_value\_policy::reference\_internal}},}
\DoxyCodeLine{1741           \textcolor{keyword}{typename} Type, \textcolor{keyword}{typename}... Extra> \mbox{\hyperlink{classiterator}{iterator}} \mbox{\hyperlink{pybind11_8h_a53d442f04a8921c7dcc4407b05420752}{make\_key\_iterator}}(Type \&value, Extra\&\&... extra) \{}
\DoxyCodeLine{1742     \textcolor{keywordflow}{return} make\_key\_iterator<Policy>(std::begin(value), \mbox{\hyperlink{namespacelibsize_a5957fc1e6f6b0ee7cd77e1e062369d35}{std::end}}(value), extra...);}
\DoxyCodeLine{1743 \}}
\DoxyCodeLine{1744 }
\DoxyCodeLine{1745 \textcolor{keyword}{template} <\textcolor{keyword}{typename} InputType, \textcolor{keyword}{typename} OutputType> \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a271a0a8cc9839658c668492cbaa1035a}{implicitly\_convertible}}() \{}
\DoxyCodeLine{1746     \textcolor{keyword}{struct }set\_flag \{}
\DoxyCodeLine{1747         \textcolor{keywordtype}{bool} \&flag;}
\DoxyCodeLine{1748         set\_flag(\textcolor{keywordtype}{bool} \&flag) : flag(flag) \{ flag = \textcolor{keyword}{true}; \}}
\DoxyCodeLine{1749         \string~set\_flag() \{ flag = \textcolor{keyword}{false}; \}}
\DoxyCodeLine{1750     \};}
\DoxyCodeLine{1751     \textcolor{keyword}{auto} implicit\_caster = [](PyObject *obj, PyTypeObject *type) -\/> PyObject * \{}
\DoxyCodeLine{1752         \textcolor{keyword}{static} \textcolor{keywordtype}{bool} currently\_used = \textcolor{keyword}{false};}
\DoxyCodeLine{1753         \textcolor{keywordflow}{if} (currently\_used) \textcolor{comment}{// implicit conversions are non-\/reentrant}}
\DoxyCodeLine{1754             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1755         set\_flag flag\_helper(currently\_used);}
\DoxyCodeLine{1756         \textcolor{keywordflow}{if} (!detail::make\_caster<InputType>().load(obj, \textcolor{keyword}{false}))}
\DoxyCodeLine{1757             \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1758         \mbox{\hyperlink{classtuple}{tuple}} \mbox{\hyperlink{classargs}{args}}(1);}
\DoxyCodeLine{1759         \mbox{\hyperlink{classargs}{args}}[0] = obj;}
\DoxyCodeLine{1760         PyObject *result = PyObject\_Call((PyObject *) type, \mbox{\hyperlink{classargs}{args}}.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), \textcolor{keyword}{nullptr});}
\DoxyCodeLine{1761         \textcolor{keywordflow}{if} (result == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{1762             PyErr\_Clear();}
\DoxyCodeLine{1763         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{1764     \};}
\DoxyCodeLine{1765 }
\DoxyCodeLine{1766     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} tinfo = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(\textcolor{keyword}{typeid}(OutputType)))}
\DoxyCodeLine{1767         tinfo-\/>implicit\_conversions.push\_back(implicit\_caster);}
\DoxyCodeLine{1768     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1769         \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}implicitly\_convertible: Unable to find type "{}} + type\_id<OutputType>());}
\DoxyCodeLine{1770 \}}
\DoxyCodeLine{1771 }
\DoxyCodeLine{1772 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ExceptionTranslator>}
\DoxyCodeLine{1773 \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a0a77063d21919c13ddfeb8caf29eef59}{register\_exception\_translator}}(ExceptionTranslator\&\& translator) \{}
\DoxyCodeLine{1774     \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{detail::get\_internals}}().\mbox{\hyperlink{structinternals_a77114b8520f529d44be95aa700a7cd29}{registered\_exception\_translators}}.push\_front(}
\DoxyCodeLine{1775         std::forward<ExceptionTranslator>(translator));}
\DoxyCodeLine{1776 \}}
\DoxyCodeLine{1777 }
\DoxyCodeLine{1785 \textcolor{keyword}{template} <\textcolor{keyword}{typename} type>}
\DoxyCodeLine{1786 \textcolor{keyword}{class }\mbox{\hyperlink{classexception}{exception}} : \textcolor{keyword}{public} \mbox{\hyperlink{classobject}{object}} \{}
\DoxyCodeLine{1787 \textcolor{keyword}{public}:}
\DoxyCodeLine{1788     \mbox{\hyperlink{classexception_a54c9f127e402c9656e66514d1a977448}{exception}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{1789     \mbox{\hyperlink{classexception_a34fc75a5802151fdc02549ad85f81b7f}{exception}}(\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structscope}{scope}}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}, PyObject *\mbox{\hyperlink{structbase}{base}} = PyExc\_Exception) \{}
\DoxyCodeLine{1790         std::string full\_name = \mbox{\hyperlink{structscope}{scope}}.attr(\textcolor{stringliteral}{"{}\_\_name\_\_"{}}).cast<std::string>() +}
\DoxyCodeLine{1791                                 std::string(\textcolor{stringliteral}{"{}."{}}) + \mbox{\hyperlink{structname}{name}};}
\DoxyCodeLine{1792         \mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}} = PyErr\_NewException(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(full\_name.c\_str()), \mbox{\hyperlink{structbase}{base}}, NULL);}
\DoxyCodeLine{1793         \textcolor{keywordflow}{if} (\mbox{\hyperlink{group__python__builtins_gacc0a69f008d341c07ff939e0580c5985}{hasattr}}(\mbox{\hyperlink{structscope}{scope}}, \mbox{\hyperlink{structname}{name}}))}
\DoxyCodeLine{1794             \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}Error during initialization: multiple incompatible "{}}}
\DoxyCodeLine{1795                           \textcolor{stringliteral}{"{}definitions with name \(\backslash\)"{}"{}} + std::string(\mbox{\hyperlink{structname}{name}}) + \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}});}
\DoxyCodeLine{1796         \mbox{\hyperlink{structscope}{scope}}.attr(\mbox{\hyperlink{structname}{name}}) = *\textcolor{keyword}{this};}
\DoxyCodeLine{1797     \}}
\DoxyCodeLine{1798 }
\DoxyCodeLine{1799     \textcolor{comment}{// Sets the current python exception to this exception object with the given message}}
\DoxyCodeLine{1800     \textcolor{keywordtype}{void} \mbox{\hyperlink{classexception_ac9b98aed26c8e302721614222245da93}{operator()}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *message) \{}
\DoxyCodeLine{1801         PyErr\_SetString(\mbox{\hyperlink{classhandle_a1e9241eea11b47aa15559ccf6fb229f6}{m\_ptr}}, message);}
\DoxyCodeLine{1802     \}}
\DoxyCodeLine{1803 \};}
\DoxyCodeLine{1804 }
\DoxyCodeLine{1805 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{1806 \textcolor{comment}{// Returns a reference to a function-\/local static exception object used in the simple}}
\DoxyCodeLine{1807 \textcolor{comment}{// register\_exception approach below.  (It would be simpler to have the static local variable}}
\DoxyCodeLine{1808 \textcolor{comment}{// directly in register\_exception, but that makes clang <3.5 segfault -\/ issue \#1349).}}
\DoxyCodeLine{1809 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CppException>}
\DoxyCodeLine{1810 \mbox{\hyperlink{classexception}{exception<CppException>}} \&\mbox{\hyperlink{pybind11_8h_a2a418b49924ecc774541489d6e74f3d4}{get\_exception\_object}}() \{ \textcolor{keyword}{static} \mbox{\hyperlink{classexception}{exception<CppException>}} ex; \textcolor{keywordflow}{return} ex; \}}
\DoxyCodeLine{1811 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{1812 }
\DoxyCodeLine{1813 }
\DoxyCodeLine{1819 \textcolor{keyword}{template} <\textcolor{keyword}{typename} CppException>}
\DoxyCodeLine{1820 \mbox{\hyperlink{classexception}{exception<CppException>}} \&\mbox{\hyperlink{pybind11_8h_a5ed31cd3b863c5a47ffc88f6babef69e}{register\_exception}}(\mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{structscope}{scope}},}
\DoxyCodeLine{1821                                             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}},}
\DoxyCodeLine{1822                                             PyObject *\mbox{\hyperlink{structbase}{base}} = PyExc\_Exception) \{}
\DoxyCodeLine{1823     \textcolor{keyword}{auto} \&ex = detail::get\_exception\_object<CppException>();}
\DoxyCodeLine{1824     \textcolor{keywordflow}{if} (!ex) ex = \mbox{\hyperlink{classexception}{exception<CppException>}}(\mbox{\hyperlink{structscope}{scope}}, \mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{structbase}{base}});}
\DoxyCodeLine{1825 }
\DoxyCodeLine{1826     \mbox{\hyperlink{pybind11_8h_a0a77063d21919c13ddfeb8caf29eef59}{register\_exception\_translator}}([](std::exception\_ptr p) \{}
\DoxyCodeLine{1827         \textcolor{keywordflow}{if} (!p) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1828         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{1829             std::rethrow\_exception(p);}
\DoxyCodeLine{1830         \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} CppException \&e) \{}
\DoxyCodeLine{1831             detail::get\_exception\_object<CppException>()(e.what());}
\DoxyCodeLine{1832         \}}
\DoxyCodeLine{1833     \});}
\DoxyCodeLine{1834     \textcolor{keywordflow}{return} ex;}
\DoxyCodeLine{1835 \}}
\DoxyCodeLine{1836 }
\DoxyCodeLine{1837 \mbox{\hyperlink{detail_2common_8h_a577cd817cb71b655998cad4387cdaeba}{NAMESPACE\_BEGIN}}(detail)}
\DoxyCodeLine{1838 \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} inline \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a62bcafa97abdcadb6520a62e52331b89}{print}}(\mbox{\hyperlink{classtuple}{tuple}} \mbox{\hyperlink{classargs}{args}}, \mbox{\hyperlink{classdict}{dict}} \mbox{\hyperlink{classkwargs}{kwargs}}) \{}
\DoxyCodeLine{1839     \textcolor{keyword}{auto} strings = \mbox{\hyperlink{classtuple}{tuple}}(\mbox{\hyperlink{classargs}{args}}.\mbox{\hyperlink{classtuple_ab962c5f22da58f5d94f2107bec093f81}{size}}());}
\DoxyCodeLine{1840     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{classargs}{args}}.\mbox{\hyperlink{classtuple_ab962c5f22da58f5d94f2107bec093f81}{size}}(); ++i) \{}
\DoxyCodeLine{1841         strings[i] = \mbox{\hyperlink{classstr}{str}}(\mbox{\hyperlink{classargs}{args}}[i]);}
\DoxyCodeLine{1842     \}}
\DoxyCodeLine{1843     \textcolor{keyword}{auto} sep = \mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classdict_a2f38b348815bbbc385042b249b4177bc}{contains}}(\textcolor{stringliteral}{"{}sep"{}}) ? \mbox{\hyperlink{classkwargs}{kwargs}}[\textcolor{stringliteral}{"{}sep"{}}] : \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{cast}}(\textcolor{stringliteral}{"{} "{}});}
\DoxyCodeLine{1844     \textcolor{keyword}{auto} line = sep.attr(\textcolor{stringliteral}{"{}join"{}})(strings);}
\DoxyCodeLine{1845 }
\DoxyCodeLine{1846     \textcolor{keywordtype}{object} file;}
\DoxyCodeLine{1847     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classdict_a2f38b348815bbbc385042b249b4177bc}{contains}}(\textcolor{stringliteral}{"{}file"{}})) \{}
\DoxyCodeLine{1848         file = \mbox{\hyperlink{classkwargs}{kwargs}}[\textcolor{stringliteral}{"{}file"{}}].\mbox{\hyperlink{classobject_acf93eb705d6539ef22e2c4a8eebc4c68}{cast}}<\textcolor{keywordtype}{object}>();}
\DoxyCodeLine{1849     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1850         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{1851             file = \mbox{\hyperlink{classmodule_a40817edef0ded5727701534bcded9982}{module::import}}(\textcolor{stringliteral}{"{}sys"{}}).attr(\textcolor{stringliteral}{"{}stdout"{}});}
\DoxyCodeLine{1852         \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}} \&) \{}
\DoxyCodeLine{1853             \textcolor{comment}{/* If print() is called from code that is executed as}}
\DoxyCodeLine{1854 \textcolor{comment}{               part of garbage collection during interpreter shutdown,}}
\DoxyCodeLine{1855 \textcolor{comment}{               importing 'sys' can fail. Give up rather than crashing the}}
\DoxyCodeLine{1856 \textcolor{comment}{               interpreter in this case. */}}
\DoxyCodeLine{1857             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1858         \}}
\DoxyCodeLine{1859     \}}
\DoxyCodeLine{1860 }
\DoxyCodeLine{1861     \textcolor{keyword}{auto} \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}} = file.attr(\textcolor{stringliteral}{"{}write"{}});}
\DoxyCodeLine{1862     \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(line);}
\DoxyCodeLine{1863     \mbox{\hyperlink{namespacenvinfer1_a8455d49d12f876ef3c07a5df62bbe17c}{write}}(\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classdict_a2f38b348815bbbc385042b249b4177bc}{contains}}(\textcolor{stringliteral}{"{}end"{}}) ? \mbox{\hyperlink{classkwargs}{kwargs}}[\textcolor{stringliteral}{"{}end"{}}] : \mbox{\hyperlink{cast_8h_a42ebc557ef15690c3171a99f46d59aab}{cast}}(\textcolor{stringliteral}{"{}\(\backslash\)n"{}}));}
\DoxyCodeLine{1864 }
\DoxyCodeLine{1865     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classkwargs}{kwargs}}.\mbox{\hyperlink{classdict_a2f38b348815bbbc385042b249b4177bc}{contains}}(\textcolor{stringliteral}{"{}flush"{}}) \&\& \mbox{\hyperlink{classkwargs}{kwargs}}[\textcolor{stringliteral}{"{}flush"{}}].\mbox{\hyperlink{classobject_acf93eb705d6539ef22e2c4a8eebc4c68}{cast}}<\textcolor{keywordtype}{bool}>())}
\DoxyCodeLine{1866         file.attr(\textcolor{stringliteral}{"{}flush"{}})();}
\DoxyCodeLine{1867 \}}
\DoxyCodeLine{1868 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(detail)}
\DoxyCodeLine{1869 }
\DoxyCodeLine{1870 \textcolor{keyword}{template} <\mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841}{return\_value\_policy}} policy = \mbox{\hyperlink{detail_2common_8h_adde72ab1fb0dd4b48a5232c349a53841a1c1628c22d69b3b9bac4b5c3674852e3}{return\_value\_policy::automatic\_reference}}, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{1871 \textcolor{keywordtype}{void} \mbox{\hyperlink{pybind11_8h_a62bcafa97abdcadb6520a62e52331b89}{print}}(Args \&\&...\mbox{\hyperlink{classargs}{args}}) \{}
\DoxyCodeLine{1872     \textcolor{keyword}{auto} c = detail::collect\_arguments<policy>(std::forward<Args>(\mbox{\hyperlink{classargs}{args}})...);}
\DoxyCodeLine{1873     \mbox{\hyperlink{pybind11_8h_a62bcafa97abdcadb6520a62e52331b89}{detail::print}}(c.args(), c.kwargs());}
\DoxyCodeLine{1874 \}}
\DoxyCodeLine{1875 }
\DoxyCodeLine{1876 \textcolor{preprocessor}{\#if defined(WITH\_THREAD) \&\& !defined(PYPY\_VERSION)}}
\DoxyCodeLine{1877 }
\DoxyCodeLine{1878 \textcolor{comment}{/* The functions below essentially reproduce the PyGILState\_* API using a RAII}}
\DoxyCodeLine{1879 \textcolor{comment}{ * pattern, but there are a few important differences:}}
\DoxyCodeLine{1880 \textcolor{comment}{ *}}
\DoxyCodeLine{1881 \textcolor{comment}{ * 1. When acquiring the GIL from an non-\/main thread during the finalization}}
\DoxyCodeLine{1882 \textcolor{comment}{ *    phase, the GILState API blindly terminates the calling thread, which}}
\DoxyCodeLine{1883 \textcolor{comment}{ *    is often not what is wanted. This API does not do this.}}
\DoxyCodeLine{1884 \textcolor{comment}{ *}}
\DoxyCodeLine{1885 \textcolor{comment}{ * 2. The gil\_scoped\_release function can optionally cut the relationship}}
\DoxyCodeLine{1886 \textcolor{comment}{ *    of a PyThreadState and its associated thread, which allows moving it to}}
\DoxyCodeLine{1887 \textcolor{comment}{ *    another thread (this is a fairly rare/advanced use case).}}
\DoxyCodeLine{1888 \textcolor{comment}{ *}}
\DoxyCodeLine{1889 \textcolor{comment}{ * 3. The reference count of an acquired thread state can be controlled. This}}
\DoxyCodeLine{1890 \textcolor{comment}{ *    can be handy to prevent cases where callbacks issued from an external}}
\DoxyCodeLine{1891 \textcolor{comment}{ *    thread would otherwise constantly construct and destroy thread state data}}
\DoxyCodeLine{1892 \textcolor{comment}{ *    structures.}}
\DoxyCodeLine{1893 \textcolor{comment}{ *}}
\DoxyCodeLine{1894 \textcolor{comment}{ * See the Python bindings of NanoGUI (http://github.com/wjakob/nanogui) for an}}
\DoxyCodeLine{1895 \textcolor{comment}{ * example which uses features 2 and 3 to migrate the Python thread of}}
\DoxyCodeLine{1896 \textcolor{comment}{ * execution to another thread (to run the event loop on the original thread,}}
\DoxyCodeLine{1897 \textcolor{comment}{ * in this case).}}
\DoxyCodeLine{1898 \textcolor{comment}{ */}}
\DoxyCodeLine{1899 }
\DoxyCodeLine{1900 \textcolor{keyword}{class }\mbox{\hyperlink{classgil__scoped__acquire}{gil\_scoped\_acquire}} \{}
\DoxyCodeLine{1901 \textcolor{keyword}{public}:}
\DoxyCodeLine{1902     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \mbox{\hyperlink{classgil__scoped__acquire}{gil\_scoped\_acquire}}() \{}
\DoxyCodeLine{1903         \textcolor{keyword}{auto} \textcolor{keyword}{const} \&\mbox{\hyperlink{structinternals}{internals}} = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{detail::get\_internals}}();}
\DoxyCodeLine{1904         tstate = (PyThreadState *) \mbox{\hyperlink{internals_8h_a34975e6c272e654bc010ddd4cb584790}{PYBIND11\_TLS\_GET\_VALUE}}(\mbox{\hyperlink{structinternals}{internals}}.tstate);}
\DoxyCodeLine{1905 }
\DoxyCodeLine{1906         \textcolor{keywordflow}{if} (!tstate) \{}
\DoxyCodeLine{1907             \textcolor{comment}{/* Check if the GIL was acquired using the PyGILState\_* API instead (e.g. if}}
\DoxyCodeLine{1908 \textcolor{comment}{               calling from a Python thread). Since we use a different key, this ensures}}
\DoxyCodeLine{1909 \textcolor{comment}{               we don't create a new thread state and deadlock in PyEval\_AcquireThread}}
\DoxyCodeLine{1910 \textcolor{comment}{               below. Note we don't save this state with internals.tstate, since we don't}}
\DoxyCodeLine{1911 \textcolor{comment}{               create it we would fail to clear it (its reference count should be > 0). */}}
\DoxyCodeLine{1912             tstate = PyGILState\_GetThisThreadState();}
\DoxyCodeLine{1913         \}}
\DoxyCodeLine{1914 }
\DoxyCodeLine{1915         \textcolor{keywordflow}{if} (!tstate) \{}
\DoxyCodeLine{1916             tstate = PyThreadState\_New(\mbox{\hyperlink{structinternals}{internals}}.istate);}
\DoxyCodeLine{1917 \textcolor{preprocessor}{            \#if !defined(NDEBUG)}}
\DoxyCodeLine{1918                 \textcolor{keywordflow}{if} (!tstate)}
\DoxyCodeLine{1919                     \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}scoped\_acquire: could not create thread state!"{}});}
\DoxyCodeLine{1920 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{1921             tstate-\/>gilstate\_counter = 0;}
\DoxyCodeLine{1922             \mbox{\hyperlink{internals_8h_aad298889827f395dbffe2beed1770cdf}{PYBIND11\_TLS\_REPLACE\_VALUE}}(\mbox{\hyperlink{structinternals}{internals}}.tstate, tstate);}
\DoxyCodeLine{1923         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1924             release = \mbox{\hyperlink{cast_8h_a4e6f67dd9fc6d87d585af6093e524ccf}{detail::get\_thread\_state\_unchecked}}() != tstate;}
\DoxyCodeLine{1925         \}}
\DoxyCodeLine{1926 }
\DoxyCodeLine{1927         \textcolor{keywordflow}{if} (release) \{}
\DoxyCodeLine{1928             \textcolor{comment}{/* Work around an annoying assertion in PyThreadState\_Swap */}}
\DoxyCodeLine{1929 \textcolor{preprocessor}{            \#if defined(Py\_DEBUG)}}
\DoxyCodeLine{1930                 PyInterpreterState *interp = tstate-\/>interp;}
\DoxyCodeLine{1931                 tstate-\/>interp = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1932 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{1933             PyEval\_AcquireThread(tstate);}
\DoxyCodeLine{1934 \textcolor{preprocessor}{            \#if defined(Py\_DEBUG)}}
\DoxyCodeLine{1935                 tstate-\/>interp = interp;}
\DoxyCodeLine{1936 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{1937         \}}
\DoxyCodeLine{1938 }
\DoxyCodeLine{1939         inc\_ref();}
\DoxyCodeLine{1940     \}}
\DoxyCodeLine{1941 }
\DoxyCodeLine{1942     \textcolor{keywordtype}{void} inc\_ref() \{}
\DoxyCodeLine{1943         ++tstate-\/>gilstate\_counter;}
\DoxyCodeLine{1944     \}}
\DoxyCodeLine{1945 }
\DoxyCodeLine{1946     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \textcolor{keywordtype}{void} dec\_ref() \{}
\DoxyCodeLine{1947         -\/-\/tstate-\/>gilstate\_counter;}
\DoxyCodeLine{1948 \textcolor{preprocessor}{        \#if !defined(NDEBUG)}}
\DoxyCodeLine{1949             \textcolor{keywordflow}{if} (\mbox{\hyperlink{cast_8h_a4e6f67dd9fc6d87d585af6093e524ccf}{detail::get\_thread\_state\_unchecked}}() != tstate)}
\DoxyCodeLine{1950                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}scoped\_acquire::dec\_ref(): thread state must be current!"{}});}
\DoxyCodeLine{1951             \textcolor{keywordflow}{if} (tstate-\/>gilstate\_counter < 0)}
\DoxyCodeLine{1952                 \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}scoped\_acquire::dec\_ref(): reference count underflow!"{}});}
\DoxyCodeLine{1953 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{1954         \textcolor{keywordflow}{if} (tstate-\/>gilstate\_counter == 0) \{}
\DoxyCodeLine{1955 \textcolor{preprocessor}{            \#if !defined(NDEBUG)}}
\DoxyCodeLine{1956                 \textcolor{keywordflow}{if} (!release)}
\DoxyCodeLine{1957                     \mbox{\hyperlink{detail_2common_8h_aeea9746c2787bab3a5a0c983ef965520}{pybind11\_fail}}(\textcolor{stringliteral}{"{}scoped\_acquire::dec\_ref(): internal error!"{}});}
\DoxyCodeLine{1958 \textcolor{preprocessor}{            \#endif}}
\DoxyCodeLine{1959             PyThreadState\_Clear(tstate);}
\DoxyCodeLine{1960             PyThreadState\_DeleteCurrent();}
\DoxyCodeLine{1961             \mbox{\hyperlink{internals_8h_a4c96bfb72913196499ea2ce454963ae8}{PYBIND11\_TLS\_DELETE\_VALUE}}(\mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{detail::get\_internals}}().tstate);}
\DoxyCodeLine{1962             release = \textcolor{keyword}{false};}
\DoxyCodeLine{1963         \}}
\DoxyCodeLine{1964     \}}
\DoxyCodeLine{1965 }
\DoxyCodeLine{1966     \mbox{\hyperlink{detail_2common_8h_a1fb186b7494d5c576d902c0730ecbb71}{PYBIND11\_NOINLINE}} \mbox{\hyperlink{classgil__scoped__acquire}{\string~gil\_scoped\_acquire}}() \{}
\DoxyCodeLine{1967         dec\_ref();}
\DoxyCodeLine{1968         \textcolor{keywordflow}{if} (release)}
\DoxyCodeLine{1969            PyEval\_SaveThread();}
\DoxyCodeLine{1970     \}}
\DoxyCodeLine{1971 \textcolor{keyword}{private}:}
\DoxyCodeLine{1972     PyThreadState *tstate = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{1973     \textcolor{keywordtype}{bool} release = \textcolor{keyword}{true};}
\DoxyCodeLine{1974 \};}
\DoxyCodeLine{1975 }
\DoxyCodeLine{1976 \textcolor{keyword}{class }\mbox{\hyperlink{classgil__scoped__release}{gil\_scoped\_release}} \{}
\DoxyCodeLine{1977 \textcolor{keyword}{public}:}
\DoxyCodeLine{1978     \textcolor{keyword}{explicit} \mbox{\hyperlink{classgil__scoped__release}{gil\_scoped\_release}}(\textcolor{keywordtype}{bool} disassoc = \textcolor{keyword}{false}) : disassoc(disassoc) \{}
\DoxyCodeLine{1979         \textcolor{comment}{// `get\_internals()` must be called here unconditionally in order to initialize}}
\DoxyCodeLine{1980         \textcolor{comment}{// `internals.tstate` for subsequent `gil\_scoped\_acquire` calls. Otherwise, an}}
\DoxyCodeLine{1981         \textcolor{comment}{// initialization race could occur as multiple threads try `gil\_scoped\_acquire`.}}
\DoxyCodeLine{1982         \textcolor{keyword}{const} \textcolor{keyword}{auto} \&\mbox{\hyperlink{structinternals}{internals}} = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{detail::get\_internals}}();}
\DoxyCodeLine{1983         tstate = PyEval\_SaveThread();}
\DoxyCodeLine{1984         \textcolor{keywordflow}{if} (disassoc) \{}
\DoxyCodeLine{1985             \textcolor{keyword}{auto} key = \mbox{\hyperlink{structinternals}{internals}}.tstate;}
\DoxyCodeLine{1986             \mbox{\hyperlink{internals_8h_a4c96bfb72913196499ea2ce454963ae8}{PYBIND11\_TLS\_DELETE\_VALUE}}(key);}
\DoxyCodeLine{1987         \}}
\DoxyCodeLine{1988     \}}
\DoxyCodeLine{1989     \mbox{\hyperlink{classgil__scoped__release}{\string~gil\_scoped\_release}}() \{}
\DoxyCodeLine{1990         \textcolor{keywordflow}{if} (!tstate)}
\DoxyCodeLine{1991             \textcolor{keywordflow}{return};}
\DoxyCodeLine{1992         PyEval\_RestoreThread(tstate);}
\DoxyCodeLine{1993         \textcolor{keywordflow}{if} (disassoc) \{}
\DoxyCodeLine{1994             \textcolor{keyword}{auto} key = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{detail::get\_internals}}().tstate;}
\DoxyCodeLine{1995             \mbox{\hyperlink{internals_8h_aad298889827f395dbffe2beed1770cdf}{PYBIND11\_TLS\_REPLACE\_VALUE}}(key, tstate);}
\DoxyCodeLine{1996         \}}
\DoxyCodeLine{1997     \}}
\DoxyCodeLine{1998 \textcolor{keyword}{private}:}
\DoxyCodeLine{1999     PyThreadState *tstate;}
\DoxyCodeLine{2000     \textcolor{keywordtype}{bool} disassoc;}
\DoxyCodeLine{2001 \};}
\DoxyCodeLine{2002 \textcolor{preprocessor}{\#elif defined(PYPY\_VERSION)}}
\DoxyCodeLine{2003 \textcolor{keyword}{class }\mbox{\hyperlink{classgil__scoped__acquire}{gil\_scoped\_acquire}} \{}
\DoxyCodeLine{2004     PyGILState\_STATE state;}
\DoxyCodeLine{2005 \textcolor{keyword}{public}:}
\DoxyCodeLine{2006     \mbox{\hyperlink{classgil__scoped__acquire}{gil\_scoped\_acquire}}() \{ state = PyGILState\_Ensure(); \}}
\DoxyCodeLine{2007     \mbox{\hyperlink{classgil__scoped__acquire}{\string~gil\_scoped\_acquire}}() \{ PyGILState\_Release(state); \}}
\DoxyCodeLine{2008 \};}
\DoxyCodeLine{2009 }
\DoxyCodeLine{2010 \textcolor{keyword}{class }\mbox{\hyperlink{classgil__scoped__release}{gil\_scoped\_release}} \{}
\DoxyCodeLine{2011     PyThreadState *state;}
\DoxyCodeLine{2012 \textcolor{keyword}{public}:}
\DoxyCodeLine{2013     \mbox{\hyperlink{classgil__scoped__release}{gil\_scoped\_release}}() \{ state = PyEval\_SaveThread(); \}}
\DoxyCodeLine{2014     \mbox{\hyperlink{classgil__scoped__release}{\string~gil\_scoped\_release}}() \{ PyEval\_RestoreThread(state); \}}
\DoxyCodeLine{2015 \};}
\DoxyCodeLine{2016 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2017 \textcolor{keyword}{class }\mbox{\hyperlink{classgil__scoped__acquire}{gil\_scoped\_acquire}} \{ \};}
\DoxyCodeLine{2018 \textcolor{keyword}{class }\mbox{\hyperlink{classgil__scoped__release}{gil\_scoped\_release}} \{ \};}
\DoxyCodeLine{2019 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2020 }
\DoxyCodeLine{2021 \mbox{\hyperlink{classerror__already__set_a18ad333137ef5b23916ff207a38e9a6a}{error\_already\_set::\string~error\_already\_set}}() \{}
\DoxyCodeLine{2022     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classerror__already__set_a4fb1cc418f591ff6040619dd0766343f}{m\_type}}) \{}
\DoxyCodeLine{2023         \mbox{\hyperlink{classgil__scoped__acquire}{gil\_scoped\_acquire}} gil;}
\DoxyCodeLine{2024         \mbox{\hyperlink{structerror__scope}{error\_scope}} \mbox{\hyperlink{structscope}{scope}};}
\DoxyCodeLine{2025         \mbox{\hyperlink{classerror__already__set_a4fb1cc418f591ff6040619dd0766343f}{m\_type}}.\mbox{\hyperlink{classobject_a4ce66b1d44b37ae6b28e80228b075aae}{release}}().\mbox{\hyperlink{classhandle_a4bd9642229b0b331172c37b02aa73eda}{dec\_ref}}();}
\DoxyCodeLine{2026         \mbox{\hyperlink{classerror__already__set_adf0e7d9b24f3ca45d8e159090ac385dd}{m\_value}}.\mbox{\hyperlink{classobject_a4ce66b1d44b37ae6b28e80228b075aae}{release}}().\mbox{\hyperlink{classhandle_a4bd9642229b0b331172c37b02aa73eda}{dec\_ref}}();}
\DoxyCodeLine{2027         \mbox{\hyperlink{classerror__already__set_a0289c345099b55760dd13f076dbd9368}{m\_trace}}.\mbox{\hyperlink{classobject_a4ce66b1d44b37ae6b28e80228b075aae}{release}}().\mbox{\hyperlink{classhandle_a4bd9642229b0b331172c37b02aa73eda}{dec\_ref}}();}
\DoxyCodeLine{2028     \}}
\DoxyCodeLine{2029 \}}
\DoxyCodeLine{2030 }
\DoxyCodeLine{2031 \textcolor{keyword}{inline} \mbox{\hyperlink{classfunction}{function}} \mbox{\hyperlink{pybind11_8h_a9e918cccfeeabbbe9b1a42bba6b30a42}{get\_type\_overload}}(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *this\_ptr, \textcolor{keyword}{const} detail::type\_info *this\_type, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}})  \{}
\DoxyCodeLine{2032     \mbox{\hyperlink{classhandle}{handle}} \mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}} = \mbox{\hyperlink{cast_8h_add2d0d8e20d5b3730349455b9628e2f4}{detail::get\_object\_handle}}(this\_ptr, this\_type);}
\DoxyCodeLine{2033     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}})}
\DoxyCodeLine{2034         \textcolor{keywordflow}{return} \mbox{\hyperlink{classfunction}{function}}();}
\DoxyCodeLine{2035     \mbox{\hyperlink{classhandle}{handle}} type = \mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}}.get\_type();}
\DoxyCodeLine{2036     \textcolor{keyword}{auto} key = std::make\_pair(type.\mbox{\hyperlink{classhandle_aa58c40063166c7cedefdc4db2d6fa608}{ptr}}(), \mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{2037 }
\DoxyCodeLine{2038     \textcolor{comment}{/* Cache functions that aren't overloaded in Python to avoid}}
\DoxyCodeLine{2039 \textcolor{comment}{       many costly Python dictionary lookups below */}}
\DoxyCodeLine{2040     \textcolor{keyword}{auto} \&cache = \mbox{\hyperlink{internals_8h_a6c7959e5bcf56993e43c61758aa697ac}{detail::get\_internals}}().\mbox{\hyperlink{structinternals_a46a3096ec216e6229e944bbc6cff7b3d}{inactive\_overload\_cache}};}
\DoxyCodeLine{2041     \textcolor{keywordflow}{if} (cache.find(key) != cache.end())}
\DoxyCodeLine{2042         \textcolor{keywordflow}{return} \mbox{\hyperlink{classfunction}{function}}();}
\DoxyCodeLine{2043 }
\DoxyCodeLine{2044     \mbox{\hyperlink{classfunction}{function}} overload = \mbox{\hyperlink{group__python__builtins_ga6343b45dbc05aa5698562c291766743a}{getattr}}(\mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}}, \mbox{\hyperlink{structname}{name}}, \mbox{\hyperlink{classfunction}{function}}());}
\DoxyCodeLine{2045     \textcolor{keywordflow}{if} (overload.\mbox{\hyperlink{classfunction_accf0840a607c586ac159024928b98c49}{is\_cpp\_function}}()) \{}
\DoxyCodeLine{2046         cache.insert(key);}
\DoxyCodeLine{2047         \textcolor{keywordflow}{return} \mbox{\hyperlink{classfunction}{function}}();}
\DoxyCodeLine{2048     \}}
\DoxyCodeLine{2049 }
\DoxyCodeLine{2050     \textcolor{comment}{/* Don't call dispatch code if invoked from overridden function.}}
\DoxyCodeLine{2051 \textcolor{comment}{       Unfortunately this doesn't work on PyPy. */}}
\DoxyCodeLine{2052 \textcolor{preprocessor}{\#if !defined(PYPY\_VERSION)}}
\DoxyCodeLine{2053     PyFrameObject *frame = PyThreadState\_Get()-\/>frame;}
\DoxyCodeLine{2054     \textcolor{keywordflow}{if} (frame \&\& (std::string) \mbox{\hyperlink{classstr}{str}}(frame-\/>f\_code-\/>co\_name) == \mbox{\hyperlink{structname}{name}} \&\&}
\DoxyCodeLine{2055         frame-\/>f\_code-\/>co\_argcount > 0) \{}
\DoxyCodeLine{2056         PyFrame\_FastToLocals(frame);}
\DoxyCodeLine{2057         PyObject *self\_caller = PyDict\_GetItem(}
\DoxyCodeLine{2058             frame-\/>f\_locals, PyTuple\_GET\_ITEM(frame-\/>f\_code-\/>co\_varnames, 0));}
\DoxyCodeLine{2059         \textcolor{keywordflow}{if} (self\_caller == \mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}}.ptr())}
\DoxyCodeLine{2060             \textcolor{keywordflow}{return} \mbox{\hyperlink{classfunction}{function}}();}
\DoxyCodeLine{2061     \}}
\DoxyCodeLine{2062 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2063     \textcolor{comment}{/* PyPy currently doesn't provide a detailed cpyext emulation of}}
\DoxyCodeLine{2064 \textcolor{comment}{       frame objects, so we have to emulate this using Python. This}}
\DoxyCodeLine{2065 \textcolor{comment}{       is going to be slow..*/}}
\DoxyCodeLine{2066     \mbox{\hyperlink{classdict}{dict}} \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}; \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[\textcolor{stringliteral}{"{}self"{}}] = \mbox{\hyperlink{operators_8h_af4dd1b150253900ea502952376f42a42}{self}}; \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[\textcolor{stringliteral}{"{}name"{}}] = pybind11::str(\mbox{\hyperlink{structname}{name}});}
\DoxyCodeLine{2067     PyObject *result = PyRun\_String(}
\DoxyCodeLine{2068         \textcolor{stringliteral}{"{}import inspect\(\backslash\)n"{}}}
\DoxyCodeLine{2069         \textcolor{stringliteral}{"{}frame = inspect.currentframe()\(\backslash\)n"{}}}
\DoxyCodeLine{2070         \textcolor{stringliteral}{"{}if frame is not None:\(\backslash\)n"{}}}
\DoxyCodeLine{2071         \textcolor{stringliteral}{"{}    frame = frame.f\_back\(\backslash\)n"{}}}
\DoxyCodeLine{2072         \textcolor{stringliteral}{"{}    if frame is not None and str(frame.f\_code.co\_name) == name and "{}}}
\DoxyCodeLine{2073         \textcolor{stringliteral}{"{}frame.f\_code.co\_argcount > 0:\(\backslash\)n"{}}}
\DoxyCodeLine{2074         \textcolor{stringliteral}{"{}        self\_caller = frame.f\_locals[frame.f\_code.co\_varnames[0]]\(\backslash\)n"{}}}
\DoxyCodeLine{2075         \textcolor{stringliteral}{"{}        if self\_caller == self:\(\backslash\)n"{}}}
\DoxyCodeLine{2076         \textcolor{stringliteral}{"{}            self = None\(\backslash\)n"{}},}
\DoxyCodeLine{2077         Py\_file\_input, \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}.ptr(), \mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}.ptr());}
\DoxyCodeLine{2078     \textcolor{keywordflow}{if} (result == \textcolor{keyword}{nullptr})}
\DoxyCodeLine{2079         \textcolor{keywordflow}{throw} \mbox{\hyperlink{classerror__already__set}{error\_already\_set}}();}
\DoxyCodeLine{2080     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacemkdoc_a85ae95dfe8536ee978dcacf1f5dcfe00}{d}}[\textcolor{stringliteral}{"{}self"{}}].is\_none())}
\DoxyCodeLine{2081         \textcolor{keywordflow}{return} \mbox{\hyperlink{classfunction}{function}}();}
\DoxyCodeLine{2082     Py\_DECREF(result);}
\DoxyCodeLine{2083 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2084 }
\DoxyCodeLine{2085     \textcolor{keywordflow}{return} overload;}
\DoxyCodeLine{2086 \}}
\DoxyCodeLine{2087 }
\DoxyCodeLine{2096 \textcolor{keyword}{template} <\textcolor{keyword}{class} T> \mbox{\hyperlink{classfunction}{function}} \mbox{\hyperlink{pybind11_8h_a6e5733211206597cdff171d9d43d8332}{get\_overload}}(\textcolor{keyword}{const} T *this\_ptr, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\mbox{\hyperlink{structname}{name}}) \{}
\DoxyCodeLine{2097     \textcolor{keyword}{auto} tinfo = \mbox{\hyperlink{cast_8h_a7cfdf88b5c39ce38304d9237a2006ecc}{detail::get\_type\_info}}(\textcolor{keyword}{typeid}(T));}
\DoxyCodeLine{2098     \textcolor{keywordflow}{return} tinfo ? \mbox{\hyperlink{pybind11_8h_a9e918cccfeeabbbe9b1a42bba6b30a42}{get\_type\_overload}}(this\_ptr, tinfo, \mbox{\hyperlink{structname}{name}}) : \mbox{\hyperlink{classfunction}{function}}();}
\DoxyCodeLine{2099 \}}
\DoxyCodeLine{2100 }
\DoxyCodeLine{2101 \textcolor{preprocessor}{\#define PYBIND11\_OVERLOAD\_INT(ret\_type, cname, name, ...) \{ \(\backslash\)}}
\DoxyCodeLine{2102 \textcolor{preprocessor}{        pybind11::gil\_scoped\_acquire gil; \(\backslash\)}}
\DoxyCodeLine{2103 \textcolor{preprocessor}{        pybind11::function overload = pybind11::get\_overload(static\_cast<const cname *>(this), name); \(\backslash\)}}
\DoxyCodeLine{2104 \textcolor{preprocessor}{        if (overload) \{ \(\backslash\)}}
\DoxyCodeLine{2105 \textcolor{preprocessor}{            auto o = overload(\_\_VA\_ARGS\_\_); \(\backslash\)}}
\DoxyCodeLine{2106 \textcolor{preprocessor}{            if (pybind11::detail::cast\_is\_temporary\_value\_reference<ret\_type>::value) \{ \(\backslash\)}}
\DoxyCodeLine{2107 \textcolor{preprocessor}{                static pybind11::detail::overload\_caster\_t<ret\_type> caster; \(\backslash\)}}
\DoxyCodeLine{2108 \textcolor{preprocessor}{                return pybind11::detail::cast\_ref<ret\_type>(std::move(o), caster); \(\backslash\)}}
\DoxyCodeLine{2109 \textcolor{preprocessor}{            \} \(\backslash\)}}
\DoxyCodeLine{2110 \textcolor{preprocessor}{            else return pybind11::detail::cast\_safe<ret\_type>(std::move(o)); \(\backslash\)}}
\DoxyCodeLine{2111 \textcolor{preprocessor}{        \} \(\backslash\)}}
\DoxyCodeLine{2112 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{2113 }
\DoxyCodeLine{2131 \textcolor{preprocessor}{\#define PYBIND11\_OVERLOAD\_NAME(ret\_type, cname, name, fn, ...) \(\backslash\)}}
\DoxyCodeLine{2132 \textcolor{preprocessor}{    PYBIND11\_OVERLOAD\_INT(PYBIND11\_TYPE(ret\_type), PYBIND11\_TYPE(cname), name, \_\_VA\_ARGS\_\_) \(\backslash\)}}
\DoxyCodeLine{2133 \textcolor{preprocessor}{    return cname::fn(\_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{2134 }
\DoxyCodeLine{2139 \textcolor{preprocessor}{\#define PYBIND11\_OVERLOAD\_PURE\_NAME(ret\_type, cname, name, fn, ...) \(\backslash\)}}
\DoxyCodeLine{2140 \textcolor{preprocessor}{    PYBIND11\_OVERLOAD\_INT(PYBIND11\_TYPE(ret\_type), PYBIND11\_TYPE(cname), name, \_\_VA\_ARGS\_\_) \(\backslash\)}}
\DoxyCodeLine{2141 \textcolor{preprocessor}{    pybind11::pybind11\_fail("{}Tried to call pure virtual function \(\backslash\)"{}"{}} PYBIND11\_STRINGIFY(cname) "{}::"{} name "{}\(\backslash\)"{}"{});}
\DoxyCodeLine{2142 }
\DoxyCodeLine{2167 \textcolor{preprocessor}{\#define PYBIND11\_OVERLOAD(ret\_type, cname, fn, ...) \(\backslash\)}}
\DoxyCodeLine{2168 \textcolor{preprocessor}{    PYBIND11\_OVERLOAD\_NAME(PYBIND11\_TYPE(ret\_type), PYBIND11\_TYPE(cname), \#fn, fn, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{2169 }
\DoxyCodeLine{2174 \textcolor{preprocessor}{\#define PYBIND11\_OVERLOAD\_PURE(ret\_type, cname, fn, ...) \(\backslash\)}}
\DoxyCodeLine{2175 \textcolor{preprocessor}{    PYBIND11\_OVERLOAD\_PURE\_NAME(PYBIND11\_TYPE(ret\_type), PYBIND11\_TYPE(cname), \#fn, fn, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{2176 }
\DoxyCodeLine{2177 \mbox{\hyperlink{detail_2common_8h_a12bb24ea980ca8fb1f46b1992bc9c83a}{NAMESPACE\_END}}(\mbox{\hyperlink{detail_2common_8h_a0d3c06cceaa89be29b71719a825444c6}{PYBIND11\_NAMESPACE}})}
\DoxyCodeLine{2178 }
\DoxyCodeLine{2179 \textcolor{preprocessor}{\#if defined(\_MSC\_VER) \&\& !defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{2180 \textcolor{preprocessor}{\#  pragma warning(pop)}}
\DoxyCodeLine{2181 \textcolor{preprocessor}{\#elif defined(\_\_GNUG\_\_) \&\& !defined(\_\_clang\_\_)}}
\DoxyCodeLine{2182 \textcolor{preprocessor}{\#  pragma GCC diagnostic pop}}
\DoxyCodeLine{2183 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
